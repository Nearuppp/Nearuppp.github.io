<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/e4af272ccee01ff0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" as="image" href="Carte%20RS232.md"/><link rel="preload" as="image" href="Chronogramme%20niveau%20logique.md"/><link rel="preload" as="image" href="Pasted%20image%2020250328094319.png"/><link rel="preload" as="image" href="Broche%20STM32.md"/><link rel="stylesheet" href="/_next/static/css/45f8aa93ae81327e.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-a3760f0212ccbb12.js"/><script src="/_next/static/chunks/fd9d1056-3750f1c68fb99acb.js" async=""></script><script src="/_next/static/chunks/117-eb26ec6fd88fb5e5.js" async=""></script><script src="/_next/static/chunks/main-app-8bede5a742047e77.js" async=""></script><script src="/_next/static/chunks/671-870bf4da9bc73117.js" async=""></script><script src="/_next/static/chunks/app/knowledge-hub/%5Bslug%5D/page-a57df3892695a452.js" async=""></script><script src="/_next/static/chunks/app/layout-23fdfd89875a333b.js" async=""></script><title>Travaux Dirige of Bus of Communication | Matthieu GUYOT</title><meta name="description" content="A technical overview of communication interfaces, covering logical and physical adaptations for data exchange in digital and analog systems."/><meta name="generator" content="v0.dev"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__className_e8ce0c"><script>((e,t,r,n,a,o,l,i)=>{let u=document.documentElement,s=["light","dark"];function c(t){(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,n=r&&o?a.map(e=>o[e]||e):a;r?(u.classList.remove(...n),u.classList.add(o&&o[t]?o[t]:t)):u.setAttribute(e,t)}),i&&s.includes(t)&&(u.style.colorScheme=t)}if(n)c(n);else try{let e=localStorage.getItem(t)||r,n=l&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;c(n)}catch(e){}})("class","theme","system",null,["light","dark"],null,true,true)</script><main class="min-h-screen bg-background"><header class="fixed top-0 left-0 right-0 z-50 transition-all duration-300 bg-transparent"><div class="container mx-auto px-4 py-4 flex items-center justify-between"><a class="text-xl font-bold tracking-tight text-primary" href="/">Matthieu GUYOT</a><nav class="hidden md:flex items-center gap-6"><a class="text-muted-foreground hover:text-primary transition-colors" href="/">Home</a><a class="text-muted-foreground hover:text-primary transition-colors" href="/about/">About</a><a class="text-muted-foreground hover:text-primary transition-colors" href="/projects/">Projects</a><a class="text-muted-foreground hover:text-primary transition-colors" href="/knowledge-hub/">Knowledge Hub</a><a class="text-muted-foreground hover:text-primary transition-colors" href="/tags/">Tags</a><a class="text-muted-foreground hover:text-primary transition-colors" href="/resume/">Resume</a><a class="text-muted-foreground hover:text-primary transition-colors" href="/contact/">Contact</a><button class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full" type="button" id="radix-:Rkmfnnkq:" aria-haspopup="menu" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sun h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-moon absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg><span class="sr-only">Toggle theme</span></button></nav><div class="flex items-center gap-4 md:hidden"><button class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full" type="button" id="radix-:Remfnnkq:" aria-haspopup="menu" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sun h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-moon absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg><span class="sr-only">Toggle theme</span></button><button class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10" aria-label="Toggle menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu h-6 w-6"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button></div></div></header><article class="py-20 pt-32"><div class="container mx-auto px-4 max-w-4xl"><div class="mb-8"><a href="/knowledge-hub/"><button class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 gap-2"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-left h-4 w-4"><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg>Back to Knowledge Hub</button></a></div><div class="bg-card p-8 rounded-lg shadow-sm"><div class="mb-6"><h1 class="text-3xl font-bold mb-4">Travaux Dirige of Bus of Communication</h1><div class="flex items-center gap-2 text-muted-foreground mb-4"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar h-4 w-4"><path d="M8 2v4"></path><path d="M16 2v4"></path><rect width="18" height="18" x="3" y="4" rx="2"></rect><path d="M3 10h18"></path></svg><span>2025-07-29</span></div><div class="flex flex-wrap gap-2 mb-6"><a href="/tags/Electronics/"><div class="rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground flex items-center gap-1 hover:bg-primary/10 cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-tag h-3 w-3"><path d="M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"></path><circle cx="7.5" cy="7.5" r=".5" fill="currentColor"></circle></svg>Electronics</div></a><a href="/tags/Communication/"><div class="rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground flex items-center gap-1 hover:bg-primary/10 cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-tag h-3 w-3"><path d="M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"></path><circle cx="7.5" cy="7.5" r=".5" fill="currentColor"></circle></svg>Communication</div></a><a href="/tags/Interfaces/"><div class="rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground flex items-center gap-1 hover:bg-primary/10 cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-tag h-3 w-3"><path d="M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"></path><circle cx="7.5" cy="7.5" r=".5" fill="currentColor"></circle></svg>Interfaces</div></a><a href="/tags/Tutorial/"><div class="rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground flex items-center gap-1 hover:bg-primary/10 cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-tag h-3 w-3"><path d="M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"></path><circle cx="7.5" cy="7.5" r=".5" fill="currentColor"></circle></svg>Tutorial</div></a><a href="/tags/DigitalSystems/"><div class="rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground flex items-center gap-1 hover:bg-primary/10 cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-tag h-3 w-3"><path d="M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"></path><circle cx="7.5" cy="7.5" r=".5" fill="currentColor"></circle></svg>DigitalSystems</div></a><a href="/tags/French/"><div class="rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground flex items-center gap-1 hover:bg-primary/10 cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-tag h-3 w-3"><path d="M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"></path><circle cx="7.5" cy="7.5" r=".5" fill="currentColor"></circle></svg>French</div></a></div><div class="bg-muted/30 p-4 rounded-lg mb-6"><p class="italic">A technical overview of communication interfaces, covering logical and physical adaptations for data exchange in digital and analog systems.</p></div></div><div class="markdown max-w-none"><h2>Objectif</h2>
<p>Mise en oeuvre d&#x27;une liaison serie asynchrone type RS232 autour du STM32.</p>
<h2>Sujet</h2>
<p>On se propose de concevoir un programme qui permettra au STM32 de communiquer avec un PC via Putty.</p>
<ul>
<li>Putty transmet sur le port serie choisi, les codes ASCII correspondant aux touches frappees au clavier. La frappe de la touche &#x27;A&#x27; envoie le code ASCII de la lettre &#x27;A&#x27; sur le port serie du PC (ligne TD).</li>
<li>Putty affiche dans sa fenetre de reception les caracteres associes aux codes ASCII recus sur sont port serie.</li>
</ul>
<h2>PARTIE 1 : etude du standard RS232</h2>
<h3>A) Representez la connexion RS232 minimal entre le PC et la carte a MCBSTM32C pour une liaison Duplex.</h3>
<p>Pour repondre, determinez le type de chaque appareil (ETTD ou ETCD) en vous aidant du schema en annexe.</p>
<p><img src="Carte%20RS232.md" alt="Carte RS232"/><br/>
On peut voire que c&#x27;est un ETTD. Car c&#x27;est un ordinateur</p>





























<table><thead><tr><th>Signal</th><th>ETTD</th><th>DB9</th><th>DB9 MCBSTM32C (Role ETCD)</th></tr></thead><tbody><tr><td>RX</td><td>2</td><td>2</td><td>TX ==RX==</td></tr><tr><td>TX</td><td>3</td><td>3</td><td>RX ==TX==</td></tr><tr><td>GND</td><td>5 (male)</td><td>5 (femelle)</td><td></td></tr></tbody></table>
<p>Cable droit entre ETTD et DB9</p>
<h3>B) On transmet l&#x27;octet 0xAA sur une liaison serie asynchrone a 9600 bits/s avec 1 bit de stop et une parite paire</h3>
<h4>1) dessinez le chronogramme en niveau logique de la ligne TD</h4>
<p>Bit OxAA = 1010 1010</p>
<h4>2) dessinez le chronogramme en tension de la ligne TD au format RS232</h4>
<p><img src="Chronogramme%20niveau%20logique.md" alt="Chronogramme niveau logique"/></p>
<h2>PARTIE 2 : etude de l&#x27;USART et du STM32 pour une liaison asynchrone</h2>
<p>On veut ecrire un programme qui permette de recevoir des caracteres par scrutation (polling) des registres.</p>
<h3>1) Lire la documentation technique des ports serie du STM32 (page 92)</h3>
<h3>2) Donnez les valeurs bit a bit des registres pour configurer l&#x27;USART2 comme suit :</h3>
<ul>
<li>CR1
<ul>
<li>Autorisation de l&#x27;USART et blocage de l&#x27;émetteur et du récepteur</li>
</ul>
</li>
<li>BRR
<ul>
<li>Vitesse de communication de 9600 Baud</li>
</ul>
</li>
<li>CR1 / CR2 / CR3
<ul>
<li>Mode normal, parité impaire, 7bits/caractère (hors parite), 1 bit de STOP</li>
<li>Pas de commande automatique de RTS et CTS</li>
<li>Masquer toutes les interruptions émise par l&#x27;USART<br/>
Le bit de stop est a 00 car dans la documentation montre que 1bit de stop est egale a 00</li>
</ul>
</li>
</ul>
<p>Parite 7 bit donc CR1 word length = 0</p>
<p>9600 * (16 * USART DIV) = 36 MHz<br/>
16 * USART DIV = 36 Mhz/9600<br/>
USART DIV = (36 Mhz/9600s) / 16</p>
<p><img src="Pasted%20image%2020250328094319.png" alt="Pasted image 20250328094319"/><br/>
define USART2 ((USART_TypeDef*)USART2_BASE)<br/>
USART 2 - &gt; BRR = 0xEA6;</p>
<h3>3) Selon vous doit-on initialiser d&#x27;autre fonctions ou registres?</h3>
<ul>
<li>Activer les horloges de l&#x27;USART et du GPIOD</li>
<li>Rediriger l&#x27;USART2 sur le GPIOD ( AFIO )</li>
<li>Programme les lignes GPIOD selon les fonctionnalite</li>
</ul>
<h2>Partie 3 : parametrage en langage C</h2>
<h3>1) Pour programmer en C les différents registres du STM32F107, nous allons utiliser le fichier stm32f10x_cl.h</h3>
<ul>
<li>Lisez ce fichier et expliquer sont utilité(certaines définitions sont fournies en annexe de ce TD).</li>
<li>D&#x27;après la documentation des ports série asynchrones et sachant que l&#x27;adresse de base est 0x40014400, expliquez pourquoi le type de base des registres est un &quot;uint16_t&quot; et pourquoi on utilise des champs nommes &quot;RESERVEDn&quot; dans la structure globale?</li>
</ul>
<ol>
<li>Pas besoin de redéfinir les registres</li>
<li>reserved Pour que la structure logicielle soit identique a la structure matérielle (offsets et tailles)</li>
</ol>
<h3>2) En utilisant stm32f10x_cl.h ecrivez les instructions C pour initialiser le port serie 2 du STM32F107 avec les parametres vus dans &quot;PARTIE 2/2&quot;. Pour l&#x27;ordre d&#x27;initialisation des registres, vous referer a la documentation.</h3>
<p>void init USART2(void)<br/>
{<br/>
//activer l&#x27;horloge USART2 (ABB1)<br/>
}</p>
<p>USART2 -&gt; BRR = 0xEA6; //Example<br/>
7 6 5 4 3 2 1 0<br/>
F E P C B A x 0<br/>
0 0 1 0 0 0 0 1<br/>
2       1</p>
<pre><code class="language-c">void initSerial(void){
	 RCC - &gt; APB2ENR |=0x21;//init horloges AFIO et GPIOD
	 RCC - &gt; APB1ENR |=1&lt;&lt;17;//init horloge USART 2
	 AFIO - &gt; MAPR//redirection de l&#x27;USART2
					// 76543210 Ligne active
	 GPIOD - &gt; CRL &amp;=0xF00FFFFF // configuration des lignes 5 et 6 a 0 
	 GPIOD - &gt; CRL |=0x04B00000//PD5 entree flottante
	 //PD6 sortie et alternative
	 USART2 - &gt; BRR = 0xEA6
	 USART2 - &gt; CR2 = 0;
	 USART2 - &gt; CR3 = 0;
	 for(i=0;i&lt;0x100,i++)__NOP(); //eviter un envoie de connecteur
	 USART2 - &gt; CRL =0x2608; // USART2 en reception
}

int main(void){
	SystemInit();//Init de la PLLet des horloges systeme
	initSerial();//init USART2
	GLCD_Init(); //init LCD
	while(1){
		while((USART -&gt;SR &amp;0x20)!=0x20){}//attendre l&#x27;arrivee d&#x27;un caractere
	message[i]=USART2-&gt;DR &amp;0x7F; //7bits
	message[i+1]=&quot;\0&quot;;//ajouter la fin de la chaine
	} //boucle infinie
}
</code></pre>
<p><img src="Broche%20STM32.md" alt="Broche STM32"/></p>
<h2>Partie 4 : Programme de réception de caractères</h2>
<p>On désire stocker dans un tableau les 10 prochains caractères reçus sur le port série. Pour être averti de l&#x27;arrivée d&#x27;un caractère, il faut scruter un bit particulier du registre d&#x27;état SR.<br/>
Ecrivez le programme correspondant en C.</p>
<pre><code class="language-c">#include &lt;stdint.h&gt;

#define SR    (*(volatile uint8_t*)0x40013800)  // Adresse fictive du registre d&#x27;état
#define DR    (*(volatile uint8_t*)0x40013804)  // Adresse fictive du registre de données
#define RXNE  (1 &lt;&lt; 5)  // Supposons que le bit 5 de SR indique la disponibilité des données

void reception_characters(void) {
    char buffer[10];  // Tableau pour stocker les caractères reçus
    int count = 0;

    while (count &lt; 10) {
        if (SR &amp; RXNE) {  // Vérifie si un caractère est disponible
            buffer[count] = DR;  // Lecture du caractère
            count++;  // Incrémente le compteur
        }
    }// À ce stade, le buffer contient les 10 caractères reçus
}
</code></pre>
<p>Documentation fichier : <a href="stm32f10x_cl.h.md">stm32f10x_cl.h</a></p>
<h2>Partie 5 : Programme d&#x27;émission de caractères</h2>
<h3>1) Lorsque l&#x27;UART est configure, on envoie un caractère en l&#x27;écrivant dans le registre DR. Un programme peut-il envoyer plusieurs caractères en les écrivant de façon consécutive dans le registrer DR ?</h3>
<p>Non : il faut attendre l&#x27;envoi du caractère précèdent</p>
<pre><code class="language-Algo">debut
	init horloges system
	init USART2 en transmission
	faire
		attendre que TXE passe a 1
		si 1=0 envoyer &quot;1&quot; 1&lt;-1
		sinon enovyer &quot;2&quot; 1&lt;-0
		fin si
	toujours
fin
</code></pre>
<pre><code class="language-c">#include &lt;stdint.h&gt;

#define SR    (*(volatile uint8_t*)0x40004400)  // Registre d&#x27;état USART2 (adresse fictive)
#define DR    (*(volatile uint8_t*)0x40004404)  // Registre de données USART2
#define TXE   (1 &lt;&lt; 7)  // Bit TXE dans SR (prêt à transmettre)

void init_system_clock(void) {
    // Initialisation des horloges (dépend du microcontrôleur, à compléter)
}

void init_USART2(void) {
    // Configuration de l&#x27;USART2 en mode transmission (à compléter)
}

void send_char(char c) {
    while (!(SR &amp; TXE));  // Attendre que TXE soit à 1 (prêt à transmettre)
    DR = c;  // Envoyer le caractère
}

int main(void) {
    init_system_clock();
    init_USART2();

    uint8_t etat = 0;

    while (1) {  // Boucle infinie
        if (etat == 0) {
            send_char(&#x27;1&#x27;);
            etat = 1;
        } else {
            send_char(&#x27;2&#x27;);
            etat = 0;
        }
    }
    
    return 0;  // Jamais atteint
}

</code></pre>
<h3>2) Donnez un algorithme pour émettre alternativement les octets 31h puis 32h.</h3>
<h3>3) Ecrire le programme correspondant en C (initialisations + scrutation)</h3></div></div></div></article><footer class="bg-muted/50 py-12"><div class="container mx-auto px-4"><div class="flex flex-col md:flex-row justify-between items-center"><div class="mb-6 md:mb-0"><a class="text-xl font-bold tracking-tight" href="/">Matthieu GUYOT</a><p class="text-muted-foreground mt-2 max-w-md">Building the future with code and security. Passionate about technology, cybersecurity, and knowledge sharing.</p></div><div class="flex flex-col items-center md:items-end"><div class="flex space-x-4 mb-4"><a href="https://github.com/Nearuppp" target="_blank" rel="noopener noreferrer" aria-label="GitHub" class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 h-10 w-10 rounded-full hover:bg-primary/10 hover:text-primary"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github h-5 w-5"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg></a><a href="https://www.linkedin.com/in/3-100matthieuguyot/" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn" class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 h-10 w-10 rounded-full hover:bg-primary/10 hover:text-primary"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-linkedin h-5 w-5"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect width="4" height="12" x="2" y="9"></rect><circle cx="4" cy="4" r="2"></circle></svg></a></div><p class="text-sm text-muted-foreground">© <!-- -->2025<!-- --> Matthieu GUYOT. All rights reserved.</p></div></div></div></footer></main><script src="/_next/static/chunks/webpack-a3760f0212ccbb12.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/e4af272ccee01ff0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/css/45f8aa93ae81327e.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"3:I[2846,[],\"\"]\n5:I[168,[\"671\",\"static/chunks/671-870bf4da9bc73117.js\",\"242\",\"static/chunks/app/knowledge-hub/%5Bslug%5D/page-a57df3892695a452.js\"],\"default\"]\n6:I[2972,[\"671\",\"static/chunks/671-870bf4da9bc73117.js\",\"242\",\"static/chunks/app/knowledge-hub/%5Bslug%5D/page-a57df3892695a452.js\"],\"\"]\n7:I[4707,[],\"\"]\n9:I[6423,[],\"\"]\na:I[2798,[\"185\",\"static/chunks/app/layout-23fdfd89875a333b.js\"],\"ThemeProvider\"]\nc:I[1060,[],\"\"]\n8:[\"slug\",\"td-bus-de-communication-md\",\"d\"]\nd:[]\n"])</script><script>self.__next_f.push([1,"0:[\"$\",\"$L3\",null,{\"buildId\":\"OndCkgYiz6_LrGL1nuWc2\",\"assetPrefix\":\"\",\"urlParts\":[\"\",\"knowledge-hub\",\"td-bus-de-communication-md\",\"\"],\"initialTree\":[\"\",{\"children\":[\"knowledge-hub\",{\"children\":[[\"slug\",\"td-bus-de-communication-md\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"td-bus-de-communication-md\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"knowledge-hub\",{\"children\":[[\"slug\",\"td-bus-de-communication-md\",\"d\"],{\"children\":[\"__PAGE__\",{},[[\"$L4\",[\"$\",\"main\",null,{\"className\":\"min-h-screen bg-background\",\"children\":[[\"$\",\"$L5\",null,{}],[\"$\",\"article\",null,{\"className\":\"py-20 pt-32\",\"children\":[\"$\",\"div\",null,{\"className\":\"container mx-auto px-4 max-w-4xl\",\"children\":[[\"$\",\"div\",null,{\"className\":\"mb-8\",\"children\":[\"$\",\"$L6\",null,{\"href\":\"/knowledge-hub/\",\"children\":[\"$\",\"button\",null,{\"className\":\"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [\u0026_svg]:pointer-events-none [\u0026_svg]:size-4 [\u0026_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 gap-2\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-arrow-left h-4 w-4\",\"children\":[[\"$\",\"path\",\"1l729n\",{\"d\":\"m12 19-7-7 7-7\"}],[\"$\",\"path\",\"x3x0zl\",{\"d\":\"M19 12H5\"}],\"$undefined\"]}],\"Back to Knowledge Hub\"]}]}]}],[\"$\",\"div\",null,{\"className\":\"bg-card p-8 rounded-lg shadow-sm\",\"children\":[[\"$\",\"div\",null,{\"className\":\"mb-6\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"text-3xl font-bold mb-4\",\"children\":\"Travaux Dirige of Bus of Communication\"}],[\"$\",\"div\",null,{\"className\":\"flex items-center gap-2 text-muted-foreground mb-4\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-calendar h-4 w-4\",\"children\":[[\"$\",\"path\",\"1cmpym\",{\"d\":\"M8 2v4\"}],[\"$\",\"path\",\"4m81vk\",{\"d\":\"M16 2v4\"}],[\"$\",\"rect\",\"1hopcy\",{\"width\":\"18\",\"height\":\"18\",\"x\":\"3\",\"y\":\"4\",\"rx\":\"2\"}],[\"$\",\"path\",\"8toen8\",{\"d\":\"M3 10h18\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"children\":\"2025-07-29\"}]]}],[\"$\",\"div\",null,{\"className\":\"flex flex-wrap gap-2 mb-6\",\"children\":[[\"$\",\"$L6\",\"Electronics\",{\"href\":\"/tags/Electronics/\",\"children\":[\"$\",\"div\",null,{\"className\":\"rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground flex items-center gap-1 hover:bg-primary/10 cursor-pointer\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-tag h-3 w-3\",\"children\":[[\"$\",\"path\",\"vktsd0\",{\"d\":\"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z\"}],[\"$\",\"circle\",\"kqv944\",{\"cx\":\"7.5\",\"cy\":\"7.5\",\"r\":\".5\",\"fill\":\"currentColor\"}],\"$undefined\"]}],\"Electronics\"]}]}],[\"$\",\"$L6\",\"Communication\",{\"href\":\"/tags/Communication/\",\"children\":[\"$\",\"div\",null,{\"className\":\"rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground flex items-center gap-1 hover:bg-primary/10 cursor-pointer\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-tag h-3 w-3\",\"children\":[[\"$\",\"path\",\"vktsd0\",{\"d\":\"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z\"}],[\"$\",\"circle\",\"kqv944\",{\"cx\":\"7.5\",\"cy\":\"7.5\",\"r\":\".5\",\"fill\":\"currentColor\"}],\"$undefined\"]}],\"Communication\"]}]}],[\"$\",\"$L6\",\"Interfaces\",{\"href\":\"/tags/Interfaces/\",\"children\":[\"$\",\"div\",null,{\"className\":\"rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground flex items-center gap-1 hover:bg-primary/10 cursor-pointer\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-tag h-3 w-3\",\"children\":[[\"$\",\"path\",\"vktsd0\",{\"d\":\"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z\"}],[\"$\",\"circle\",\"kqv944\",{\"cx\":\"7.5\",\"cy\":\"7.5\",\"r\":\".5\",\"fill\":\"currentColor\"}],\"$undefined\"]}],\"Interfaces\"]}]}],[\"$\",\"$L6\",\"Tutorial\",{\"href\":\"/tags/Tutorial/\",\"children\":[\"$\",\"div\",null,{\"className\":\"rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground flex items-center gap-1 hover:bg-primary/10 cursor-pointer\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-tag h-3 w-3\",\"children\":[[\"$\",\"path\",\"vktsd0\",{\"d\":\"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z\"}],[\"$\",\"circle\",\"kqv944\",{\"cx\":\"7.5\",\"cy\":\"7.5\",\"r\":\".5\",\"fill\":\"currentColor\"}],\"$undefined\"]}],\"Tutorial\"]}]}],[\"$\",\"$L6\",\"DigitalSystems\",{\"href\":\"/tags/DigitalSystems/\",\"children\":[\"$\",\"div\",null,{\"className\":\"rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground flex items-center gap-1 hover:bg-primary/10 cursor-pointer\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-tag h-3 w-3\",\"children\":[[\"$\",\"path\",\"vktsd0\",{\"d\":\"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z\"}],[\"$\",\"circle\",\"kqv944\",{\"cx\":\"7.5\",\"cy\":\"7.5\",\"r\":\".5\",\"fill\":\"currentColor\"}],\"$undefined\"]}],\"DigitalSystems\"]}]}],[\"$\",\"$L6\",\"French\",{\"href\":\"/tags/French/\",\"children\":[\"$\",\"div\",null,{\"className\":\"rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground flex items-center gap-1 hover:bg-primary/10 cursor-pointer\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-tag h-3 w-3\",\"children\":[[\"$\",\"path\",\"vktsd0\",{\"d\":\"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z\"}],[\"$\",\"circle\",\"kqv944\",{\"cx\":\"7.5\",\"cy\":\"7.5\",\"r\":\".5\",\"fill\":\"currentColor\"}],\"$undefined\"]}],\"French\"]}]}]]}],[\"$\",\"div\",null,{\"className\":\"bg-muted/30 p-4 rounded-lg mb-6\",\"children\":[\"$\",\"p\",null,{\"className\":\"italic\",\"children\":\"A technical overview of communication interfaces, covering logical and physical adaptations for data exchange in digital and analog systems.\"}]}]]}],[\"$\",\"div\",null,{\"className\":\"markdown max-w-none\",\"children\":[[\"$\",\"h2\",\"h2-0\",{\"children\":\"Objectif\"}],\"\\n\",[\"$\",\"p\",\"p-0\",{\"children\":\"Mise en oeuvre d'une liaison serie asynchrone type RS232 autour du STM32.\"}],\"\\n\",[\"$\",\"h2\",\"h2-1\",{\"children\":\"Sujet\"}],\"\\n\",[\"$\",\"p\",\"p-1\",{\"children\":\"On se propose de concevoir un programme qui permettra au STM32 de communiquer avec un PC via Putty.\"}],\"\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Putty transmet sur le port serie choisi, les codes ASCII correspondant aux touches frappees au clavier. La frappe de la touche 'A' envoie le code ASCII de la lettre 'A' sur le port serie du PC (ligne TD).\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Putty affiche dans sa fenetre de reception les caracteres associes aux codes ASCII recus sur sont port serie.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",\"h2-2\",{\"children\":\"PARTIE 1 : etude du standard RS232\"}],\"\\n\",[\"$\",\"h3\",\"h3-0\",{\"children\":\"A) Representez la connexion RS232 minimal entre le PC et la carte a MCBSTM32C pour une liaison Duplex.\"}],\"\\n\",[\"$\",\"p\",\"p-2\",{\"children\":\"Pour repondre, determinez le type de chaque appareil (ETTD ou ETCD) en vous aidant du schema en annexe.\"}],\"\\n\",[\"$\",\"p\",\"p-3\",{\"children\":[[\"$\",\"img\",\"img-0\",{\"src\":\"Carte%20RS232.md\",\"alt\":\"Carte RS232\"}],[\"$\",\"br\",\"br-0\",{}],\"\\nOn peut voire que c'est un ETTD. Car c'est un ordinateur\"]}],\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\",[\"$\",\"table\",\"table-0\",{\"children\":[[\"$\",\"thead\",\"thead-0\",{\"children\":[\"$\",\"tr\",\"tr-0\",{\"children\":[[\"$\",\"th\",\"th-0\",{\"children\":\"Signal\"}],[\"$\",\"th\",\"th-1\",{\"children\":\"ETTD\"}],[\"$\",\"th\",\"th-2\",{\"children\":\"DB9\"}],[\"$\",\"th\",\"th-3\",{\"children\":\"DB9 MCBSTM32C (Role ETCD)\"}]]}]}],[\"$\",\"tbody\",\"tbody-0\",{\"children\":[[\"$\",\"tr\",\"tr-0\",{\"children\":[[\"$\",\"td\",\"td-0\",{\"children\":\"RX\"}],[\"$\",\"td\",\"td-1\",{\"children\":\"2\"}],[\"$\",\"td\",\"td-2\",{\"children\":\"2\"}],[\"$\",\"td\",\"td-3\",{\"children\":\"TX ==RX==\"}]]}],[\"$\",\"tr\",\"tr-1\",{\"children\":[[\"$\",\"td\",\"td-0\",{\"children\":\"TX\"}],[\"$\",\"td\",\"td-1\",{\"children\":\"3\"}],[\"$\",\"td\",\"td-2\",{\"children\":\"3\"}],[\"$\",\"td\",\"td-3\",{\"children\":\"RX ==TX==\"}]]}],[\"$\",\"tr\",\"tr-2\",{\"children\":[[\"$\",\"td\",\"td-0\",{\"children\":\"GND\"}],[\"$\",\"td\",\"td-1\",{\"children\":\"5 (male)\"}],[\"$\",\"td\",\"td-2\",{\"children\":\"5 (femelle)\"}],[\"$\",\"td\",\"td-3\",{}]]}]]}]]}],\"\\n\",[\"$\",\"p\",\"p-4\",{\"children\":\"Cable droit entre ETTD et DB9\"}],\"\\n\",[\"$\",\"h3\",\"h3-1\",{\"children\":\"B) On transmet l'octet 0xAA sur une liaison serie asynchrone a 9600 bits/s avec 1 bit de stop et une parite paire\"}],\"\\n\",[\"$\",\"h4\",\"h4-0\",{\"children\":\"1) dessinez le chronogramme en niveau logique de la ligne TD\"}],\"\\n\",[\"$\",\"p\",\"p-5\",{\"children\":\"Bit OxAA = 1010 1010\"}],\"\\n\",[\"$\",\"h4\",\"h4-1\",{\"children\":\"2) dessinez le chronogramme en tension de la ligne TD au format RS232\"}],\"\\n\",[\"$\",\"p\",\"p-6\",{\"children\":[\"$\",\"img\",\"img-0\",{\"src\":\"Chronogramme%20niveau%20logique.md\",\"alt\":\"Chronogramme niveau logique\"}]}],\"\\n\",[\"$\",\"h2\",\"h2-3\",{\"children\":\"PARTIE 2 : etude de l'USART et du STM32 pour une liaison asynchrone\"}],\"\\n\",[\"$\",\"p\",\"p-7\",{\"children\":\"On veut ecrire un programme qui permette de recevoir des caracteres par scrutation (polling) des registres.\"}],\"\\n\",[\"$\",\"h3\",\"h3-2\",{\"children\":\"1) Lire la documentation technique des ports serie du STM32 (page 92)\"}],\"\\n\",[\"$\",\"h3\",\"h3-3\",{\"children\":\"2) Donnez les valeurs bit a bit des registres pour configurer l'USART2 comme suit :\"}],\"\\n\",[\"$\",\"ul\",\"ul-1\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"CR1\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Autorisation de l'USART et blocage de l'émetteur et du récepteur\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"BRR\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Vitesse de communication de 9600 Baud\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[\"CR1 / CR2 / CR3\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Mode normal, parité impaire, 7bits/caractère (hors parite), 1 bit de STOP\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Pas de commande automatique de RTS et CTS\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[\"Masquer toutes les interruptions émise par l'USART\",[\"$\",\"br\",\"br-0\",{}],\"\\nLe bit de stop est a 00 car dans la documentation montre que 1bit de stop est egale a 00\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"p-8\",{\"children\":\"Parite 7 bit donc CR1 word length = 0\"}],\"\\n\",[\"$\",\"p\",\"p-9\",{\"children\":[\"9600 * (16 * USART DIV) = 36 MHz\",[\"$\",\"br\",\"br-0\",{}],\"\\n16 * USART DIV = 36 Mhz/9600\",[\"$\",\"br\",\"br-1\",{}],\"\\nUSART DIV = (36 Mhz/9600s) / 16\"]}],\"\\n\",[\"$\",\"p\",\"p-10\",{\"children\":[[\"$\",\"img\",\"img-0\",{\"src\":\"Pasted%20image%2020250328094319.png\",\"alt\":\"Pasted image 20250328094319\"}],[\"$\",\"br\",\"br-0\",{}],\"\\ndefine USART2 ((USART_TypeDef*)USART2_BASE)\",[\"$\",\"br\",\"br-1\",{}],\"\\nUSART 2 - \u003e BRR = 0xEA6;\"]}],\"\\n\",[\"$\",\"h3\",\"h3-4\",{\"children\":\"3) Selon vous doit-on initialiser d'autre fonctions ou registres?\"}],\"\\n\",[\"$\",\"ul\",\"ul-2\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Activer les horloges de l'USART et du GPIOD\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Rediriger l'USART2 sur le GPIOD ( AFIO )\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"Programme les lignes GPIOD selon les fonctionnalite\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",\"h2-4\",{\"children\":\"Partie 3 : parametrage en langage C\"}],\"\\n\",[\"$\",\"h3\",\"h3-5\",{\"children\":\"1) Pour programmer en C les différents registres du STM32F107, nous allons utiliser le fichier stm32f10x_cl.h\"}],\"\\n\",[\"$\",\"ul\",\"ul-3\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Lisez ce fichier et expliquer sont utilité(certaines définitions sont fournies en annexe de ce TD).\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"D'après la documentation des ports série asynchrones et sachant que l'adresse de base est 0x40014400, expliquez pourquoi le type de base des registres est un \\\"uint16_t\\\" et pourquoi on utilise des champs nommes \\\"RESERVEDn\\\" dans la structure globale?\"}],\"\\n\"]}],\"\\n\",[\"$\",\"ol\",\"ol-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Pas besoin de redéfinir les registres\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"reserved Pour que la structure logicielle soit identique a la structure matérielle (offsets et tailles)\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",\"h3-6\",{\"children\":\"2) En utilisant stm32f10x_cl.h ecrivez les instructions C pour initialiser le port serie 2 du STM32F107 avec les parametres vus dans \\\"PARTIE 2/2\\\". Pour l'ordre d'initialisation des registres, vous referer a la documentation.\"}],\"\\n\",[\"$\",\"p\",\"p-11\",{\"children\":[\"void init USART2(void)\",[\"$\",\"br\",\"br-0\",{}],\"\\n{\",[\"$\",\"br\",\"br-1\",{}],\"\\n//activer l'horloge USART2 (ABB1)\",[\"$\",\"br\",\"br-2\",{}],\"\\n}\"]}],\"\\n\",[\"$\",\"p\",\"p-12\",{\"children\":[\"USART2 -\u003e BRR = 0xEA6; //Example\",[\"$\",\"br\",\"br-0\",{}],\"\\n7 6 5 4 3 2 1 0\",[\"$\",\"br\",\"br-1\",{}],\"\\nF E P C B A x 0\",[\"$\",\"br\",\"br-2\",{}],\"\\n0 0 1 0 0 0 0 1\",[\"$\",\"br\",\"br-3\",{}],\"\\n2       1\"]}],\"\\n\",[\"$\",\"pre\",\"pre-0\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-c\",\"children\":\"void initSerial(void){\\n\\t RCC - \u003e APB2ENR |=0x21;//init horloges AFIO et GPIOD\\n\\t RCC - \u003e APB1ENR |=1\u003c\u003c17;//init horloge USART 2\\n\\t AFIO - \u003e MAPR//redirection de l'USART2\\n\\t\\t\\t\\t\\t// 76543210 Ligne active\\n\\t GPIOD - \u003e CRL \u0026=0xF00FFFFF // configuration des lignes 5 et 6 a 0 \\n\\t GPIOD - \u003e CRL |=0x04B00000//PD5 entree flottante\\n\\t //PD6 sortie et alternative\\n\\t USART2 - \u003e BRR = 0xEA6\\n\\t USART2 - \u003e CR2 = 0;\\n\\t USART2 - \u003e CR3 = 0;\\n\\t for(i=0;i\u003c0x100,i++)__NOP(); //eviter un envoie de connecteur\\n\\t USART2 - \u003e CRL =0x2608; // USART2 en reception\\n}\\n\\nint main(void){\\n\\tSystemInit();//Init de la PLLet des horloges systeme\\n\\tinitSerial();//init USART2\\n\\tGLCD_Init(); //init LCD\\n\\twhile(1){\\n\\t\\twhile((USART -\u003eSR \u00260x20)!=0x20){}//attendre l'arrivee d'un caractere\\n\\tmessage[i]=USART2-\u003eDR \u00260x7F; //7bits\\n\\tmessage[i+1]=\\\"\\\\0\\\";//ajouter la fin de la chaine\\n\\t} //boucle infinie\\n}\\n\"}]}],\"\\n\",[\"$\",\"p\",\"p-13\",{\"children\":[\"$\",\"img\",\"img-0\",{\"src\":\"Broche%20STM32.md\",\"alt\":\"Broche STM32\"}]}],\"\\n\",[\"$\",\"h2\",\"h2-5\",{\"children\":\"Partie 4 : Programme de réception de caractères\"}],\"\\n\",[\"$\",\"p\",\"p-14\",{\"children\":[\"On désire stocker dans un tableau les 10 prochains caractères reçus sur le port série. Pour être averti de l'arrivée d'un caractère, il faut scruter un bit particulier du registre d'état SR.\",[\"$\",\"br\",\"br-0\",{}],\"\\nEcrivez le programme correspondant en C.\"]}],\"\\n\",[\"$\",\"pre\",\"pre-1\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-c\",\"children\":\"#include \u003cstdint.h\u003e\\n\\n#define SR    (*(volatile uint8_t*)0x40013800)  // Adresse fictive du registre d'état\\n#define DR    (*(volatile uint8_t*)0x40013804)  // Adresse fictive du registre de données\\n#define RXNE  (1 \u003c\u003c 5)  // Supposons que le bit 5 de SR indique la disponibilité des données\\n\\nvoid reception_characters(void) {\\n    char buffer[10];  // Tableau pour stocker les caractères reçus\\n    int count = 0;\\n\\n    while (count \u003c 10) {\\n        if (SR \u0026 RXNE) {  // Vérifie si un caractère est disponible\\n            buffer[count] = DR;  // Lecture du caractère\\n            count++;  // Incrémente le compteur\\n        }\\n    }// À ce stade, le buffer contient les 10 caractères reçus\\n}\\n\"}]}],\"\\n\",[\"$\",\"p\",\"p-15\",{\"children\":[\"Documentation fichier : \",[\"$\",\"a\",\"a-0\",{\"href\":\"stm32f10x_cl.h.md\",\"children\":\"stm32f10x_cl.h\"}]]}],\"\\n\",[\"$\",\"h2\",\"h2-6\",{\"children\":\"Partie 5 : Programme d'émission de caractères\"}],\"\\n\",[\"$\",\"h3\",\"h3-7\",{\"children\":\"1) Lorsque l'UART est configure, on envoie un caractère en l'écrivant dans le registre DR. Un programme peut-il envoyer plusieurs caractères en les écrivant de façon consécutive dans le registrer DR ?\"}],\"\\n\",[\"$\",\"p\",\"p-16\",{\"children\":\"Non : il faut attendre l'envoi du caractère précèdent\"}],\"\\n\",[\"$\",\"pre\",\"pre-2\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-Algo\",\"children\":\"debut\\n\\tinit horloges system\\n\\tinit USART2 en transmission\\n\\tfaire\\n\\t\\tattendre que TXE passe a 1\\n\\t\\tsi 1=0 envoyer \\\"1\\\" 1\u003c-1\\n\\t\\tsinon enovyer \\\"2\\\" 1\u003c-0\\n\\t\\tfin si\\n\\ttoujours\\nfin\\n\"}]}],\"\\n\",[\"$\",\"pre\",\"pre-3\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-c\",\"children\":\"#include \u003cstdint.h\u003e\\n\\n#define SR    (*(volatile uint8_t*)0x40004400)  // Registre d'état USART2 (adresse fictive)\\n#define DR    (*(volatile uint8_t*)0x40004404)  // Registre de données USART2\\n#define TXE   (1 \u003c\u003c 7)  // Bit TXE dans SR (prêt à transmettre)\\n\\nvoid init_system_clock(void) {\\n    // Initialisation des horloges (dépend du microcontrôleur, à compléter)\\n}\\n\\nvoid init_USART2(void) {\\n    // Configuration de l'USART2 en mode transmission (à compléter)\\n}\\n\\nvoid send_char(char c) {\\n    while (!(SR \u0026 TXE));  // Attendre que TXE soit à 1 (prêt à transmettre)\\n    DR = c;  // Envoyer le caractère\\n}\\n\\nint main(void) {\\n    init_system_clock();\\n    init_USART2();\\n\\n    uint8_t etat = 0;\\n\\n    while (1) {  // Boucle infinie\\n        if (etat == 0) {\\n            send_char('1');\\n            etat = 1;\\n        } else {\\n            send_char('2');\\n            etat = 0;\\n        }\\n    }\\n    \\n    return 0;  // Jamais atteint\\n}\\n\\n\"}]}],\"\\n\",[\"$\",\"h3\",\"h3-8\",{\"children\":\"2) Donnez un algorithme pour émettre alternativement les octets 31h puis 32h.\"}],\"\\n\",[\"$\",\"h3\",\"h3-9\",{\"children\":\"3) Ecrire le programme correspondant en C (initialisations + scrutation)\"}]]}]]}]]}]}],[\"$\",\"footer\",null,{\"className\":\"bg-muted/50 py-12\",\"children\":[\"$\",\"div\",null,{\"className\":\"container mx-auto px-4\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex flex-col md:flex-row justify-between items-center\",\"children\":[[\"$\",\"div\",null,{\"className\":\"mb-6 md:mb-0\",\"children\":[[\"$\",\"$L6\",null,{\"href\":\"/\",\"className\":\"text-xl font-bold tracking-tight\",\"children\":\"Matthieu GUYOT\"}],[\"$\",\"p\",null,{\"className\":\"text-muted-foreground mt-2 max-w-md\",\"children\":\"Building the future with code and security. Passionate about technology, cybersecurity, and knowledge sharing.\"}]]}],[\"$\",\"div\",null,{\"className\":\"flex flex-col items-center md:items-end\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex space-x-4 mb-4\",\"children\":[[\"$\",\"a\",null,{\"href\":\"https://github.com/Nearuppp\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"aria-label\":\"GitHub\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-github h-5 w-5\",\"children\":[[\"$\",\"path\",\"tonef\",{\"d\":\"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4\"}],[\"$\",\"path\",\"9comsn\",{\"d\":\"M9 18c-4.51 2-5-2-7-2\"}],\"$undefined\"]}],\"className\":\"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [\u0026_svg]:pointer-events-none [\u0026_svg]:size-4 [\u0026_svg]:shrink-0 h-10 w-10 rounded-full hover:bg-primary/10 hover:text-primary\"}],[\"$\",\"a\",null,{\"href\":\"https://www.linkedin.com/in/3-100matthieuguyot/\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"aria-label\":\"LinkedIn\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-linkedin h-5 w-5\",\"children\":[[\"$\",\"path\",\"c2jq9f\",{\"d\":\"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z\"}],[\"$\",\"rect\",\"mk3on5\",{\"width\":\"4\",\"height\":\"12\",\"x\":\"2\",\"y\":\"9\"}],[\"$\",\"circle\",\"bt5ra8\",{\"cx\":\"4\",\"cy\":\"4\",\"r\":\"2\"}],\"$undefined\"]}],\"className\":\"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [\u0026_svg]:pointer-events-none [\u0026_svg]:size-4 [\u0026_svg]:shrink-0 h-10 w-10 rounded-full hover:bg-primary/10 hover:text-primary\"}]]}],[\"$\",\"p\",null,{\"className\":\"text-sm text-muted-foreground\",\"children\":[\"© \",2025,\" Matthieu GUYOT. All rights reserved.\"]}]]}]]}]}]}]]}],null],null],null]},[null,[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"knowledge-hub\",\"children\",\"$8\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[null,[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"knowledge-hub\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/45f8aa93ae81327e.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"suppressHydrationWarning\":true,\"children\":[\"$\",\"body\",null,{\"className\":\"__className_e8ce0c\",\"children\":[\"$\",\"$La\",null,{\"attribute\":\"class\",\"defaultTheme\":\"system\",\"enableSystem\":true,\"disableTransitionOnChange\":true,\"children\":[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[]}]}]}]}]],null],null],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$Lb\"],\"globalErrorComponent\":\"$c\",\"missingSlots\":\"$Wd\"}]\n"])</script><script>self.__next_f.push([1,"b:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"Travaux Dirige of Bus of Communication | Matthieu GUYOT\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"A technical overview of communication interfaces, covering logical and physical adaptations for data exchange in digital and analog systems.\"}],[\"$\",\"meta\",\"4\",{\"name\":\"generator\",\"content\":\"v0.dev\"}],[\"$\",\"meta\",\"5\",{\"name\":\"next-size-adjust\"}]]\n4:null\n"])</script></body></html>