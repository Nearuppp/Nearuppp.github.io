<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/e4af272ccee01ff0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" as="image" href="Structure%20Embedded%20System.png"/><link rel="preload" as="image" href="Waterfall%20Model.png"/><link rel="preload" as="image" href="V%20Model.png"/><link rel="preload" as="image" href="V%20model%20activities%20relations.png"/><link rel="preload" as="image" href="V%20model%20documentation.png"/><link rel="preload" as="image" href="Simple%20structure%20analysis%20example.png"/><link rel="preload" as="image" href="Context%20diagram%20example.png"/><link rel="preload" as="image" href="Legend%20for%20context%20diagram.png"/><link rel="preload" as="image" href="Example%20data%20flow.png"/><link rel="preload" as="image" href="Legend%20data%20flow.png"/><link rel="stylesheet" href="/_next/static/css/45f8aa93ae81327e.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-a3760f0212ccbb12.js"/><script src="/_next/static/chunks/fd9d1056-3750f1c68fb99acb.js" async=""></script><script src="/_next/static/chunks/117-eb26ec6fd88fb5e5.js" async=""></script><script src="/_next/static/chunks/main-app-4f795b60095832c8.js" async=""></script><script src="/_next/static/chunks/671-870bf4da9bc73117.js" async=""></script><script src="/_next/static/chunks/app/knowledge-hub/%5Bslug%5D/page-f17a1fa9deeef7f1.js" async=""></script><script src="/_next/static/chunks/app/layout-dcf2fed02f629d0b.js" async=""></script><link rel="preload" as="image" href="Store%20example.png"/><link rel="preload" as="image" href="DFD%20Structure.png"/><link rel="preload" as="image" href="Example%20SPEC.png"/><link rel="preload" as="image" href="Dynamical%20behavior%20Model.png"/><link rel="preload" as="image" href="Example%20Architecture%20of%20processes.png"/><link rel="preload" as="image" href="STMMicroelectronics%20Processor.png"/><link rel="preload" as="image" href="MCBSTM32C%20board%20peripherals.png"/><link rel="preload" as="image" href="MCBSTM32C%20schematics.png"/><link rel="preload" as="image" href="MCBSTM32C%20schematics%20(GPIO%20and%20serial%20communication).png"/><link rel="preload" as="image" href="MCBSTM32C%20Schematic%20(Power%20&amp;%20RS232).png"/><link rel="preload" as="image" href="Keil%20IDE.png"/><link rel="preload" as="image" href="KEIL%20interface.png"/><link rel="preload" as="image" href="JTAGJet.png"/><link rel="preload" as="image" href="Cortex%20M3%20Characteristics.png"/><link rel="preload" as="image" href="Arm%20CORTEX%20M3.png"/><link rel="preload" as="image" href="CPU%20registers.png"/><link rel="preload" as="image" href="Register%20use%20in%20C%20language.png"/><link rel="preload" as="image" href="Product%20without%20kernel.png"/><link rel="preload" as="image" href="Infitinite%20loop.png"/><link rel="preload" as="image" href="Multiple%20tasks.png"/><link rel="preload" as="image" href="Tasks%20states.png"/><link rel="preload" as="image" href="Non%20preemptive%20kernel%20behavior.png"/><link rel="preload" as="image" href="Preemptive%20Kernel%20behavior.png"/><link rel="preload" as="image" href="Structure%20of%20a%20FreeRTOS%20application.png"/><link rel="preload" as="image" href="Kernel%20Structure.png"/><link rel="preload" as="image" href="PRIMASK.png"/><link rel="preload" as="image" href="Stack.png"/><link rel="preload" as="image" href="Processor%20exceptions.png"/><link rel="preload" as="image" href="Exceptions.png"/><link rel="preload" as="image" href="FreeRTOS%20interrupts%20ressources.png"/><link rel="preload" as="image" href="Build%20an%20application%20with%20FreeRTOS.png"/><link rel="preload" as="image" href="Example%20tasks%20management.png"/><link rel="preload" as="image" href="Mutiple%20Tasks.png"/><link rel="preload" as="image" href="Lists%20synoptic.png"/><link rel="preload" as="image" href="Illustration%20queue.png"/><link rel="preload" as="image" href="example%20deux%20queue.png"/><link rel="preload" as="image" href="ISR%20toTask%20synchronisation%20using%20semaphore.png"/><link rel="preload" as="image" href="Semaphore%20interrupts.png"/><link rel="preload" as="image" href="Mutexes.png"/><link rel="preload" as="image" href="Mutex%20Overview.png"/><link rel="preload" as="image" href="Priority%20inversion.png"/><link rel="preload" as="image" href="Task%20priority%20inversion.png"/><link rel="preload" as="image" href="Interrupt%20latency%20NON%20preemptive.png"/><link rel="preload" as="image" href="Interrupt%20latency%20preemptive.png"/><link rel="preload" as="image" href="Interrupts%20sharing.png"/><link rel="preload" as="image" href="ISR%20deferred%20interrupts.png"/><link rel="preload" as="image" href="Event%20group.png"/><link rel="preload" as="image" href="Software%20timers.png"/><link rel="preload" as="image" href="State%20software%20timer.png"/><link rel="preload" as="image" href="App%20split%20in%20tasks.png"/><link rel="preload" as="image" href="Driver.png"/><link rel="preload" as="image" href="Multiple%20vs%20one.png"/><title>Introduction to Embedded Systems and FreeRTOS | Matthieu GUYOT</title><meta name="description" content="Overview of embedded systems, their hardware/software components, and the use of FreeRTOS kernel for real-time task management."/><meta name="generator" content="v0.dev"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__className_e8ce0c"><script>((e,t,r,n,a,o,l,i)=>{let u=document.documentElement,s=["light","dark"];function c(t){(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,n=r&&o?a.map(e=>o[e]||e):a;r?(u.classList.remove(...n),u.classList.add(o&&o[t]?o[t]:t)):u.setAttribute(e,t)}),i&&s.includes(t)&&(u.style.colorScheme=t)}if(n)c(n);else try{let e=localStorage.getItem(t)||r,n=l&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;c(n)}catch(e){}})("class","theme","system",null,["light","dark"],null,true,true)</script><main class="min-h-screen bg-background"><header class="fixed top-0 left-0 right-0 z-50 transition-all duration-300 bg-transparent"><div class="container mx-auto px-4 py-4 flex items-center justify-between"><a class="text-xl font-bold tracking-tight text-primary" href="/">Matthieu GUYOT</a><nav class="hidden md:flex items-center gap-6"><a class="text-muted-foreground hover:text-primary transition-colors" href="/">Home</a><a class="text-muted-foreground hover:text-primary transition-colors" href="/about/">About</a><a class="text-muted-foreground hover:text-primary transition-colors" href="/projects/">Projects</a><a class="text-muted-foreground hover:text-primary transition-colors" href="/knowledge-hub/">Knowledge Hub</a><a class="text-muted-foreground hover:text-primary transition-colors" href="/tags/">Tags</a><a class="text-muted-foreground hover:text-primary transition-colors" href="/resume/">Resume</a><a class="text-muted-foreground hover:text-primary transition-colors" href="/contact/">Contact</a><button class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full" type="button" id="radix-:Rkmfnnkq:" aria-haspopup="menu" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sun h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-moon absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg><span class="sr-only">Toggle theme</span></button></nav><div class="flex items-center gap-4 md:hidden"><button class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full" type="button" id="radix-:Remfnnkq:" aria-haspopup="menu" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sun h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-moon absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg><span class="sr-only">Toggle theme</span></button><button class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10" aria-label="Toggle menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu h-6 w-6"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button></div></div></header><article class="py-20 pt-32"><div class="container mx-auto px-4 max-w-4xl"><div class="mb-8"><a href="/knowledge-hub/"><button class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 gap-2"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-left h-4 w-4"><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg>Back to Knowledge Hub</button></a></div><div class="bg-card p-8 rounded-lg shadow-sm"><div class="mb-6"><h1 class="text-3xl font-bold mb-4">Introduction to Embedded Systems and FreeRTOS</h1><div class="flex items-center gap-2 text-muted-foreground mb-4"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar h-4 w-4"><path d="M8 2v4"></path><path d="M16 2v4"></path><rect width="18" height="18" x="3" y="4" rx="2"></rect><path d="M3 10h18"></path></svg><span>2025-07-29</span></div><div class="flex flex-wrap gap-2 mb-6"><a href="/tags/Embedded/"><div class="rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground flex items-center gap-1 hover:bg-primary/10 cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-tag h-3 w-3"><path d="M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"></path><circle cx="7.5" cy="7.5" r=".5" fill="currentColor"></circle></svg>Embedded</div></a><a href="/tags/Systems/"><div class="rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground flex items-center gap-1 hover:bg-primary/10 cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-tag h-3 w-3"><path d="M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"></path><circle cx="7.5" cy="7.5" r=".5" fill="currentColor"></circle></svg>Systems</div></a><a href="/tags/FreeRTOS/"><div class="rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground flex items-center gap-1 hover:bg-primary/10 cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-tag h-3 w-3"><path d="M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"></path><circle cx="7.5" cy="7.5" r=".5" fill="currentColor"></circle></svg>FreeRTOS</div></a><a href="/tags/Microcontrollers/"><div class="rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground flex items-center gap-1 hover:bg-primary/10 cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-tag h-3 w-3"><path d="M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"></path><circle cx="7.5" cy="7.5" r=".5" fill="currentColor"></circle></svg>Microcontrollers</div></a><a href="/tags/Real-Time/"><div class="rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground flex items-center gap-1 hover:bg-primary/10 cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-tag h-3 w-3"><path d="M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"></path><circle cx="7.5" cy="7.5" r=".5" fill="currentColor"></circle></svg>Real-Time</div></a><a href="/tags/Systems/"><div class="rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground flex items-center gap-1 hover:bg-primary/10 cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-tag h-3 w-3"><path d="M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"></path><circle cx="7.5" cy="7.5" r=".5" fill="currentColor"></circle></svg>Systems</div></a><a href="/tags/IoT/"><div class="rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground flex items-center gap-1 hover:bg-primary/10 cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-tag h-3 w-3"><path d="M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"></path><circle cx="7.5" cy="7.5" r=".5" fill="currentColor"></circle></svg>IoT</div></a><a href="/tags/English/"><div class="rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground flex items-center gap-1 hover:bg-primary/10 cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-tag h-3 w-3"><path d="M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"></path><circle cx="7.5" cy="7.5" r=".5" fill="currentColor"></circle></svg>English</div></a></div><div class="bg-muted/30 p-4 rounded-lg mb-6"><p class="italic">Overview of embedded systems, their hardware/software components, and the use of FreeRTOS kernel for real-time task management.</p></div></div><div class="markdown max-w-none"><p>Based on the FreeRTOS kernel</p>
<p>Embedded system are material but also software. They can be brake system in cars, acceleration systeme etc... We don&#x27;t need to use a traditional CPU to create them. Most of the time it&#x27;s used by microcontroller. The design of those system is made for the application. Each task are limited to realize.</p>
<h2>Physical components</h2>
<ul>
<li>Microcontroller</li>
<li>Memory (integrated or external)</li>
<li>Captors</li>
<li>Actuator</li>
<li>Communication (RS23 for TP)</li>
<li>Converter analog</li>
<li>Electrical supply</li>
<li>HMI<br/>
Embedded System Structure<br/>
<img src="Structure%20Embedded%20System.png" alt="Structure Embedded System"/></li>
</ul>
<h3>Design Hints</h3>
<ul>
<li>Mostlu fast response time
<ul>
<li>0.01s to tens of micros</li>
</ul>
</li>
<li>Smallest cost
<ul>
<li>Less Components</li>
<li>Smallest Area</li>
<li>Only needed resources</li>
</ul>
</li>
<li>Best Performance/cost ratio</li>
<li>Portability</li>
<li>Low power
<ul>
<li>Battery kife</li>
</ul>
</li>
<li>Maintainability</li>
</ul>
<h3>Design Activiteis</h3>
<ul>
<li>System specification
<ul>
<li>Functions, Time constraintsm Cost and Power constraints</li>
</ul>
</li>
<li>Hardware Software Partitioning</li>
<li>Hardawre synsthesis</li>
<li>Software synsthesis and code generation</li>
<li>Simulation</li>
<li>implementation</li>
<li>test</li>
<li>deployment</li>
</ul>
<h3>Design management</h3>
<p>Different models for those system</p>
<ul>
<li>Water fall model</li>
<li>V-model</li>
<li>W model</li>
<li>Spiral model</li>
<li>Cascade<br/>
<img src="Waterfall%20Model.png" alt="Waterfall Model"/></li>
</ul>
<h3>V Model</h3>
<p><img src="V%20Model.png" alt="V Model"/></p>
<ul>
<li>Top Down design</li>
<li>Completion of a design activity is required to start the following one</li>
</ul>
<h4>V model activities relationship</h4>
<ul>
<li>Step by Step design
<ul>
<li>Top Down</li>
</ul>
</li>
<li>Correspondence with tests</li>
<li>Each step has base documents<br/>
<img src="V%20model%20activities%20relations.png" alt="V model activities relations"/></li>
</ul>
<h4>V model documentation</h4>
<ul>
<li>Design documents</li>
<li>Tests documents<br/>
<img src="V%20model%20documentation.png" alt="V model documentation"/></li>
</ul>
<h2>How to describe the behavior of a complex system ?</h2>
<h3>Structured Analysis</h3>
<h4>Structure modeling methods examples</h4>
<ul>
<li>UML / UML-RT
<ul>
<li>Object oriented description</li>
<li>RT for real time considerations</li>
</ul>
</li>
<li>SADT (Structured Analysis and Design Technique)
<ul>
<li>Functional data flow-oriented design approach</li>
<li>Simple method</li>
<li>No time considerations</li>
</ul>
</li>
<li>SA (Structured Analysis by Yourdon &amp; Demarco)
<ul>
<li>Similar concecpts of SADT
<ul>
<li>Different formalism</li>
</ul>
</li>
<li>SA-RT with time considerations for real-time systems
<ul>
<li>Add control flow, state diagrams</li>
</ul>
</li>
<li>Merise
<ul>
<li>Used for information systems design</li>
</ul>
</li>
<li>Agile methods</li>
</ul>
</li>
<li>SA-RT usage
<ul>
<li>System specifications</li>
<li>Software specifications</li>
<li>Software logical architecture</li>
<li>Software dynamical architecture</li>
</ul>
</li>
<li>Two dialects
<ul>
<li>WARD &amp; MELLOR</li>
<li>HATLEY PIRBHAI</li>
</ul>
</li>
</ul>
<h2>Structure analysis objective</h2>
<ul>
<li>System partitining
<ul>
<li>Top down system description</li>
<li>The latest level is a basic function<br/>
<img src="Simple%20structure%20analysis%20example.png" alt="Simple structure analysis example"/></li>
</ul>
</li>
</ul>
<h2>Structure Analysis Concepts</h2>
<h3>Process (data transformation)</h3>
<ul>
<li>Activities that trasnform data</li>
<li>linked by dataflow to other processes, data store, and external entities</li>
</ul>
<h3>Data flow</h3>
<ul>
<li>Indicate transfer of data from output of one entity to input of another</li>
<li>represent a data group or data element</li>
</ul>
<h3>Data store</h3>
<ul>
<li>a place where data is held for later use</li>
<li>data stores are passive: no transformations are performed on the data</li>
</ul>
<h3>External entity</h3>
<ul>
<li>An activity outside the target system</li>
<li>Acts as source or destination for dataflow that cross the system boundary</li>
<li>External entities cannot interact directly with data stores</li>
</ul>
<h3>Data group</h3>
<ul>
<li>A cluster of data represented as a singel dataflow</li>
<li>consits of lower level data groups, or individual elements</li>
</ul>
<h3>Data element</h3>
<ul>
<li>A basic unit of data</li>
</ul>
<h2>Structured Analysis tools</h2>
<ul>
<li>Context diagram</li>
<li>Data flow diagram</li>
<li>Data dictionary</li>
<li>Primitive Process Specification</li>
<li>Structured Walkthrough (description)</li>
</ul>
<h2>Real -time analysis tools</h2>
<ul>
<li>Control</li>
<li>COntrol specification</li>
</ul>
<h3>Context diagram</h3>
<ul>
<li>Gives the main aim of the system (highest view)</li>
<li>identify the external entities with witch it will communicate</li>
<li>Usually controls and data joined in the same diagram</li>
</ul>
<p><img src="Context%20diagram%20example.png" alt="Context diagram example"/><br/>
<img src="Legend%20for%20context%20diagram.png" alt="Legend for context diagram"/></p>
<h3>Data Flow diagram</h3>
<ul>
<li>The system (PROCESS 0) is described with DFD 0
<ul>
<li>The main dataflow</li>
</ul>
</li>
<li>Split the unique process into several ideentified processes
<ul>
<li>Identified by a verb and an object</li>
</ul>
</li>
<li>Terminal processes are described by a specification
<ul>
<li>THe functional primitives<br/>
<img src="Example%20data%20flow.png" alt="Example data flow"/><br/>
<img src="Legend%20data%20flow.png" alt="Legend data flow"/></li>
</ul>
</li>
</ul>
<h3>Store / Reservoir</h3>
<ul>
<li>Configuration constants</li>
<li>Asynchronous communication elements<br/>
<img src="Store%20example.png" alt="Store example"/></li>
</ul>
<h3>Data dictionary</h3>
<ul>
<li>Defines each data elemetn and data group</li>
<li>Use of BNF (Backus-Naur Form) to define structured data groups</li>
</ul>
<h4>Examples</h4>
<p>Mailing Label =<br/>
customer_name + customer_address<br/>
customer_name =<br/>
customer_last_name + customer_first_name + customer_middle_initial<br/>
customer_address =<br/>
local_address + community_address + zip_code<br/>
local_address =<br/>
house_number + street_name + (apt_number)<br/>
community address =<br/>
city_name + [state_name | province_name]</p>
<h3>DFD structure</h3>
<p><img src="DFD%20Structure.png" alt="DFD Structure"/></p>
<h3>PSPEC to describe a primitive process</h3>
<ul>
<li>Process SPECification</li>
<li>Usually one page size<br/>
IN = AUTRE FLOT DONNEE<br/>
IN = FLOT DE DONNEE EN ENTREE<br/>
IN = PARTIE A<br/>
OUT = AUTRE INFORMATION<br/>
PSPEC F 1.1<br/>
-- AUTRE FLOT DONNEE SI &quot;AUTRE FLOT DONNEE&quot; = &quot;FLOT DE DONNEE EN ENTREE&quot; ALORS ENVOYER &quot;AUTRE INFORMATION&quot; FIN SI<br/>
<img src="Example%20SPEC.png" alt="Example SPEC"/></li>
</ul>
<h4>PSPEC of a vending system</h4>
<pre><code>FOR EACH Shipped-order-detail 
	GET customer-name + customer-address 
	FOR EACH part-shipped 
		GET retail-price 
		MULTIPLY retail-price by quantity-shipped 
		TO OBTAIN total-this-order 
CALCULATE shipping-and-handling 
ADD shipping-and-handling TO total-this-order 
	TO OBTAIN total-this-invoice 
PRINT invoice
</code></pre>
<h3>Dynamical behavior model (RT Part)</h3>
<p><img src="Dynamical%20behavior%20Model.png" alt="Dynamical behavior Model"/></p>
<h3>In practice</h3>
<ul>
<li>Decompose the systeme process into his main fucntions (from 3to 7)
<ul>
<li>LEvel 1 processes will become the kernel tasks</li>
</ul>
</li>
<li>Place the data flow coming from the higher level diagram on the sub functions
<ul>
<li>if a flow is split at this level, notice it in the dictionary : (a=b+c)</li>
<li>If the processes don&#x27;t execute continuously, place a CSPEC on the diagram
<ul>
<li>Put the controls that activate and deactivate the processes of this level</li>
<li>Define the CSPEC</li>
</ul>
</li>
</ul>
</li>
<li>Add internal flow(data or controls) between processes</li>
<li>dd sotre elemetns</li>
<li>define the PSPECS of the terminal processes</li>
<li>Do it again for each decomposed process</li>
</ul>
<h4>Example</h4>
<ul>
<li>A booking system with :
<ul>
<li>A user interface</li>
<li>An information system interface</li>
</ul>
</li>
<li>Function
<ul>
<li>The customer choose on e itierary and the date and get a ticket</li>
<li>The reservation system holds the reservation<br/>
<img src="Example%20Architecture%20of%20processes.png" alt="Example Architecture of processes"/></li>
</ul>
</li>
</ul>
<h4>Additional design considerations</h4>
<ul>
<li>Choose the well suited logic system
<ul>
<li>Microprocessor/microcontroller</li>
<li>CPLD/FPGA or ASICs</li>
</ul>
</li>
<li>Realize the best hardware/software partition
<ul>
<li>Software gives flexibility
<ul>
<li>Is cost investment</li>
<li>has memory size impact</li>
</ul>
</li>
<li>Hardware gives performance and security
<ul>
<li>Is cost recurrent</li>
</ul>
</li>
</ul>
</li>
<li>Choose the devlopment tools</li>
</ul>
<h1>Hardware Equipment</h1>
<p>-72MHz STM32F107VC ARM Cortex™<br/>
-M3 processorbased MCU in 100-pin LQFP<br/>
-On-Chip Memory: 256KB Flash &amp; 64KB RAM<br/>
-External Memory: 8KB I2C Flash -Color QVGA TFT LCD with touchscreen<br/>
-10/100 Ethernet Port -USB 2.0 Full Speed</p>
<ul>
<li>USB, USB-OTG, &amp; USB Host</li>
<li>-2 CAN Interfaces</li>
<li>-Serial/UART Port -MicroSD Card Interface</li>
<li>-5-position Joystick and push-button</li>
<li>-3-axis Motion sensor / Accelerometer</li>
<li>-Analog Voltage Control for ADC Input</li>
<li>-Audio CODEC with Line-In/Out and Speaker</li>
<li>-80 GPIO pins</li>
<li>Debug Interface Connectors
<ul>
<li>20 pin JTAG (0.1 inch connector)</li>
<li>10 pin Cortex debug (0.05 inch connector)</li>
<li>20-pin Cortex debug + ETM Trace (0.05 inch connector)<br/>
<img src="STMMicroelectronics%20Processor.png" alt="STMMicroelectronics Processor"/><br/>
<img src="MCBSTM32C%20board%20peripherals.png" alt="MCBSTM32C board peripherals"/><br/>
<img src="MCBSTM32C%20schematics.png" alt="MCBSTM32C schematics"/><br/>
<img src="MCBSTM32C%20schematics%20(GPIO%20and%20serial%20communication).png" alt="MCBSTM32C schematics (GPIO and serial communication)"/><br/>
<img src="MCBSTM32C%20Schematic%20(Power%20&amp;%20RS232).png" alt="MCBSTM32C Schematic (Power &amp; RS232)"/></li>
</ul>
</li>
</ul>
<h1>Development tool chain</h1>
<h2>Keil IDE</h2>
<p>The Keil IDE is a cross graphical development environment including :</p>
<ul>
<li>a source code editor</li>
<li>a project manager</li>
<li>a cross compiler tool chain</li>
<li>a source level debugger • an ARM simulator</li>
</ul>
<p><img src="Keil%20IDE.png" alt="Keil IDE"/><br/>
<img src="KEIL%20interface.png" alt="KEIL interface"/></p>
<h3>Software development tool</h3>
<h3>Software debug tool (Not used)</h3>
<h2>Segger JTAG debg solution</h2>
<p>JtagJet is a JTAG emulator for the ARM Cortex M architectures.</p>
<ul>
<li>Chameleon : the associated software tool.</li>
<li>Allow source level debug in C and assembly (ARM and THUMB2 (16/32 bit instructions))<br/>
<img src="JTAGJet.png" alt="JTAGJet"/><br/>
<img src="Cortex%20M3%20Characteristics.png" alt="Cortex M3 Characteristics"/></li>
</ul>
<h3>Hardware debugger (Jlink)</h3>
<h3>Keil software debugger</h3>
<p>STM32F10x</p>
<ul>
<li>CPU ARM cortex MR
<ul>
<li>ALU works on registres</li>
<li><img src="Arm%20CORTEX%20M3.png" alt="Arm CORTEX M3"/></li>
</ul>
</li>
<li>CPU registers
<ul>
<li>Grey : accesible in privileged mode</li>
<li><img src="CPU%20registers.png" alt="CPU registers"/><br/>
<img src="Register%20use%20in%20C%20language.png" alt="Register use in C language"/></li>
</ul>
</li>
</ul>
<h1>Designing a real time embedded system</h1>
<h2>Sever consequences if</h2>
<ul>
<li>logical correctness is not met</li>
<li>Timing constraintes are not met</li>
</ul>
<h2>Two types of real-time systems</h2>
<ul>
<li>Soft real time (as fast as possible)</li>
<li>Hard real-time (must be on time)</li>
</ul>
<h2>Mostly, real-time systems are embeded</h2>
<ul>
<li>Build around one or more microcontrollers</li>
<li>Not seen by the user as a computer</li>
</ul>
<h3>Real time system example</h3>
<ul>
<li>Process flow control</li>
<li>Automotive</li>
<li>robots</li>
<li>communications</li>
<li>compter peripherals</li>
<li>aerospace</li>
<li>domestic</li>
<li>IoT applications</li>
</ul>
<h3>Complexity</h3>
<p>Very small size systems</p>
<ul>
<li>Mostlu 8bit microcontrollers with little memory (&lt;128 Kb flash &amp; &lt;1 Kb Ram)</li>
<li>Software developed with a background / foreground scheme (BFS)<br/>
Small size systems</li>
<li>High end 8 bits, 16bits and low end 32bits microC (up to 1Mb flash &amp; up to 2 Mb oif Ram)</li>
<li>BFS software or small or propietaryu real-time kernel(no royalties)<br/>
Middle to big size systems</li>
<li>32bits microC(up to 4Mb flash &amp; up to 8Mb Ram)</li>
<li>Commercial real-time kernels with debug tools, file systems, network,...<br/>
High end size systems</li>
<li>PC like systems with scalable resources</li>
<li>Use an operating system like Linux or equivalent<br/>
<img src="Product%20without%20kernel.png" alt="Product without kernel"/></li>
</ul>
<pre><code class="language-Background">/* Background */
void main(void)
{
    Initialization;

    while (1)  // FOREVER loop
    {
        Read_Analog_Inputs();
        Read_Discrete_Inputs();
        Perform_Monitoring_Functions();
        Perform_Control_Functions();
        Update_Analog_Outputs();
        Update_Discrete_Outputs();
        Scan_Keyboard();
        Handle_User_Interface();
        Update_Display();
        Handle_Communication_Requests();
        // Other...
    }
}

/* Foreground */
ISR(void)
{
    Handle_Asynchronous_Event();
}
</code></pre>
<ul>
<li>The main problem with this type of architecture is that the response time in the background part is not deterministric</li>
<li>Tasks have not always the same duration</li>
<li>In case of a code change in the loop the global loop timing is modified<br/>
<img src="Infitinite%20loop.png" alt="Infitinite loop"/></li>
</ul>
<h4>Why use a real time kernel ?</h4>
<ul>
<li>To guarantee a better temporal response on an asynchronous real time event</li>
<li>To be able to affect priorities to the different functions executed by the CPU</li>
<li>TO ease the adding of functionalities to the system</li>
<li>TO reduce the development time</li>
<li>TO easily ashare the dev of the application between several progeammers</li>
<li>To ease the software documentation</li>
</ul>
<h4>Real time copncepts</h4>
<ul>
<li>Critical sections of code (criticatl region)
<ul>
<li>Code that need to be treated indivisibly (must not be interrupted)</li>
<li>Specific actions are done before entering in the critical region</li>
</ul>
</li>
<li>Resources
<ul>
<li>Entity used by a task it may be memory or I/Os</li>
</ul>
</li>
<li>Shared resources
<ul>
<li>Resource that can be used by one or more tasks</li>
</ul>
</li>
<li>Tasks
<ul>
<li>A simpel program that thinks it has the CPU for itself</li>
<li>Each task has a priority, its own registers an its own stack</li>
<li>IT can be in any of the following states: dormant, ready, running, waiting (for an event) or ISR (interrupted)</li>
</ul>
</li>
<li>Multitasking
<ul>
<li>Process of scheduling and switching the CPU between several tasks</li>
<li>Tasks scheduling</li>
</ul>
</li>
<li>Mutual exclusion and semaphores
<ul>
<li>Used to share common resources<br/>
Mutitasking 1/2 :<br/>
<img src="Multiple%20tasks.png" alt="Multiple tasks"/><br/>
Switch tasks operations</li>
</ul>
</li>
<li>Save the CPU registers in the current Task Control Bloc</li>
<li>Recover the new task data from the TCB</li>
<li>Resume the new task</li>
<li>Tasks switches add overhead to the application (up to 5% of CPU time for well design appliucations)</li>
</ul>
<h4>Multitasking scheduling</h4>
<ul>
<li>Round-Robin Scheduling
<ul>
<li>No tasks priorites</li>
</ul>
</li>
<li>Static priorities: do not change during execution of task</li>
<li>In rate Monotonic Scheduling(RM)
<ul>
<li>Tasks with the highest rate of execution are given the highest priority</li>
</ul>
</li>
<li>Dynamic priorities
<ul>
<li>to remedy priority inversion</li>
</ul>
</li>
</ul>
<h4>Tasks states</h4>
<ul>
<li>Ready</li>
<li>Running</li>
<li>Suspended</li>
<li>Blocked<br/>
<img src="Tasks%20states.png" alt="Tasks states"/></li>
</ul>
<h4>Non preemptive kernel behavior</h4>
<p><img src="Non%20preemptive%20kernel%20behavior.png" alt="Non preemptive kernel behavior"/></p>
<ul>
<li>Tasks must explicitly do something to give control to the kernel
<ul>
<li>This must be done frequently</li>
</ul>
</li>
<li>So called cooperative multitasking</li>
<li>Each task can run up to completion
<ul>
<li>No need of reetrant fuctnions</li>
<li>Small interrupt latency</li>
</ul>
</li>
</ul>
<h4>Preemptive Kernel behavior</h4>
<p><img src="Preemptive%20Kernel%20behavior.png" alt="Preemptive Kernel behavior"/></p>
<ul>
<li>The highest priority task ready to run is always given the CPU
<ul>
<li>When an ISR makes an higher priority task ready, at the end of th3e ISR the interruypted task is suspended and the new higher priority task resumed</li>
</ul>
</li>
<li>So called preemptive multitasking</li>
<li>Each task may be interrupted
<ul>
<li>Need of reetrant functions
<ul>
<li>Can use global but protected variable</li>
<li>Locals variables and parameters are preferred</li>
</ul>
</li>
<li>Interrupt latency is higher</li>
</ul>
</li>
</ul>
<h1>FreeRTOS</h1>
<p>Created in 2003 by Richard Barry and maintained by Real Time Engineers Ltd.</p>
<ul>
<li>OpenRTOS : Commercial grade with USB,TCP/IP and FAT</li>
<li>SafeRTOS : for Critical systems<br/>
Since 2017 maintained by Amazon Web Services</li>
<li>FreeRTOS for IoT</li>
<li>Completed with commercial services<br/>
FreeRTOS is a portable, modular multitask real time kernel</li>
<li>More than 20 silicon manufacturers</li>
<li>many device families for each<br/>
FreeRTOS provides services for embedded applications</li>
<li>Resources sharing</li>
<li>Delays</li>
<li>Inter-tasks communication and synchronization mechanisms<br/>
FreeRtos is ROMMABLE</li>
<li>4 to 9Kb size</li>
<li>Used on embedded systems<br/>
FreeRtos well suited for IoT applications (Amazon, Nabto, ...)</li>
</ul>
<p>Main characteristics of the FreeRtos real time kernel</p>
<ul>
<li>Creatio and mangement of virtually unlimited number of tasks in the hardware limit</li>
<li>Tasks waiting functions</li>
<li>Change of tasks priorities</li>
<li>Deletion of Tasks</li>
<li>Tasks suspension and resume</li>
<li>Creation and management of numerical and binary semaphores</li>
<li>sending of messages queues from interrupt function (ISR) or from task to an other task</li>
<li>Round-Robin scheduling : if 2 or more tasks have the same priority
<ul>
<li>Each tasks takes turns to run</li>
</ul>
</li>
</ul>
<h3>What does it do?</h3>
<p>Rate Monotonic Scheduling (RMS)</p>
<ul>
<li>tasks with the highest rate of executionn have the highest priority<br/>
DEadline-Monotonic Scheduling(DMS)</li>
<li>Periodic tasks with shortest deadline have highest priority<br/>
Earliest Deadline First (EDF)</li>
<li>The periodic task with earliest deadline will get highest priority (dynamic priority scheduling)<br/>
Only possible with additianl libraries</li>
<li>ESFree</li>
</ul>
<h2>FreeRTOS port &amp; components</h2>
<h3>Ports</h3>
<p>Rules required to implement an RTOS on a micrcontroller</p>
<ol>
<li>Have a C compiler that generates nesting code (preemptive RTOS)</li>
<li>THe microcontroller supports interrupts and a peridical interrupt is available(10 to 1KHz)</li>
<li>The interrupts mayu be deactivated by software</li>
<li>The processor can manage a hardware stack (some Kb min)</li>
<li>The processor has instruction to save and restore CPU registers in the stack (SP,PC and general registers)<br/>
Structure of a FreeRTOS application :<br/>
<img src="Structure%20of%20a%20FreeRTOS%20application.png" alt="Structure of a FreeRTOS application"/><br/>
Kernel Structure<br/>
<img src="Kernel%20Structure.png" alt="Kernel Structure"/></li>
</ol>
<h4>PRIMASK Register</h4>
<p>THis register allow blocking exceptions</p>
<ul>
<li>Only exceptions with configurable priority</li>
<li>One bit implemented
<ul>
<li>All priority configurable exceptions will be blocked<br/>
<img src="PRIMASK.png" alt="PRIMASK"/></li>
</ul>
</li>
</ul>
<h4>Stack &amp; Stack pointer</h4>
<p>The Cortex M3 CPU manage a hardware stack</p>
<ul>
<li>The stack acts as a LIFO (of words)</li>
<li>A specific register SP (Stack POINTER is used to maintain the stack
<ul>
<li>SP countains the memory address of the last words in the stack<br/>
The SP register may be modifed for the programming purposes</li>
</ul>
</li>
<li>SP(=R13)<br/>
Example :</li>
<li>putting a word in the stack (PUSH)
<ul>
<li>SP value is decreadsed with the objkect size to be pushed(multiple of 4 bytes)</li>
<li>Write the data at SP content address</li>
</ul>
</li>
<li>To free the stack from the data
<ul>
<li>Increase the SP value with size of the data to be removed (multiples of 4 bytes)<br/>
<img src="Stack.png" alt="Stack"/></li>
</ul>
</li>
</ul>
<h4>Processors exceptions</h4>
<p>Possibility for the CPU to change is execution context on :</p>
<ul>
<li>Internal errors</li>
<li>Special Instruction</li>
<li>External events
<ul>
<li>Communciations, timers<br/>
Execution is passed to a dedicated function</li>
</ul>
</li>
<li>Independant from user code</li>
<li>Communication thru global variables<br/>
Special Considerations</li>
<li>Up to 16 priority levels</li>
<li>Exception can be interrupted by a higher priority exception</li>
<li>Context switch may be time consuming (regarding memory speed)<br/>
<img src="Processor%20exceptions.png" alt="Processor exceptions"/><br/>
<img src="Exceptions.png" alt="Exceptions"/></li>
</ul>
<h3>Material ressources</h3>
<h4>FreeRTOS Cortex port</h4>
<p>Use a specifi interrupts</p>
<ul>
<li>SysTick (preemptive RTOS mode)
<ul>
<li>time base (timer interrupt) for the RTOS</li>
<li>1 kHz or 100 Hz typic.  May be repaced by other timer.</li>
</ul>
</li>
<li>PendSV (Pendable SerVice)<br/>
- used by the OS to force a context switch.</li>
<li>SVCall (SuperVisor Call)
<ul>
<li>triggered by the SVC instruction</li>
<li>used by FreeRTOS to start the scheduler.<br/>
RTOS interrupts priorities</li>
</ul>
</li>
<li>Lowest priority</li>
<li>Other interrupts may have higher priorities<br/>
<img src="FreeRTOS%20interrupts%20ressources.png" alt="FreeRTOS interrupts ressources"/></li>
</ul>
<h3>vPortPendSVHandler</h3>
<pre><code class="language-c">__asm void xPortPendSVHandler(void)
{
    extern uxCriticalNesting
    extern pxCurrentTCB
    extern vTaskSwitchContext

    PRESERVE8

    mrs     r0, psp                // Get Process Stack Pointer
    isb                            // Instruction Synchronization Barrier

    ldr     r3, =pxCurrentTCB     // Load address of pxCurrentTCB
    ldr     r2, [r3]              // Load the current TCB pointer

    stmdb   r0!, {r4-r11}         // Save r4–r11 on the task&#x27;s stack (Decrement Before)
    str     r0, [r2]              // Save new stack pointer into current TCB

    stmdb   sp!, {r3, lr}         // Save r3 and LR before calling function

    mov     r0, #configMAX_SYSCALL_INTERRUPT_PRIORITY
    msr     basepri, r0           // Mask interrupts at or below priority level

    bl      vTaskSwitchContext    // Perform the actual context switch

    mov     r0, #0
    msr     basepri, r0           // Re-enable all interrupts

    ldmia   sp!, {r3, lr}         // Restore r3 and LR
    ldr     r1, [r3]              // Get new TCB (task to run)
    ldr     r0, [r1]              // Get top of stack from new TCB

    ldmia   r0!, {r4-r11}         // Restore registers for the new task
    msr     psp, r0               // Set PSP to new task&#x27;s stack
    isb                           // Ensure instructions use updated PSP

    bx      lr                    // Return to the task
    nop                           // No operation (padding)
}
</code></pre>
<h4>The Application Code:</h4>
<p><code>..\..\...\Application\User</code></p>
<ul>
<li><code>Main.c</code></li>
<li><code>Gpio.c</code></li>
<li><em>All peripherals that are needed…</em></li>
</ul>
<h4>FreeRTOS (Kernel)</h4>
<p><code>..\..\..\Middlewares\Third_Party\FreeRTOS\Source</code></p>
<ul>
<li><code>Croutine.c</code></li>
<li><code>Event_groups.c</code></li>
<li><code>List.c</code></li>
<li><code>Queue.c</code></li>
<li><code>Tasks.c</code></li>
<li><code>Timers.c</code></li>
</ul>
<p><code>..\..\..\Middlewares\Third_Party\FreeRTOS\Source\Include</code></p>
<ul>
<li><code>croutine.h</code></li>
<li><code>event_groups.h</code></li>
<li><code>FreeRTOS.h</code></li>
<li><code>FreeRTOSConfig_template.h</code></li>
<li><code>list.h</code></li>
<li><code>mpu_wrappers.h</code></li>
<li><code>portable.h</code></li>
<li><code>projdefs.h</code></li>
<li><code>queue.h</code></li>
<li><code>semphr.h</code></li>
<li><code>stack_macros.h</code></li>
<li><code>task.h</code></li>
<li><code>timers.h</code></li>
</ul>
<h4>FreeRTOS Port</h4>
<p><code>..\..\..\Middlewares\Third_Party\FreeRTOS\Source\CMSIS_RTOS</code></p>
<ul>
<li><code>cmsis_os.c</code></li>
<li><code>cmsis_os.h</code></li>
</ul>
<p><code>..\..\..\Middlewares\Third_Party\FreeRTOS\Source\portable\MemMang</code></p>
<ul>
<li><code>heap_1.c</code> to <code>heap_5.c</code></li>
</ul>
<p><code>..\..\..\Middlewares\Third_Party\FreeRTOS\Source\portable\RVDS\ARM_CM3</code></p>
<ul>
<li><code>port.c</code> <em>(with assembly code)</em></li>
<li><code>portmacro.h</code></li>
</ul>
<p>Kernel configuration<br/>
Initializing the kernel<br/>
Application considerations</p>
<p>The FreeRTOSConfig.h file present in the freeRTOS directory allow to configure FreeRTOS</p>
<ul>
<li>It selects the needed functionalities</li>
<li>It fixes the number of tasks in the application</li>
<li>It fixes the number of semaphores, queues..., the application will use<br/>
The kernel memory size of FreeRTOS will change regarding those parameters</li>
<li>The will affect the code size and the data size.</li>
</ul>
<h4>Init and Config</h4>
<h5>Main config</h5>
<p>configMINIMAL_STACK_SIZE</p>
<ul>
<li>Minimal Stack size reserved for each task<br/>
configLIBRARY_LOWEST_INTERRUPT_PRIORITY</li>
<li>The lowerst interrupt priority that can be used in a call to a &quot;set priority&quot;<br/>
configLIBRARY_MAX_SYSCALL_INTERRUPT_PRIORITY</li>
<li>The highest interrupt priority that can be used by any interrupt service routnine that makes dcalls to interrupt safe FreeRTOS API functions.</li>
</ul>
<h5>Main functions</h5>
<p>MX_FREERTOS_Init()</p>
<ul>
<li>Parameter freeRTOS<br/>
osKernelStart()</li>
<li>run the OS</li>
</ul>
<pre><code>void main(void)
{
    /* User initialization */
    MX_FREERTOS_Init();       // Kernel Initialization
    
    //- Initializes FreeRTOS’s Data Structures 
    //- Creation of the applications tasks 
    //- Create the ‘statistics task
    
    /* Install interrupt vectors */
    /* Create at least 1 task (Start Task) */
    /* Additional User code */
    osKernelStart();          // Start multitasking

	//- Creates the idle task ( xTaskCreate) 
	//- sets up a tick interrupt and timers for the correct tick frequency. 
	//- Determines the Highest Priority Task Created 
	//- Calls prvStartFirstTask () (asm code)

    while (1) // Standard main loop (never accessed)
    {
    }
}

</code></pre>
<h4>Build an application with FreeRTOS</h4>
<p><img src="Build%20an%20application%20with%20FreeRTOS.png" alt="Build an application with FreeRTOS"/></p>
<h3>FreeRTOS Overview</h3>
<ul>
<li>Task states &amp; Resources</li>
<li>Task management</li>
<li>Interrupts management</li>
<li>Communications</li>
<li>Memory management</li>
<li>Time management</li>
</ul>
<h4>Tasks states</h4>
<p>Running</p>
<ul>
<li>task is actually executing.</li>
<li>It is currently utilizing the processor.<br/>
Ready</li>
<li>tasks is able to execute (not in the Blocked or Suspended state)</li>
<li>not currently executing.<br/>
Blocked</li>
<li>Task is waiting for either a temporal or external event.</li>
<li>Do not use the CPU and cannot enter the in Running state.<br/>
Suspended</li>
<li>cannot be selected to enter the Running state.</li>
<li>do not have a time out.</li>
<li>Go into suspended state</li>
<li>vTaskSuspend() function.</li>
<li>Exit from suspended state</li>
<li>xTaskResume() function.</li>
</ul>
<p>Blocked examples : Task calls vTaskDelay() it will block until the delay period has expired Tasks is waiting for queue, semaphore, event group, notification or semaphore event. Tasks in the Blocked state may have a &#x27;timeout&#x27; period to be automatically unblocked<br/>
<img src="Example%20tasks%20management.png" alt="Example tasks management"/></p>
<h4>Multiple Tasks</h4>
<p>each Task Control Block (TCB) contains</p>
<ul>
<li>An identifier
<ul>
<li>character string</li>
</ul>
</li>
<li>Memory address
<ul>
<li>first instruction of the task</li>
</ul>
</li>
<li>Priority</li>
<li>Current task state
<ul>
<li>running, ready, block, or suspended.</li>
</ul>
</li>
<li>Pointer to the stack
<ul>
<li>where context of the task is stored<br/>
<img src="Mutiple%20Tasks.png" alt="Mutiple Tasks"/></li>
</ul>
</li>
</ul>
<h4>Stack grows</h4>
<p>From top to bottom</p>
<ul>
<li>portSTACK_GROWTH = -1 for Cortex M processors<br/>
bottom to top</li>
</ul>
<h4>Two stacks</h4>
<ul>
<li>MSP (Main Stack Pointer)
<ul>
<li>used during statrup, mian() and interrupts</li>
</ul>
</li>
<li>PSP (Process Stack Pointer)
<ul>
<li>Is used by the process/tasks</li>
</ul>
</li>
</ul>
<h4>Tasks</h4>
<p>Creation/deletion of tasks</p>
<ul>
<li>xTaskCreate, vTaskDelete<br/>
Tasks control:</li>
<li>vTaskDelay, uxTaskPriorityGet, vTaskPrioritySet</li>
<li>vTaskSuspend, vTaskResume</li>
</ul>
<h4>Tasks may not return a value</h4>
<ul>
<li>Type is always void</li>
</ul>
<h4>Tasks must be</h4>
<ul>
<li>endless loop</li>
<li>can be detected</li>
</ul>
<pre><code class="language-example">portTASK_FUNCTION( vATaskFunction, pvParameters ) {
	for( ;; ) 
		{ -- Task application code here. -- } 
}
</code></pre>
<ul>
<li>Unlimited number of tasks (RAM limitation only)</li>
<li>Priority is a number between 0 and configMAX_PRIORITIES</li>
<li>lowest priority is priority 0</li>
<li>lowest levels the idle task priority !</li>
<li>For configMAX_PRIORITIES see FreeRTOS.H</li>
<li>There is always one task present: the idle task
<ul>
<li>Created when the scheduler is started</li>
</ul>
</li>
</ul>
<pre><code class="language-c">portBASE_TYPE xTaskCreate(
    pdTASK_CODE         pvTaskCode,       // Pointer to the task function
    const portCHAR * const pcName,        // Name of the task (for debugging)
    unsigned portSHORT   usStackDepth,    // Stack size (in words, not bytes)
    void *               pvParameters,    // Pointer to parameters passed to the task
    unsigned portBASE_TYPE uxPriority,    // Task priority (0 to MAX_PRIORITIES - 1)
    xTaskHandle *        pvCreatedTask    // Pointer to return task handle (can be NULL)
);
</code></pre>
<h4>Function prototype</h4>
<pre><code class="language-example">// Prototype for task creation
BaseType_t xTaskCreate(
    TaskFunction_t pvTaskCode,       // Pointer to the task entry function
    const char * const pcName,       // Descriptive name for the task
    unsigned short usStackDepth,     // Stack size in words (not bytes)
    void *pvParameters,              // Parameter passed into the task
    UBaseType_t uxPriority,          // Task priority
    TaskHandle_t *pxCreatedTask      // Handle returned to reference the task (optional)
);
</code></pre>
<h4>Parameters</h4>
<ul>
<li><strong><code>pvTaskCode</code></strong>: Pointer to the task entry function.</li>
<li><strong><code>pcName</code></strong>: Descriptive name for the task (mainly for debugging).</li>
<li><strong><code>usStackDepth</code></strong>: Stack size in <strong>words</strong>, not bytes.</li>
<li><strong><code>pvParameters</code></strong>: Value passed into the task as its parameter.</li>
<li><strong><code>uxPriority</code></strong>: Priority of the task (e.g., <code>tskIDLE_PRIORITY</code>).</li>
<li><strong><code>pxCreatedTask</code></strong>: (Optional) Pointer to a handle to manage the created task. Can be <code>NULL</code>.</li>
</ul>
<h4>Return Value</h4>
<ul>
<li><code>pdPASS</code>: Task was successfully created.</li>
<li><code>errCOULD_NOT_ALLOCATE_REQUIRED_MEMORY</code> (or <code>pdFAIL</code>): Task creation failed (e.g., insufficient heap memory).</li>
</ul>
<pre><code>// Example task implementation
void vTaskCode(void *pvParameters)
{
    // Assert that the passed parameter is 1
    configASSERT(((uint32_t) pvParameters) == 1);

    for (;;)
    {
        // Task code goes here
    }
}

// Function to create and manage the task
void vOtherFunction(void)
{
    BaseType_t xReturned;
    TaskHandle_t xHandle = NULL;

    // Create the task and store its handle
    xReturned = xTaskCreate(
        vTaskCode,         // Task function
        &quot;NAME&quot;,            // Task name
        STACK_SIZE,        // Stack size in words
        (void *)1,         // Parameter passed to task
        tskIDLE_PRIORITY,  // Task priority
        &amp;xHandle           // Pointer to store task handle
    );

    if (xReturned == pdPASS)
    {
        // Task successfully created, now delete it
        vTaskDelete(xHandle);
    }
}

</code></pre>
<h4>Tasks deletion</h4>
<p>void vTaskDelete(TaskHandle_t xTask);</p>
<h5>Parameter</h5>
<ul>
<li>xTask : The handle of the task to be deleted</li>
<li>NULL for self delete Task<br/>
Freeing resources before deletion<br/>
The task being deleted will be removed from all ready, blocked, suspended and event lists.<br/>
The idle task is freeing the RTOS kernel allocated memory from tasks that have been deleted.</li>
</ul>
<pre><code class="language-c">void vOtherFunction( void ) { 
	TaskHandle_t xHandle = NULL; // Create the task, storing the handle. 
	xTaskCreate( vTaskCode, &quot;NAME&quot;, STACK_SIZE, NULL, tskIDLE_PRIORITY, &amp;xHandle ); 
	// Use the handle to delete the task. 
	if( xHandle != NULL ) { 
	vTaskDelete( xHandle ); 
	} 
}
</code></pre>
<pre><code class="language-c">/* Task to be created */
void vTaskCode(void *pvParameters)
{
    for (;;)
    {
        /* Task code goes here */
    }
}

/* Function that creates a task */
void vOtherFunction(void)
{
    static unsigned char ucParameterToPass;
    xTaskHandle xHandle;

    xTaskCreate(
        vTaskCode,              // Task function
        &quot;NAME&quot;,                 // Task name
        STACK_SIZE,             // Stack size (in words)
        &amp;ucParameterToPass,     // Task parameter
        tskIDLE_PRIORITY,       // Task priority
        &amp;xHandle                // Handle to created task
    );

    /* Use the handle to delete the task */
    vTaskDelete(xHandle);
}

</code></pre>
<h4>Scheduling tasks : priorities</h4>
<p>The scheduler determine which task to run</p>
<ul>
<li>Depending on the priorities
<ul>
<li>In preemptive mode by default</li>
<li>May be configured for collaborative operation</li>
</ul>
</li>
<li>Number of priorities : tskMAX_PRIORITIES in FreeRTOSConfig.h<br/>
Static priorities: Do not change during execution of task</li>
<li>FreeRTOS implemetation
<ul>
<li>low priority numbers denot low priority taks</li>
<li>the idle task has priority zero (tskIDLE_PRIORITY)</li>
</ul>
</li>
<li>Code can change the priority:
<ul>
<li>vTaskPrioritySet<br/>
Dynamic priorities: to remedy priority inversion</li>
<li>Not supported by FreeRTOS
<ul>
<li>BUt manage priority inheritance (Mutex)</li>
<li>minimize priority inversion effects in some situations</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5>Scheduler</h5>
<p>Starvation</p>
<ul>
<li>if a maximal priority task is continously running, the other tasks wont execute</li>
<li>there is no automatic mechanism to avoid this<br/>
Solutions</li>
<li>Verify that there is no such situation</li>
</ul>
<h5>Idle Task</h5>
<p>The microcontroller must always do something</p>
<ul>
<li>An idle task is automatically created at the scheduler start</li>
<li>The idle task is responsible for:
<ul>
<li>Compute statistics</li>
<li>Recover memory from deleted tasks</li>
<li>calculate the processor utilization</li>
<li>put the processor in low power mode</li>
</ul>
</li>
</ul>
<h5>Lists</h5>
<p>Lists = internal system tools<br/>
Used in FreeRTOS</p>
<ul>
<li>For tasks scheduling</li>
<li>For files implementation</li>
<li>Many structures to descibe the lists<br/>
xLIST is the header of the scheduler created and used lists :</li>
</ul>
<pre><code class="language-c">typedef struct xLIST
{
    volatile unsigned portBASE_TYPE uxNumberOfItems;
    /* Number of items in the list. */

    volatile xListItem *pxIndex;
    /* Pointer used to iterate through the list. */

    volatile xMiniListItem xListEnd;
    /* Sentinel item marking the end of the list. */
} xList;
</code></pre>
<p>xLIST_ITEM: are the double chained lists of elements :</p>
<pre><code class="language-c">typedef struct xLIST_ITEM
{
    portTickType xItemValue;
    /* A value assigned to this list item. */

    volatile struct xLIST_ITEM *pxNext;
    /* Pointer to the next list item. */

    volatile struct xLIST_ITEM *pxPrevious;
    /* Pointer to the previous list item. */

    void *pvOwner;
    /* Pointer to the object that owns this list item. */

    void *pvContainer;
    /* Pointer to the list this item belongs to. */
} xListItem;

</code></pre>
<p>xMINI_LIST_ITEM: smaller implementation of xLIST_ITEM.</p>
<ul>
<li>Doesn&#x27;t have pvOwner and pvContainer members</li>
<li>Represents an end of list element.<br/>
Lists synoptic :<br/>
<img src="Lists%20synoptic.png" alt="Lists synoptic"/></li>
</ul>
<h4>Tasks communication</h4>
<p>Semaphore why to use?</p>
<ul>
<li>Access to a shared resource</li>
<li>signal the occurrence of event</li>
<li>allow two tasks to synchronize<br/>
Type</li>
<li>binary</li>
<li>counting<br/>
Message mailboxes<br/>
message queues<br/>
events</li>
</ul>
<h5>Message Queues</h5>
<p>xQueueCreate,xQueueCreateStatic</p>
<ul>
<li>Creates a message queue<br/>
vQueueDelete</li>
<li>Deletes the queue(queue memory also)<br/>
xQueueReceive, xQueueSend</li>
<li>Queues send and receive functions<br/>
Additional fucntions</li>
<li>uxQueueMessagesWaiting : returns the number of message in the queue</li>
<li>uxQueueSpacesAvailable : returns the number of free spaces available in the queue.</li>
<li>xQueueReset : resets a queue to its originial empty state</li>
</ul>
<h5>Queues</h5>
<p>Create a queue</p>
<pre><code class="language-c">xQueueHandle xQueueCreate( 
unsigned portBASE_TYPE uxQueueLength, 
/* Nombre d’éléments. */ 
unsigned portBASE_TYPE uxItemSize 
/* Taille d’un élément. */ );
</code></pre>
<h6>Reading</h6>
<p>IF several task want read in a queue the one of the highest priority choosen<br/>
In case of same priorityu the firstwhich asked fir the queue will get the info.<br/>
A read element will be removed from the queue</p>
<ul>
<li>xQueuePeek</li>
</ul>
<pre><code class="language-c">portBASE_TYPE xQueueReceive( 
xQueueHandle xQueue, 
/* Identifiant de la file. */ 
const void * pvBuffer, /* Pointeur vers un buffer où la donnée sera copiée. */ portTickType xTicksToWait /* Valeur de timeout. */ );
</code></pre>
<p>Same considerations as for reading</p>
<pre><code class="language-c">/* FIFO Mode */ portBASE_TYPE xQueueSend( 
xQueueHandle xQueue, /* Identifiant de la file. */ 
const void * pvItemToQueue, /* Pointeur vers l‘élément à copier */ 
portTickType xTicksToWait /* Valeur de timeout. */ ); 

portBASE_TYPE xQueueSendToBack(xQueueHandle xQueue, const void * pvItemToQueue, portTickType xTicksToWait); 
/* LIFO Mode */ portBASE_TYPE xQueueSendToFront(xQueueHandle xQueue, const void * pvItemToQueue, portTickType xTicksToWait);
</code></pre>
<p>Message queue example :</p>
<pre><code class="language-c">struct AMessage
{
    char ucMessageID;
    char ucData[20];
};
void vATask(void *pvParameters)
{
    QueueHandle_t xQueue1, xQueue2;
    /* Create a queue capable of containing 10 unsigned long values. */
    xQueue1 = xQueueCreate(10, sizeof(unsigned long));
    if (xQueue1 == NULL)
    {
        /* Queue was not created and must not be used. */
    }
    /* Create a queue capable of containing 10 pointers to AMessage
       structures. These are to be queued by pointers as they are
       relatively large structures. */
    xQueue2 = xQueueCreate(10, sizeof(struct AMessage *));
    if (xQueue2 == NULL)
    {
        /* Queue was not created and must not be used. */
    }
    /* ... Rest of task code. */
}
</code></pre>
<p>Message queue 2 :</p>
<pre><code class="language-c">struct AMessage
{
    char ucMessageID;
    char ucData[20];
} xMessage;
QueueHandle_t xQueue;
void vATask(void *pvParameters) // Task to create a queue and post a value.
{
    struct AMessage *pxMessage;
    pxMessage = &amp;xMessage;
    // Create a queue capable of containing 10 pointers to AMessage structures.
    // These should be passed by pointer as they contain a lot of data.
    xQueue = xQueueCreate(10, sizeof(struct AMessage *));
    if (xQueue == 0)
    {
        // Failed to create the queue.
    }
    // Send a pointer to a struct AMessage object. Don&#x27;t block if the queue is already full.
    xQueueSend(xQueue, (void *)&amp;pxMessage, (TickType_t)0);
    // ... Rest of task code.
}
</code></pre>
<p>Illustration queue<br/>
<img src="Illustration%20queue.png" alt="Illustration queue"/></p>
<p>Queue reading example<br/>
<img src="example%20deux%20queue.png" alt="example deux queue"/></p>
<h4>Semaphore and mutexes</h4>
<p>Semaphores and mutexes are the main methods for FreeRTOS to synchromise tasks<br/>
2 main type of semaphore binary and counters</p>
<h4>Binary</h4>
<p>Easiest way to synchroize tasks<br/>
similar to a one element queue<br/>
Must be created before using it</p>
<p>At creation the binary sempahore is available</p>
<pre><code class="language-c">xSemaphoreHandle xSemaphore; 
void vATask( void * pvParameters ) { 
// Semaphore cannot be used before a call to vSemaphoreCreateBinary (). 
// This is a macro so pass the variable in directly. 
	vSemaphoreCreateBinary( xSemaphore ); if( xSemaphore != NULL ) { 
	// The semaphore was created successfully. 
	// The semaphore can now be used. 
	} 
}
</code></pre>
<h5>Semaphore operations</h5>
<p>xSempahoreCreateBinary() or xSemaphoreCreateBinaryStatic :</p>
<ul>
<li>Create new semaphore<br/>
vSemaphoreDelete():use with care !</li>
<li>Deletes the semaphore\</li>
<li>Do not delete a semaphore that has tasks blocked on it<br/>
xSemaphoreTake(), xSemaphoreGive()</li>
<li>Wait on or free a semaphore<br/>
From ISR<br/>
portBASE_TYPE xGiveSemaphoreFromISR(xSemaphoreHandle xSemaphore);</li>
</ul>
<p>Taking a semaphore<br/>
portBASE_TYPE xSemaphoreTake(xSemaphoreHandle xSemaphore, portTickType xTicksToWait);<br/>
Freeing a semaphore<br/>
portBASE_TYPE xSemaphoreGive(xSemaphoreHandle xSemaphore);<br/>
Giving from ISR<br/>
portBASE_TYPE xGiveSemaphoreFromISR(xSemaphoreHandle xSemaphore);</p>
<h5>Semaphore take example</h5>
<pre><code class="language-c">if( xSemaphore != NULL ) { 
// See if we can obtain the semaphore. If the semaphore is not available 
// wait 10 ticks to see if it becomes free. 
	if( xSemaphoreTake( xSemaphore, ( portTickType ) 10 ) == pdTRUE ) {
	// xSemaphore available} else {
	// time overflow, xSemaphore is not available
	}
}
</code></pre>
<h5>Semaphore give example</h5>
<pre><code class="language-c">if( xSemaphoreGive( xSemaphore ) != pdTRUE ) { 
// error xSemaphore not released …. }
</code></pre>
<h5>Waiting binary semaphores from ISR</h5>
<pre><code class="language-c">#define LONG_TIME       0xffff
#define TICKS_TO_WAIT   10

SemaphoreHandle_t xSemaphore = NULL;

/* Repetitive task that waits on a semaphore. */
void vATask(void *pvParameters)
{
    // Create a binary semaphore before the ISR uses it.
    xSemaphore = xSemaphoreCreateBinary();

    if (xSemaphore == NULL)
    {
        // Failed to create semaphore, handle error.
        for (;;); // Optional: loop forever.
    }

    for (;;)
    {
        // Block waiting for the semaphore to be given (e.g., by an ISR).
        if (xSemaphoreTake(xSemaphore, LONG_TIME) == pdTRUE)
        {
            // Semaphore obtained – perform the task action here.
            // For example:
            // Toggle an LED, read a sensor, etc.
            // ...

            // After finishing the task, the loop restarts and waits again.
        }
    }
}

</code></pre>
<h6>Giving a semaphore from ISR</h6>
<pre><code class="language-c">/* Timer ISR */
void vTimerISR(void *pvParameters)
{
    static unsigned char ucLocalTickCount = 0;
    BaseType_t xHigherPriorityTaskWoken = pdFALSE;

    /* A timer tick has occurred. Do any necessary timer-related operations here. */
    // ... Other timer-related code

    /* Increment local tick count. */
    ucLocalTickCount++;

    /* Check if it&#x27;s time to unblock the task (every TICKS_TO_WAIT ticks). */
    if (ucLocalTickCount &gt;= TICKS_TO_WAIT)
    {
        /* Unblock the task by giving the semaphore. */
        xSemaphoreGiveFromISR(xSemaphore, &amp;xHigherPriorityTaskWoken);

        /* Reset tick count to start the cycle again. */
        ucLocalTickCount = 0;
    }

    /* Perform a context switch if the unblocked task has a higher priority. */
    portYIELD_FROM_ISR(xHigherPriorityTaskWoken);
}
</code></pre>
<h5>ISR toTask synchronisation using semaphore</h5>
<p><img src="ISR%20toTask%20synchronisation%20using%20semaphore.png" alt="ISR toTask synchronisation using semaphore"/></p>
<h5>COunting semaphores</h5>
<ul>
<li>Can be used several time before becoming unavailable</li>
<li>Creating a counting semaphore</li>
</ul>
<pre><code class="language-c">xSemaphoreHandle xSemaphoreCreateCounting( 
unsigned portBASE_TYPE uxMaxCount, 
/* Capacité du sémaphore compteur. */ 
unsigned portBASE_TYPE uxInitialCount 
/* Valeur du compteur après création. */ );
</code></pre>
<h6>Static allocation</h6>
<ul>
<li>Dynamic memory allocation
<ul>
<li>SemaphoreHandle_t xSemaphoreCreateBinary( void );</li>
</ul>
</li>
<li>Statiuc memory allocation
<ul>
<li>SemaphoreHandle_t xSemaphoreCreateBinaryStatic( StaticSemaphore_t</li>
</ul>
<ul>
<li>pxSemaphoreBuffer );</li>
</ul>
</li>
</ul>
<pre><code class="language-c">SemaphoreHandle_t xSemaphore = NULL;            // Handle for the semaphore
StaticSemaphore_t xSemaphoreBuffer;             // Static memory buffer for the semaphore

void vATask(void *pvParameters)
{
    // Create the binary semaphore using static allocation.
    // The semaphore&#x27;s internal structure is stored in xSemaphoreBuffer.
    xSemaphore = xSemaphoreCreateBinaryStatic(&amp;xSemaphoreBuffer);

    // Ensure the semaphore was created successfully.
    configASSERT(xSemaphore != NULL);

    // ... Rest of the task code
}
</code></pre>
<ul>
<li>Semaphore given by interrupts
<ul>
<li>xSemaphoreTakeFromISR ( SemaphoreHandle_t xSemaphore, signed BaseType_t</li>
</ul>
<ul>
<li>pxHigherPriorityTaskWoken)</li>
</ul>
<ul>
<li>xSemaphoreGiveFromISR ( SemaphoreHandle_t xSemaphore, signed BaseType_t</li>
</ul>
<ul>
<li>pxHigherPriorityTaskWoken)<br/>
<img src="Semaphore%20interrupts.png" alt="Semaphore interrupts"/></li>
</ul>
</li>
</ul>
<h4>Mutexes</h4>
<p>Used to share common ressources</p>
<ul>
<li>Avoid mutual exclusion</li>
<li>the task whioch takes the mutex must release it</li>
<li>Mutex is a semaphore with priority inheritance<br/>
Mutex creation</li>
</ul>
<pre><code class="language-c">void vATask( void * pvParameters ) { 
/* Create a mutex type semaphore. */ 
xSemaphore = xSemaphoreCreateMutex(); 
	if( xSemaphore != NULL ) { 
	/* The semaphore was created successfully and can be used. */ 
	} 
}
</code></pre>
<p>A task needs a ressource and try to take the mutex</p>
<ul>
<li>It get it<br/>
A second task needs the ressource</li>
<li>Try to get it, ut fail<br/>
Used as a semaphore<br/>
<img src="Mutexes.png" alt="Mutexes"/><br/>
Mutex Overview<br/>
<img src="Mutex%20Overview.png" alt="Mutex Overview"/></li>
</ul>
<pre><code class="language-c">SemaphoreHandle_t xSemaphore = NULL;

/* A task that creates a mutex semaphore. */
void vATask(void *pvParameters)
{
    // Create a mutex to protect access to a shared resource.
    xSemaphore = xSemaphoreCreateMutex();
}

/* A task that uses the mutex semaphore. */
void vAnotherTask(void *pvParameters)
{
    // ... Perform other operations first

    if (xSemaphore != NULL)
    {
        // Try to take the mutex. Wait for up to 10 ticks.
        if (xSemaphoreTake(xSemaphore, (TickType_t)10) == pdTRUE)
        {
            // Successfully obtained the mutex.
            // Safe access to shared resource begins.
            // ...

            // Done with the shared resource, release the mutex.
            xSemaphoreGive(xSemaphore);
        }
        else
        {
            // Failed to obtain the mutex within 10 ticks.
            // Cannot safely access the shared resource.
        }
    }
}

</code></pre>
<p>Priority inversion<br/>
<img src="Priority%20inversion.png" alt="Priority inversion"/><br/>
This dangerous sequence of events is illustrated in before</p>
<ul>
<li>Low priority LP task and high priority HP task share a resource</li>
<li>After LP task takes the resources, HP Task becomes ready to run</li>
<li>HP task must wait for LP aTask to finish with the resource so it pends</li>
<li>Before LP Task finishes with the resource, MP Task becomes ready to run preempting LP Task</li>
<li>While MP Task( and perhaps additional intermediate priority task) runs, HP task, the highest-priority task in the system, remains in a pending state<br/>
<img src="Task%20priority%20inversion.png" alt="Task priority inversion"/></li>
</ul>
<h6>If the second task has a higher priority</h6>
<ul>
<li>It waits</li>
<li>The priority of the running task is raised to the second task priority</li>
</ul>
<h6>The waiting task keeps is initial priority</h6>
<h5>Interrupts</h5>
<p>Interrups rely on material<br/>
FreeRTOS provides methods to use interrupts<br/>
ISR functions are directly handled by the processor</p>
<ul>
<li>Specific actions must be taken for FreeRTOS to reconize them<br/>
Interrupt processing</li>
<li>Interrupt Service Routine</li>
<li>Interrupt Latency, Response and recovery</li>
<li>Interrupts to taks dialog<br/>
<img src="Interrupt%20latency%20NON%20preemptive.png" alt="Interrupt latency NON preemptive"/></li>
</ul>
<p><img src="Interrupt%20latency%20preemptive.png" alt="Interrupt latency preemptive"/></p>
<h5>FreeRTOS interrupts sharing</h5>
<p><img src="Interrupts%20sharing.png" alt="Interrupts sharing"/><br/>
ISR Processing must be as short as possible</p>
<ul>
<li>Long interrupts are partly deferred to a task<br/>
<img src="ISR%20deferred%20interrupts.png" alt="ISR deferred interrupts"/></li>
</ul>
<h4>Task resume</h4>
<p>Interrupts may dialog with tasks</p>
<ul>
<li>Use of dedicated API functions
<ul>
<li>Ends with &quot;FromISR«<br/>
Resume task from isr</li>
</ul>
</li>
<li>xTaskResumeFromISR</li>
</ul>
<pre><code class="language-c">
TaskHandle_t xHandle; // Handle to the task so it can be resumed later

/* Function that creates the task. */
void vAFunction(void)
{
    // Create a task and save its handle in xHandle
    xTaskCreate(vTaskCode, &quot;NAME&quot;, STACK_SIZE, NULL, tskIDLE_PRIORITY, &amp;xHandle);

    // ... Other initialization code
}

/* The task function that suspends itself. */
void vTaskCode(void *pvParameters)
{
    for (;;)
    {
        // Do something useful here...

        // Suspend the task — NULL means &quot;suspend self&quot;
        vTaskSuspend(NULL);

        // When resumed, it continues here
    }
}

/* Example ISR that resumes the suspended task. */
void vAnExampleISR(void)
{
    BaseType_t xYieldRequired;

    // Resume the task from the ISR
    xYieldRequired = xTaskResumeFromISR(xHandle);

    // If resuming the task unblocked a higher priority task, request a context switch
    if (xYieldRequired == pdTRUE)
    {
        // This macro is port-specific: it ensures a proper context switch if needed
        portYIELD_FROM_ISR();
    }
}

</code></pre>
<h4>Critical Sections</h4>
<p>Critical section: the task must not be preempted.</p>
<ul>
<li>All Interrupts are disabled</li>
<li>the tick timer too!</li>
</ul>
<p>Use a FreeRTOS primitive or a macro like cli()/sti() under Linux!</p>
<ul>
<li>void taskENTER_CRITICAL( void );</li>
<li>void taskEXIT_CRITICAL( void );</li>
</ul>
<pre><code class="language-c">void vDemoFunction(void) {
    taskENTER_CRITICAL();
    /* Protected action here */
    taskEXIT_CRITICAL();
}

void vTask1(void *pvParameters) {
    for (;;) {
        /* Functionality before critical section */
        taskENTER_CRITICAL();
        vDemoFunction();
        taskEXIT_CRITICAL();
    }
}
</code></pre>
<h5>scheduler suspend</h5>
<p>Suspends the scheduler</p>
<ul>
<li>without disabling interrupts.</li>
<li>void vTaskSuspendAll( void );</li>
<li>Disables Context switches</li>
<li>RTOS ticks will be held pending<br/>
Restart with</li>
<li>xTaskResumeAll().</li>
</ul>
<pre><code class="language-c">void vTask1(void *pvParameters) {
    for (;;) {
        // Task code goes here.
        // ...
        // At some point the task wants to perform a long operation during which it does not want to get swapped out.
        // It cannot use taskENTER_CRITICAL()/taskEXIT_CRITICAL() as the length of the operation may cause interrupts to be missed - including the ticks.
        // Prevent the RTOS kernel swapping out the task.
        vTaskSuspendAll();
        // Perform the operation here. There is no need to use critical sections as we have all the microcontroller processing time.
        // During this time interrupts will still operate and the RTOS kernel tick count will be maintained.
        // ...
        // The operation is complete. Restart the RTOS kernel.
        xTaskResumeAll();
    }
}

</code></pre>
<h4>Evetn groups</h4>
<p>Event groupsa llow events to be communicated to tasks</p>
<ul>
<li>Allow a task toi wait in the blocked state for a combination of one of more events to occur</li>
<li>Unblock all the tasks that were waiting for the same event, or combination eof events, when the event occurs</li>
<li>USeful for synchronizing multiple tasks</li>
<li>24 flag availale per event group<br/>
<img src="Event%20group.png" alt="Event group"/></li>
</ul>
<h4>event group or flags</h4>
<p>xEventGroupCreate():</p>
<ul>
<li>Creates an Event Group Flag (a bit from a memory location)</li>
<li>number of bits (or flags) implemented within an event group
<ul>
<li>8 bits if configUSE_16_BIT_TICKS =1</li>
<li>24 bits if configUSE_16_BIT_TICKS =0<br/>
vEventGroupDelete()</li>
</ul>
</li>
<li>Deletes the group flag<br/>
xEventGroupSetABits(), xEventGroupWaitBits():</li>
<li>a task posts for a Event Flag or waits an Event<br/>
xEventGroupClearBits</li>
<li>Clears specific bits<br/>
Additional functions:</li>
<li>xEventGroupGetBits() : get the current flag value</li>
</ul>
<p>Example 1 :</p>
<pre><code class="language-c">#define BIT_0 (1 &lt;&lt; 0)
#define BIT_4 (1 &lt;&lt; 4)
void aFunction(EventGroupHandle_t xEventGroup) {
    EventBits_t uxBits;
    /* Set bit 0 and bit 4 in xEventGroup. */
    /* The event group being updated. */
    /* The bits being set. */
    uxBits = xEventGroupSetBits(xEventGroup, BIT_0 | BIT_4);
    /* uxBits may be different from the value it is supposed to be: e.g. a task waiting on an event may clear it */
    if ((uxBits &amp; (BIT_0 | BIT_4)) == (BIT_0 | BIT_4)) {
        /* Both bit 0 and bit 4 remained set when the function returned. */
    } else if ((uxBits &amp; BIT_0) != 0) {
        /* Bit 0 remained set when the function returned, but bit 4 was
           cleared. It might be that bit 4 was cleared automatically as a
           task that was waiting for bit 4 was removed from the Blocked
           state. */
    } else if ((uxBits &amp; BIT_4) != 0) {
        /* Bit 4 remained set when the function returned, but bit 0 was
           cleared. It might be that bit 0 was cleared automatically as a
           task that was waiting for bit 0 was removed from the Blocked
           state. */
    } else {
        /* Neither bit 0 nor bit 4 remained set. It might be that a task
           was waiting for both of the bits to be set, and the bits were cleared
           as the task left the Blocked state. */
    }
}

</code></pre>
<pre><code class="language-c">/* Definitions for the event bits in the event group. */
#define mainFIRST_TASK_BIT  (1UL &lt;&lt; 0UL) /* Event bit 0, set by a task. */
#define mainSECOND_TASK_BIT (1UL &lt;&lt; 1UL) /* Event bit 1, set by a task. */
#define mainISR_BIT         (1UL &lt;&lt; 2UL) /* Event bit 2, set by an ISR. */

int main(void) {
    /* Before an event group can be used it must first be created. */
    xEventGroup = xEventGroupCreate();

    /* Create the task that sets event bits in the event group. */
    xTaskCreate(vEventBitSettingTask, &quot;Bit Setter&quot;, 1000, NULL, 1, NULL);

    /* Create the task that waits for event bits to get set in the event group. */
    xTaskCreate(vEventBitReadingTask, &quot;Bit Reader&quot;, 1000, NULL, 2, NULL);

    /* Create the task that periodically generates a software interrupt. */
    xTaskCreate(vInterruptGenerator, &quot;Int Gen&quot;, 1000, NULL, 3, NULL);

    /* Install the handler for the software interrupt.
       The syntax depends on the FreeRTOS port.
       This example is for the Windows port, where interrupts are simulated. */
    vPortSetInterruptHandler(mainINTERRUPT_NUMBER, ulEventBitSettingISR);

    /* Start the scheduler so the created tasks start executing. */
    vTaskStartScheduler();

    /* The following line should never be reached. */
    for(;;);

    return 0;
}

</code></pre>
<pre><code class="language-c">static void vEventBitSettingTask(void *pvParameters) {
    const TickType_t xDelay200ms = pdMS_TO_TICKS(200UL);
    for (;;) {
        /* Delay before setting bit 0. */
        vTaskDelay(xDelay200ms);
        /* Notify and set event bit 0. */
        vPrintString(&quot;Bit setting task -\t about to set bit 0.\r\n&quot;);
        xEventGroupSetBits(xEventGroup, mainFIRST_TASK_BIT);

        /* Delay before setting bit 1. */
        vTaskDelay(xDelay200ms);
        /* Notify and set event bit 1. */
        vPrintString(&quot;Bit setting task -\t about to set bit 1.\r\n&quot;);
        xEventGroupSetBits(xEventGroup, mainSECOND_TASK_BIT);
    }
}

</code></pre>
<pre><code class="language-c">static void vEventBitReadingTask(void *pvParameters) {
    EventBits_t xEventGroupValue;
    const EventBits_t xBitsToWaitFor = (mainFIRST_TASK_BIT | mainSECOND_TASK_BIT | mainISR_BIT);

    for (;;) {
        /* Block to wait for event bits to become set within the event group. */
        xEventGroupValue = xEventGroupWaitBits(
            xEventGroup,        /* The event group to read. */
            xBitsToWaitFor,     /* Bits to test. */
            pdTRUE,             /* Clear bits on exit if condition met. */
            pdFALSE,            /* Don&#x27;t wait for all bits (wait for any). */
            portMAX_DELAY       /* Wait indefinitely. */
        );

        /* Print a message for each bit that was set. */
        if ((xEventGroupValue &amp; mainFIRST_TASK_BIT) != 0)
            vPrintString(&quot;Bit reading task -\t Event bit 0 was set\r\n&quot;);

        if ((xEventGroupValue &amp; mainSECOND_TASK_BIT) != 0)
            vPrintString(&quot;Bit reading task -\t Event bit 1 was set\r\n&quot;);

        if ((xEventGroupValue &amp; mainISR_BIT) != 0)
            vPrintString(&quot;Bit reading task -\t Event bit 2 was set\r\n&quot;);
    }
}

</code></pre>
<pre><code class="language-c">static uint32_t ulEventBitSettingISR(void)
{
    /* The string is static to ensure it exists when the daemon task prints it, since ISR stack won&#x27;t exist then. */
    static const char *pcString = &quot;Bit setting ISR -\t about to set bit 2.\r\n&quot;;
    BaseType_t xHigherPriorityTaskWoken = pdFALSE;

    /* Defer printing from ISR to RTOS daemon task by pending the function call. */
    xTimerPendFunctionCallFromISR(vPrintStringFromDaemonTask, (void *)pcString, 0, &amp;xHigherPriorityTaskWoken);

    /* Set bit 2 in the event group from ISR. */
    xEventGroupSetBitsFromISR(xEventGroup, mainISR_BIT, &amp;xHigherPriorityTaskWoken);

    /* If any operation caused a higher priority task to unblock, request context switch. */
    portYIELD_FROM_ISR(xHigherPriorityTaskWoken);
}

</code></pre>
<h4>Memory Managament</h4>
<p>The memory Management includes :</p>
<ul>
<li>Static allocation</li>
<li>Dynamic allocation
<ul>
<li>heap_1 :simplest, does not permit memory to be freed</li>
<li>heap_2 : permits memory to be freed, but not does coalescence adjacent free blocks.</li>
<li>heap_3 : wraps the standard malloc() and free() for thread safety</li>
<li>heap_4 : coalescences adjacent free blocks to avoid fragmentation. Includes absolute address placement option</li>
<li>heap_5 : heap_4, with the ability to span the heap across multiple non-adjacent memory areas<br/>
Problem with malloc() and free(): it can run out of memory<br/>
Even if you calculate the memory, fragmentation can occur.<br/>
Use well suited dynamic allocation scheme :</li>
</ul>
</li>
<li>Heap_1 to heap_5<br/>
Or use static memory attribution</li>
<li>To have more control on allocated</li>
<li>When dynamic memory allocation is forbidden in some applications</li>
</ul>
<h4>Time management</h4>
<p>Clock tick: a clcok tick is a peridoci time source to keep track of time delays and time outs.</p>
<ul>
<li>Tick intervals: 1~100ms<br/>
The faster the tick rate, the higher the overhead impose on the system<br/>
When ever a clock tick occurs FreeRTOS increments a 32 bit counter<br/>
The counter starts at zero, and rolls over ot 4,294,967,295 * 2^32-2 ticks<br/>
A tasks can be delayed and a delayed task can also be resumed</li>
</ul>
<p>Five services :</p>
<ul>
<li>vTaskDelay(): delaying a task according a number of clock ticks</li>
<li>vTaskDelayUntil<br/>
Maximum delay 256 hours (11 days)</li>
<li>xTaskAbortDelay(): resuming a Delayed Task</li>
</ul>
<h4>Software timers</h4>
<p>implemented by and under the control of the kernel.<br/>
They do not require hardware support.<br/>
Do not use processing time(except call back function)</p>
<p>2 mode:</p>
<ul>
<li>One shot timer</li>
<li>auto reload timers<br/>
<img src="Software%20timers.png" alt="Software timers"/><br/>
Software timers have 2 states :</li>
<li>Dormant</li>
<li>Running</li>
<li>They execute in a daemon task context<br/>
<img src="State%20software%20timer.png" alt="State software timer"/><br/>
Software timer creation and deletion</li>
<li>xTimerCreate, xTimerCreateStatic</li>
<li>xTimerDelete<br/>
Timer informations</li>
<li>xTimerIsTimerActive, pvTimweGetTimerID</li>
<li>pcTimerGetName, pvTimerGetTimerID</li>
<li>vTimerSetTimerID, pcTimerGetName</li>
<li>xTimerGetPeriod,xTiomerGetExpiryTime<br/>
Timer operation</li>
<li>xTimerStart, xTimerStop</li>
<li>xTimerChangePeriod, xTimeReset<br/>
From ISR</li>
<li>xTimerStartFromISR, xTimerStopFromISR</li>
<li>xTimerChangePeriodFromeISR,xTimerResetFromISR</li>
</ul>
<p>Static task creation</p>
<pre><code class="language-c">TaskHandle_t xTaskCreateStatic(
    TaskFunction_t pvTaskCode,    // Pointer to the task entry function
    const char * const pcName,    // Name of the task (for debugging)
    uint32_t ulStackDepth,        // Size of the task stack (number of StackType_t elements)
    void *pvParameters,           // Pointer to parameters passed to the task
    UBaseType_t uxPriority,       // Priority of the task
    StackType_t *pxStackBuffer,   // Pointer to pre-allocated stack array (at least ulStackDepth elements)
    StaticTask_t *pxTaskBuffer    // Pointer to pre-allocated task control block (StaticTask_t variable)
);

</code></pre>
<p>Returns</p>
<ul>
<li>pdPASS if neither pxStackBuffer or pxTaskBuiffer are NULL</li>
<li>errCOULD_NOT_ALLOCATE_REQUIRED_MEMORY:pxStackBuffer or pxTaskBuffer are NULL<br/>
Example :</li>
</ul>
<pre><code class="language-c">// Dimensions the buffer that the task being
// created will use as its stack.
// NOTE: This is the number of words the stack
// will hold, not the number of bytes.
// For example, if each stack item is 32-bits,
// and this is set to 100,
// then 400 bytes (100 * 32-bits) will be allocated.
#define STACK_SIZE 200

// Structure that will hold the TCB (Task Control Block) of the task being created.
StaticTask_t xTaskBuffer;

// Buffer that the task being created will use as its stack. Note this is
// an array of StackType_t variables. The size of StackType_t is dependent on the RTOS port.
StackType_t xStack[STACK_SIZE];

// Function that implements the task being created.
void vTaskCode(void * pvParameters)
{
    // The parameter value is expected to be 1 as 1 is passed in
    // the pvParameters value in the call to xTaskCreateStatic().
    configASSERT((uint32_t) pvParameters == 1UL);

    for (;;)
    {
        // Task code goes here.
    }
}

// Function that creates the task.
void vOtherFunction(void)
{
    TaskHandle_t xHandle = NULL;

    // Create the task without using any dynamic memory allocation.
    xHandle = xTaskCreateStatic(
        vTaskCode,          // Function that implements the task.
        &quot;NAME&quot;,             // Text name for the task.
        STACK_SIZE,         // Stack size in words, not bytes.
        (void *) 1,         // Parameter passed into the task.
        tskIDLE_PRIORITY,   // Priority at which the task is created.
        xStack,             // Array to use as the task&#x27;s stack.
        &amp;xTaskBuffer        // Variable to hold the task&#x27;s data structure.
    );

    // puxStackBuffer and pxTaskBuffer were not NULL,
    // so the task will have been created,
    // and xHandle will be the task&#x27;s handle.
    // Use the handle to suspend the task.
    vTaskSuspend(xHandle);
}

</code></pre>
<h5>Function Lists</h5>
<ul>
<li><strong>System Functions Lists (primitives)</strong>
<ul>
<li><code>MX_FREERTOS_Init();</code> <code>osKernelStart();</code></li>
<li><code>vTaskStartScheduler</code></li>
<li><code>xTaskCreate</code>, <code>vTaskDelete</code>, <code>vTaskPrioritySet</code></li>
<li><code>vTaskDelayUntil</code>, <code>vTaskDelay</code>, <code>uxTaskPriorityGet</code></li>
<li><code>vTaskSuspend</code>, <code>vTaskResume</code></li>
<li><code>xTaskResumeFromISR</code>, <code>xTaskAbortDelay</code></li>
<li><code>taskENTER_CRITICAL</code>, <code>taskEXIT_CRITICAL</code></li>
<li><code>xTaskNotifyGive</code>, <code>ulTaskNotifyTake</code>, <code>xTaskNotify</code></li>
<li><code>xTimerCreate</code>, <code>xTimerStart</code>, <code>xTimerStop</code></li>
<li><code>xTimerChangePeriod</code>, <code>xTimerDelete</code></li>
<li><code>xTaskResumeFromISR</code></li>
<li><code>xQueueCreate</code>, <code>vQueueAddToRegistry</code></li>
<li><code>xQueueSend</code>, <code>xQueueReceive</code></li>
<li><code>xSemaphoreCreateBinary</code>, <code>xSemaphoreCreateCounting</code>, <code>xSemaphoreCreateMutex</code>, <code>vSemaphoreDelete</code></li>
<li><code>xSemaphoreGive</code>, <code>xSemaphoreTake</code></li>
<li><code>xTimerCreate</code>, <code>xTimerStart</code></li>
</ul>
</li>
</ul>
<h5>Split an application in tasks</h5>
<p>Separate all &quot;parallel&quot; activities<br/>
A cyclic activity generally needs a dedicated task<br/>
Splitt the app by functionalities:</p>
<ul>
<li>USer interface</li>
<li>Update of a display</li>
<li>errors handling</li>
<li>communications</li>
<li>etc...</li>
</ul>
<p><img src="App%20split%20in%20tasks.png" alt="App split in tasks"/><br/>
A driver may need one or more tasks (EX : Client - Server)<br/>
<img src="Driver.png" alt="Driver"/><br/>
Reduce inter-task coupling</p>
<ul>
<li>In the following example the second solution is often the best one<br/>
<img src="Multiple%20vs%20one.png" alt="Multiple vs one"/><br/>
Have not too few task</li>
<li>Whats the utility of the kernel?<br/>
Have not too much tasks</li>
<li>It increase the time spent in the kernel and the necessary RAM space<br/>
The task body</li>
<li>must generally consume more than twice the time needed for a context switch<br/>
Keep the task body simple</li>
<li>A task may call functions<br/>
No definitive rules Keep in mind:</li>
<li>All tasks are not critical</li>
<li>Examples of non critical tasks
<ul>
<li>User interface</li>
<li>Screen refresh</li>
<li>Keyboard scanning</li>
<li>Communication (eg:terminal)</li>
</ul>
</li>
<li>Example of critical tasks
<ul>
<li>Errors handling (system protection)</li>
<li>Control loops</li>
<li>I/O (analogical, digitals, etc)</li>
<li>Communciations (eg:CanBus)</li>
</ul>
</li>
</ul></div></div></div></article><footer class="bg-muted/50 py-12"><div class="container mx-auto px-4"><div class="flex flex-col md:flex-row justify-between items-center"><div class="mb-6 md:mb-0"><a class="text-xl font-bold tracking-tight" href="/">Matthieu GUYOT</a><p class="text-muted-foreground mt-2 max-w-md">Building the future with code and security. Passionate about technology, cybersecurity, and knowledge sharing.</p></div><div class="flex flex-col items-center md:items-end"><div class="flex space-x-4 mb-4"><a href="https://github.com/" target="_blank" rel="noopener noreferrer" aria-label="GitHub" class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 h-10 w-10 rounded-full hover:bg-primary/10 hover:text-primary"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github h-5 w-5"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg></a><a href="https://linkedin.com/" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn" class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 h-10 w-10 rounded-full hover:bg-primary/10 hover:text-primary"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-linkedin h-5 w-5"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect width="4" height="12" x="2" y="9"></rect><circle cx="4" cy="4" r="2"></circle></svg></a><a href="https://twitter.com/" target="_blank" rel="noopener noreferrer" aria-label="Twitter" class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 h-10 w-10 rounded-full hover:bg-primary/10 hover:text-primary"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-twitter h-5 w-5"><path d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"></path></svg></a></div><p class="text-sm text-muted-foreground">© <!-- -->2025<!-- --> Matthieu GUYOT. All rights reserved.</p></div></div></div></footer></main><script src="/_next/static/chunks/webpack-a3760f0212ccbb12.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/e4af272ccee01ff0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/css/45f8aa93ae81327e.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"3:I[2846,[],\"\"]\n5:I[168,[\"671\",\"static/chunks/671-870bf4da9bc73117.js\",\"242\",\"static/chunks/app/knowledge-hub/%5Bslug%5D/page-f17a1fa9deeef7f1.js\"],\"default\"]\n6:I[2972,[\"671\",\"static/chunks/671-870bf4da9bc73117.js\",\"242\",\"static/chunks/app/knowledge-hub/%5Bslug%5D/page-f17a1fa9deeef7f1.js\"],\"\"]\nd:I[4707,[],\"\"]\nf:I[6423,[],\"\"]\n10:I[2798,[\"185\",\"static/chunks/app/layout-dcf2fed02f629d0b.js\"],\"ThemeProvider\"]\n12:I[1060,[],\"\"]\n7:T5b2,__asm void xPortPendSVHandler(void)\n{\n    extern uxCriticalNesting\n    extern pxCurrentTCB\n    extern vTaskSwitchContext\n\n    PRESERVE8\n\n    mrs     r0, psp                // Get Process Stack Pointer\n    isb                            // Instruction Synchronization Barrier\n\n    ldr     r3, =pxCurrentTCB     // Load address of pxCurrentTCB\n    ldr     r2, [r3]              // Load the current TCB pointer\n\n    stmdb   r0!, {r4-r11}         // Save r4–r11 on the task's stack (Decrement Before)\n    str     r0, [r2]              // Save new stack pointer into current TCB\n\n    stmdb   sp!, {r3, lr}         // Save r3 and LR before calling function\n\n    mov     r0, #configMAX_SYSCALL_INTERRUPT_PRIORITY\n    msr     basepri, r0           // Mask interrupts at or below priority level\n\n    bl      vTaskSwitchContext    // Perform the actual context switch\n\n    mov     r0, #0\n    msr     basepri, r0           // Re-enable all interrupts\n\n    ldmia   sp!, {r3, lr}         // Restore r3 and LR\n    ldr     r1, [r3]              // Get new TCB (task to run)\n    ldr     r0, [r1]              // Get top of stack from new TCB\n\n    ldmia   r0!, {r4-r11}         // Restore registers for the new task\n    msr     psp, r0               // Set PSP to new task's stack\n    isb                           // Ensure instructions use updated PSP\n\n    bx      lr                    // Return to the task\n    nop                           // No operation (padding)\n}\n8:T40f,\nTaskHandle_t xHandle; // Handle to the task so it can be resumed later\n\n/* Function that creates the task. */\nvoid vAFunction(void)\n{\n    // Create "])</script><script>self.__next_f.push([1,"a task and save its handle in xHandle\n    xTaskCreate(vTaskCode, \"NAME\", STACK_SIZE, NULL, tskIDLE_PRIORITY, \u0026xHandle);\n\n    // ... Other initialization code\n}\n\n/* The task function that suspends itself. */\nvoid vTaskCode(void *pvParameters)\n{\n    for (;;)\n    {\n        // Do something useful here...\n\n        // Suspend the task — NULL means \"suspend self\"\n        vTaskSuspend(NULL);\n\n        // When resumed, it continues here\n    }\n}\n\n/* Example ISR that resumes the suspended task. */\nvoid vAnExampleISR(void)\n{\n    BaseType_t xYieldRequired;\n\n    // Resume the task from the ISR\n    xYieldRequired = xTaskResumeFromISR(xHandle);\n\n    // If resuming the task unblocked a higher priority task, request a context switch\n    if (xYieldRequired == pdTRUE)\n    {\n        // This macro is port-specific: it ensures a proper context switch if needed\n        portYIELD_FROM_ISR();\n    }\n}\n\n9:T532,#define BIT_0 (1 \u003c\u003c 0)\n#define BIT_4 (1 \u003c\u003c 4)\nvoid aFunction(EventGroupHandle_t xEventGroup) {\n    EventBits_t uxBits;\n    /* Set bit 0 and bit 4 in xEventGroup. */\n    /* The event group being updated. */\n    /* The bits being set. */\n    uxBits = xEventGroupSetBits(xEventGroup, BIT_0 | BIT_4);\n    /* uxBits may be different from the value it is supposed to be: e.g. a task waiting on an event may clear it */\n    if ((uxBits \u0026 (BIT_0 | BIT_4)) == (BIT_0 | BIT_4)) {\n        /* Both bit 0 and bit 4 remained set when the function returned. */\n    } else if ((uxBits \u0026 BIT_0) != 0) {\n        /* Bit 0 remained set when the function returned, but bit 4 was\n           cleared. It might be that bit 4 was cleared automatically as a\n           task that was waiting for bit 4 was removed from the Blocked\n           state. */\n    } else if ((uxBits \u0026 BIT_4) != 0) {\n        /* Bit 4 remained set when the function returned, but bit 0 was\n           cleared. It might be that bit 0 was cleared automatically as a\n           task that was waiting for bit 0 was removed from the Blocked\n           state. */\n    } else {\n        /* Neither bit 0 nor bit 4"])</script><script>self.__next_f.push([1," remained set. It might be that a task\n           was waiting for both of the bits to be set, and the bits were cleared\n           as the task left the Blocked state. */\n    }\n}\n\na:T510,/* Definitions for the event bits in the event group. */\n#define mainFIRST_TASK_BIT  (1UL \u003c\u003c 0UL) /* Event bit 0, set by a task. */\n#define mainSECOND_TASK_BIT (1UL \u003c\u003c 1UL) /* Event bit 1, set by a task. */\n#define mainISR_BIT         (1UL \u003c\u003c 2UL) /* Event bit 2, set by an ISR. */\n\nint main(void) {\n    /* Before an event group can be used it must first be created. */\n    xEventGroup = xEventGroupCreate();\n\n    /* Create the task that sets event bits in the event group. */\n    xTaskCreate(vEventBitSettingTask, \"Bit Setter\", 1000, NULL, 1, NULL);\n\n    /* Create the task that waits for event bits to get set in the event group. */\n    xTaskCreate(vEventBitReadingTask, \"Bit Reader\", 1000, NULL, 2, NULL);\n\n    /* Create the task that periodically generates a software interrupt. */\n    xTaskCreate(vInterruptGenerator, \"Int Gen\", 1000, NULL, 3, NULL);\n\n    /* Install the handler for the software interrupt.\n       The syntax depends on the FreeRTOS port.\n       This example is for the Windows port, where interrupts are simulated. */\n    vPortSetInterruptHandler(mainINTERRUPT_NUMBER, ulEventBitSettingISR);\n\n    /* Start the scheduler so the created tasks start executing. */\n    vTaskStartScheduler();\n\n    /* The following line should never be reached. */\n    for(;;);\n\n    return 0;\n}\n\nb:T466,static void vEventBitReadingTask(void *pvParameters) {\n    EventBits_t xEventGroupValue;\n    const EventBits_t xBitsToWaitFor = (mainFIRST_TASK_BIT | mainSECOND_TASK_BIT | mainISR_BIT);\n\n    for (;;) {\n        /* Block to wait for event bits to become set within the event group. */\n        xEventGroupValue = xEventGroupWaitBits(\n            xEventGroup,        /* The event group to read. */\n            xBitsToWaitFor,     /* Bits to test. */\n            pdTRUE,             /* Clear bits on exit if condition met. */\n            pdFALSE,            /* Don"])</script><script>self.__next_f.push([1,"'t wait for all bits (wait for any). */\n            portMAX_DELAY       /* Wait indefinitely. */\n        );\n\n        /* Print a message for each bit that was set. */\n        if ((xEventGroupValue \u0026 mainFIRST_TASK_BIT) != 0)\n            vPrintString(\"Bit reading task -\\t Event bit 0 was set\\r\\n\");\n\n        if ((xEventGroupValue \u0026 mainSECOND_TASK_BIT) != 0)\n            vPrintString(\"Bit reading task -\\t Event bit 1 was set\\r\\n\");\n\n        if ((xEventGroupValue \u0026 mainISR_BIT) != 0)\n            vPrintString(\"Bit reading task -\\t Event bit 2 was set\\r\\n\");\n    }\n}\n\nc:T72e,// Dimensions the buffer that the task being\n// created will use as its stack.\n// NOTE: This is the number of words the stack\n// will hold, not the number of bytes.\n// For example, if each stack item is 32-bits,\n// and this is set to 100,\n// then 400 bytes (100 * 32-bits) will be allocated.\n#define STACK_SIZE 200\n\n// Structure that will hold the TCB (Task Control Block) of the task being created.\nStaticTask_t xTaskBuffer;\n\n// Buffer that the task being created will use as its stack. Note this is\n// an array of StackType_t variables. The size of StackType_t is dependent on the RTOS port.\nStackType_t xStack[STACK_SIZE];\n\n// Function that implements the task being created.\nvoid vTaskCode(void * pvParameters)\n{\n    // The parameter value is expected to be 1 as 1 is passed in\n    // the pvParameters value in the call to xTaskCreateStatic().\n    configASSERT((uint32_t) pvParameters == 1UL);\n\n    for (;;)\n    {\n        // Task code goes here.\n    }\n}\n\n// Function that creates the task.\nvoid vOtherFunction(void)\n{\n    TaskHandle_t xHandle = NULL;\n\n    // Create the task without using any dynamic memory allocation.\n    xHandle = xTaskCreateStatic(\n        vTaskCode,          // Function that implements the task.\n        \"NAME\",             // Text name for the task.\n        STACK_SIZE,         // Stack size in words, not bytes.\n        (void *) 1,         // Parameter passed into the task.\n        tskIDLE_PRIORITY,   // Priority at which the task is created.\n"])</script><script>self.__next_f.push([1,"        xStack,             // Array to use as the task's stack.\n        \u0026xTaskBuffer        // Variable to hold the task's data structure.\n    );\n\n    // puxStackBuffer and pxTaskBuffer were not NULL,\n    // so the task will have been created,\n    // and xHandle will be the task's handle.\n    // Use the handle to suspend the task.\n    vTaskSuspend(xHandle);\n}\n\ne:[\"slug\",\"cours-md\",\"d\"]\n13:[]\n"])</script><script>self.__next_f.push([1,"0:[\"$\",\"$L3\",null,{\"buildId\":\"iU9oURWGdCS2TpEAt4Xzl\",\"assetPrefix\":\"\",\"urlParts\":[\"\",\"knowledge-hub\",\"cours-md\",\"\"],\"initialTree\":[\"\",{\"children\":[\"knowledge-hub\",{\"children\":[[\"slug\",\"cours-md\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"cours-md\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"knowledge-hub\",{\"children\":[[\"slug\",\"cours-md\",\"d\"],{\"children\":[\"__PAGE__\",{},[[\"$L4\",[\"$\",\"main\",null,{\"className\":\"min-h-screen bg-background\",\"children\":[[\"$\",\"$L5\",null,{}],[\"$\",\"article\",null,{\"className\":\"py-20 pt-32\",\"children\":[\"$\",\"div\",null,{\"className\":\"container mx-auto px-4 max-w-4xl\",\"children\":[[\"$\",\"div\",null,{\"className\":\"mb-8\",\"children\":[\"$\",\"$L6\",null,{\"href\":\"/knowledge-hub/\",\"children\":[\"$\",\"button\",null,{\"className\":\"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [\u0026_svg]:pointer-events-none [\u0026_svg]:size-4 [\u0026_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 gap-2\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-arrow-left h-4 w-4\",\"children\":[[\"$\",\"path\",\"1l729n\",{\"d\":\"m12 19-7-7 7-7\"}],[\"$\",\"path\",\"x3x0zl\",{\"d\":\"M19 12H5\"}],\"$undefined\"]}],\"Back to Knowledge Hub\"]}]}]}],[\"$\",\"div\",null,{\"className\":\"bg-card p-8 rounded-lg shadow-sm\",\"children\":[[\"$\",\"div\",null,{\"className\":\"mb-6\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"text-3xl font-bold mb-4\",\"children\":\"Introduction to Embedded Systems and FreeRTOS\"}],[\"$\",\"div\",null,{\"className\":\"flex items-center gap-2 text-muted-foreground mb-4\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-calendar h-4 w-4\",\"children\":[[\"$\",\"path\",\"1cmpym\",{\"d\":\"M8 2v4\"}],[\"$\",\"path\",\"4m81vk\",{\"d\":\"M16 2v4\"}],[\"$\",\"rect\",\"1hopcy\",{\"width\":\"18\",\"height\":\"18\",\"x\":\"3\",\"y\":\"4\",\"rx\":\"2\"}],[\"$\",\"path\",\"8toen8\",{\"d\":\"M3 10h18\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"children\":\"2025-07-29\"}]]}],[\"$\",\"div\",null,{\"className\":\"flex flex-wrap gap-2 mb-6\",\"children\":[[\"$\",\"$L6\",\"Embedded\",{\"href\":\"/tags/Embedded/\",\"children\":[\"$\",\"div\",null,{\"className\":\"rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground flex items-center gap-1 hover:bg-primary/10 cursor-pointer\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-tag h-3 w-3\",\"children\":[[\"$\",\"path\",\"vktsd0\",{\"d\":\"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z\"}],[\"$\",\"circle\",\"kqv944\",{\"cx\":\"7.5\",\"cy\":\"7.5\",\"r\":\".5\",\"fill\":\"currentColor\"}],\"$undefined\"]}],\"Embedded\"]}]}],[\"$\",\"$L6\",\"Systems\",{\"href\":\"/tags/Systems/\",\"children\":[\"$\",\"div\",null,{\"className\":\"rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground flex items-center gap-1 hover:bg-primary/10 cursor-pointer\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-tag h-3 w-3\",\"children\":[[\"$\",\"path\",\"vktsd0\",{\"d\":\"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z\"}],[\"$\",\"circle\",\"kqv944\",{\"cx\":\"7.5\",\"cy\":\"7.5\",\"r\":\".5\",\"fill\":\"currentColor\"}],\"$undefined\"]}],\"Systems\"]}]}],[\"$\",\"$L6\",\"FreeRTOS\",{\"href\":\"/tags/FreeRTOS/\",\"children\":[\"$\",\"div\",null,{\"className\":\"rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground flex items-center gap-1 hover:bg-primary/10 cursor-pointer\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-tag h-3 w-3\",\"children\":[[\"$\",\"path\",\"vktsd0\",{\"d\":\"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z\"}],[\"$\",\"circle\",\"kqv944\",{\"cx\":\"7.5\",\"cy\":\"7.5\",\"r\":\".5\",\"fill\":\"currentColor\"}],\"$undefined\"]}],\"FreeRTOS\"]}]}],[\"$\",\"$L6\",\"Microcontrollers\",{\"href\":\"/tags/Microcontrollers/\",\"children\":[\"$\",\"div\",null,{\"className\":\"rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground flex items-center gap-1 hover:bg-primary/10 cursor-pointer\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-tag h-3 w-3\",\"children\":[[\"$\",\"path\",\"vktsd0\",{\"d\":\"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z\"}],[\"$\",\"circle\",\"kqv944\",{\"cx\":\"7.5\",\"cy\":\"7.5\",\"r\":\".5\",\"fill\":\"currentColor\"}],\"$undefined\"]}],\"Microcontrollers\"]}]}],[\"$\",\"$L6\",\"Real-Time\",{\"href\":\"/tags/Real-Time/\",\"children\":[\"$\",\"div\",null,{\"className\":\"rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground flex items-center gap-1 hover:bg-primary/10 cursor-pointer\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-tag h-3 w-3\",\"children\":[[\"$\",\"path\",\"vktsd0\",{\"d\":\"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z\"}],[\"$\",\"circle\",\"kqv944\",{\"cx\":\"7.5\",\"cy\":\"7.5\",\"r\":\".5\",\"fill\":\"currentColor\"}],\"$undefined\"]}],\"Real-Time\"]}]}],[\"$\",\"$L6\",\"Systems\",{\"href\":\"/tags/Systems/\",\"children\":[\"$\",\"div\",null,{\"className\":\"rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground flex items-center gap-1 hover:bg-primary/10 cursor-pointer\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-tag h-3 w-3\",\"children\":[[\"$\",\"path\",\"vktsd0\",{\"d\":\"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z\"}],[\"$\",\"circle\",\"kqv944\",{\"cx\":\"7.5\",\"cy\":\"7.5\",\"r\":\".5\",\"fill\":\"currentColor\"}],\"$undefined\"]}],\"Systems\"]}]}],[\"$\",\"$L6\",\"IoT\",{\"href\":\"/tags/IoT/\",\"children\":[\"$\",\"div\",null,{\"className\":\"rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground flex items-center gap-1 hover:bg-primary/10 cursor-pointer\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-tag h-3 w-3\",\"children\":[[\"$\",\"path\",\"vktsd0\",{\"d\":\"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z\"}],[\"$\",\"circle\",\"kqv944\",{\"cx\":\"7.5\",\"cy\":\"7.5\",\"r\":\".5\",\"fill\":\"currentColor\"}],\"$undefined\"]}],\"IoT\"]}]}],[\"$\",\"$L6\",\"English\",{\"href\":\"/tags/English/\",\"children\":[\"$\",\"div\",null,{\"className\":\"rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground flex items-center gap-1 hover:bg-primary/10 cursor-pointer\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-tag h-3 w-3\",\"children\":[[\"$\",\"path\",\"vktsd0\",{\"d\":\"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z\"}],[\"$\",\"circle\",\"kqv944\",{\"cx\":\"7.5\",\"cy\":\"7.5\",\"r\":\".5\",\"fill\":\"currentColor\"}],\"$undefined\"]}],\"English\"]}]}]]}],[\"$\",\"div\",null,{\"className\":\"bg-muted/30 p-4 rounded-lg mb-6\",\"children\":[\"$\",\"p\",null,{\"className\":\"italic\",\"children\":\"Overview of embedded systems, their hardware/software components, and the use of FreeRTOS kernel for real-time task management.\"}]}]]}],[\"$\",\"div\",null,{\"className\":\"markdown max-w-none\",\"children\":[[\"$\",\"p\",\"p-0\",{\"children\":\"Based on the FreeRTOS kernel\"}],\"\\n\",[\"$\",\"p\",\"p-1\",{\"children\":\"Embedded system are material but also software. They can be brake system in cars, acceleration systeme etc... We don't need to use a traditional CPU to create them. Most of the time it's used by microcontroller. The design of those system is made for the application. Each task are limited to realize.\"}],\"\\n\",[\"$\",\"h2\",\"h2-0\",{\"children\":\"Physical components\"}],\"\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Microcontroller\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Memory (integrated or external)\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"Captors\"}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":\"Actuator\"}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":\"Communication (RS23 for TP)\"}],\"\\n\",[\"$\",\"li\",\"li-5\",{\"children\":\"Converter analog\"}],\"\\n\",[\"$\",\"li\",\"li-6\",{\"children\":\"Electrical supply\"}],\"\\n\",[\"$\",\"li\",\"li-7\",{\"children\":[\"HMI\",[\"$\",\"br\",\"br-0\",{}],\"\\nEmbedded System Structure\",[\"$\",\"br\",\"br-1\",{}],\"\\n\",[\"$\",\"img\",\"img-0\",{\"src\":\"Structure%20Embedded%20System.png\",\"alt\":\"Structure Embedded System\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",\"h3-0\",{\"children\":\"Design Hints\"}],\"\\n\",[\"$\",\"ul\",\"ul-1\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"Mostlu fast response time\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"0.01s to tens of micros\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"Smallest cost\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Less Components\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Smallest Area\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"Only needed resources\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"Best Performance/cost ratio\"}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":\"Portability\"}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":[\"Low power\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Battery kife\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-5\",{\"children\":\"Maintainability\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",\"h3-1\",{\"children\":\"Design Activiteis\"}],\"\\n\",[\"$\",\"ul\",\"ul-2\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"System specification\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Functions, Time constraintsm Cost and Power constraints\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Hardware Software Partitioning\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"Hardawre synsthesis\"}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":\"Software synsthesis and code generation\"}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":\"Simulation\"}],\"\\n\",[\"$\",\"li\",\"li-5\",{\"children\":\"implementation\"}],\"\\n\",[\"$\",\"li\",\"li-6\",{\"children\":\"test\"}],\"\\n\",[\"$\",\"li\",\"li-7\",{\"children\":\"deployment\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",\"h3-2\",{\"children\":\"Design management\"}],\"\\n\",[\"$\",\"p\",\"p-2\",{\"children\":\"Different models for those system\"}],\"\\n\",[\"$\",\"ul\",\"ul-3\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Water fall model\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"V-model\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"W model\"}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":\"Spiral model\"}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":[\"Cascade\",[\"$\",\"br\",\"br-0\",{}],\"\\n\",[\"$\",\"img\",\"img-0\",{\"src\":\"Waterfall%20Model.png\",\"alt\":\"Waterfall Model\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",\"h3-3\",{\"children\":\"V Model\"}],\"\\n\",[\"$\",\"p\",\"p-3\",{\"children\":[\"$\",\"img\",\"img-0\",{\"src\":\"V%20Model.png\",\"alt\":\"V Model\"}]}],\"\\n\",[\"$\",\"ul\",\"ul-4\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Top Down design\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Completion of a design activity is required to start the following one\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h4\",\"h4-0\",{\"children\":\"V model activities relationship\"}],\"\\n\",[\"$\",\"ul\",\"ul-5\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"Step by Step design\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Top Down\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Correspondence with tests\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[\"Each step has base documents\",[\"$\",\"br\",\"br-0\",{}],\"\\n\",[\"$\",\"img\",\"img-0\",{\"src\":\"V%20model%20activities%20relations.png\",\"alt\":\"V model activities relations\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"h4\",\"h4-1\",{\"children\":\"V model documentation\"}],\"\\n\",[\"$\",\"ul\",\"ul-6\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Design documents\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"Tests documents\",[\"$\",\"br\",\"br-0\",{}],\"\\n\",[\"$\",\"img\",\"img-0\",{\"src\":\"V%20model%20documentation.png\",\"alt\":\"V model documentation\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",\"h2-1\",{\"children\":\"How to describe the behavior of a complex system ?\"}],\"\\n\",[\"$\",\"h3\",\"h3-4\",{\"children\":\"Structured Analysis\"}],\"\\n\",[\"$\",\"h4\",\"h4-2\",{\"children\":\"Structure modeling methods examples\"}],\"\\n\",[\"$\",\"ul\",\"ul-7\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"UML / UML-RT\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Object oriented description\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"RT for real time considerations\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"SADT (Structured Analysis and Design Technique)\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Functional data flow-oriented design approach\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Simple method\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"No time considerations\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[\"SA (Structured Analysis by Yourdon \u0026 Demarco)\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"Similar concecpts of SADT\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Different formalism\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"SA-RT with time considerations for real-time systems\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Add control flow, state diagrams\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[\"Merise\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Used for information systems design\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":\"Agile methods\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":[\"SA-RT usage\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"System specifications\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Software specifications\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"Software logical architecture\"}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":\"Software dynamical architecture\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":[\"Two dialects\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"WARD \u0026 MELLOR\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"HATLEY PIRBHAI\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",\"h2-2\",{\"children\":\"Structure analysis objective\"}],\"\\n\",[\"$\",\"ul\",\"ul-8\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"System partitining\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Top down system description\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"The latest level is a basic function\",[\"$\",\"br\",\"br-0\",{}],\"\\n\",[\"$\",\"img\",\"img-0\",{\"src\":\"Simple%20structure%20analysis%20example.png\",\"alt\":\"Simple structure analysis example\"}]]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",\"h2-3\",{\"children\":\"Structure Analysis Concepts\"}],\"\\n\",[\"$\",\"h3\",\"h3-5\",{\"children\":\"Process (data transformation)\"}],\"\\n\",[\"$\",\"ul\",\"ul-9\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Activities that trasnform data\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"linked by dataflow to other processes, data store, and external entities\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",\"h3-6\",{\"children\":\"Data flow\"}],\"\\n\",[\"$\",\"ul\",\"ul-10\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Indicate transfer of data from output of one entity to input of another\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"represent a data group or data element\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",\"h3-7\",{\"children\":\"Data store\"}],\"\\n\",[\"$\",\"ul\",\"ul-11\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"a place where data is held for later use\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"data stores are passive: no transformations are performed on the data\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",\"h3-8\",{\"children\":\"External entity\"}],\"\\n\",[\"$\",\"ul\",\"ul-12\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"An activity outside the target system\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Acts as source or destination for dataflow that cross the system boundary\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"External entities cannot interact directly with data stores\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",\"h3-9\",{\"children\":\"Data group\"}],\"\\n\",[\"$\",\"ul\",\"ul-13\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"A cluster of data represented as a singel dataflow\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"consits of lower level data groups, or individual elements\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",\"h3-10\",{\"children\":\"Data element\"}],\"\\n\",[\"$\",\"ul\",\"ul-14\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"A basic unit of data\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",\"h2-4\",{\"children\":\"Structured Analysis tools\"}],\"\\n\",[\"$\",\"ul\",\"ul-15\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Context diagram\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Data flow diagram\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"Data dictionary\"}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":\"Primitive Process Specification\"}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":\"Structured Walkthrough (description)\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",\"h2-5\",{\"children\":\"Real -time analysis tools\"}],\"\\n\",[\"$\",\"ul\",\"ul-16\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Control\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"COntrol specification\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",\"h3-11\",{\"children\":\"Context diagram\"}],\"\\n\",[\"$\",\"ul\",\"ul-17\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Gives the main aim of the system (highest view)\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"identify the external entities with witch it will communicate\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"Usually controls and data joined in the same diagram\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"p-4\",{\"children\":[[\"$\",\"img\",\"img-0\",{\"src\":\"Context%20diagram%20example.png\",\"alt\":\"Context diagram example\"}],[\"$\",\"br\",\"br-0\",{}],\"\\n\",[\"$\",\"img\",\"img-1\",{\"src\":\"Legend%20for%20context%20diagram.png\",\"alt\":\"Legend for context diagram\"}]]}],\"\\n\",[\"$\",\"h3\",\"h3-12\",{\"children\":\"Data Flow diagram\"}],\"\\n\",[\"$\",\"ul\",\"ul-18\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"The system (PROCESS 0) is described with DFD 0\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"The main dataflow\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"Split the unique process into several ideentified processes\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Identified by a verb and an object\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[\"Terminal processes are described by a specification\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"THe functional primitives\",[\"$\",\"br\",\"br-0\",{}],\"\\n\",[\"$\",\"img\",\"img-0\",{\"src\":\"Example%20data%20flow.png\",\"alt\":\"Example data flow\"}],[\"$\",\"br\",\"br-1\",{}],\"\\n\",[\"$\",\"img\",\"img-1\",{\"src\":\"Legend%20data%20flow.png\",\"alt\":\"Legend data flow\"}]]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",\"h3-13\",{\"children\":\"Store / Reservoir\"}],\"\\n\",[\"$\",\"ul\",\"ul-19\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Configuration constants\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"Asynchronous communication elements\",[\"$\",\"br\",\"br-0\",{}],\"\\n\",[\"$\",\"img\",\"img-0\",{\"src\":\"Store%20example.png\",\"alt\":\"Store example\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",\"h3-14\",{\"children\":\"Data dictionary\"}],\"\\n\",[\"$\",\"ul\",\"ul-20\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Defines each data elemetn and data group\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Use of BNF (Backus-Naur Form) to define structured data groups\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h4\",\"h4-3\",{\"children\":\"Examples\"}],\"\\n\",[\"$\",\"p\",\"p-5\",{\"children\":[\"Mailing Label =\",[\"$\",\"br\",\"br-0\",{}],\"\\ncustomer_name + customer_address\",[\"$\",\"br\",\"br-1\",{}],\"\\ncustomer_name =\",[\"$\",\"br\",\"br-2\",{}],\"\\ncustomer_last_name + customer_first_name + customer_middle_initial\",[\"$\",\"br\",\"br-3\",{}],\"\\ncustomer_address =\",[\"$\",\"br\",\"br-4\",{}],\"\\nlocal_address + community_address + zip_code\",[\"$\",\"br\",\"br-5\",{}],\"\\nlocal_address =\",[\"$\",\"br\",\"br-6\",{}],\"\\nhouse_number + street_name + (apt_number)\",[\"$\",\"br\",\"br-7\",{}],\"\\ncommunity address =\",[\"$\",\"br\",\"br-8\",{}],\"\\ncity_name + [state_name | province_name]\"]}],\"\\n\",[\"$\",\"h3\",\"h3-15\",{\"children\":\"DFD structure\"}],\"\\n\",[\"$\",\"p\",\"p-6\",{\"children\":[\"$\",\"img\",\"img-0\",{\"src\":\"DFD%20Structure.png\",\"alt\":\"DFD Structure\"}]}],\"\\n\",[\"$\",\"h3\",\"h3-16\",{\"children\":\"PSPEC to describe a primitive process\"}],\"\\n\",[\"$\",\"ul\",\"ul-21\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Process SPECification\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"Usually one page size\",[\"$\",\"br\",\"br-0\",{}],\"\\nIN = AUTRE FLOT DONNEE\",[\"$\",\"br\",\"br-1\",{}],\"\\nIN = FLOT DE DONNEE EN ENTREE\",[\"$\",\"br\",\"br-2\",{}],\"\\nIN = PARTIE A\",[\"$\",\"br\",\"br-3\",{}],\"\\nOUT = AUTRE INFORMATION\",[\"$\",\"br\",\"br-4\",{}],\"\\nPSPEC F 1.1\",[\"$\",\"br\",\"br-5\",{}],\"\\n-- AUTRE FLOT DONNEE SI \\\"AUTRE FLOT DONNEE\\\" = \\\"FLOT DE DONNEE EN ENTREE\\\" ALORS ENVOYER \\\"AUTRE INFORMATION\\\" FIN SI\",[\"$\",\"br\",\"br-6\",{}],\"\\n\",[\"$\",\"img\",\"img-0\",{\"src\":\"Example%20SPEC.png\",\"alt\":\"Example SPEC\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"h4\",\"h4-4\",{\"children\":\"PSPEC of a vending system\"}],\"\\n\",[\"$\",\"pre\",\"pre-0\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"FOR EACH Shipped-order-detail \\n\\tGET customer-name + customer-address \\n\\tFOR EACH part-shipped \\n\\t\\tGET retail-price \\n\\t\\tMULTIPLY retail-price by quantity-shipped \\n\\t\\tTO OBTAIN total-this-order \\nCALCULATE shipping-and-handling \\nADD shipping-and-handling TO total-this-order \\n\\tTO OBTAIN total-this-invoice \\nPRINT invoice\\n\"}]}],\"\\n\",[\"$\",\"h3\",\"h3-17\",{\"children\":\"Dynamical behavior model (RT Part)\"}],\"\\n\",[\"$\",\"p\",\"p-7\",{\"children\":[\"$\",\"img\",\"img-0\",{\"src\":\"Dynamical%20behavior%20Model.png\",\"alt\":\"Dynamical behavior Model\"}]}],\"\\n\",[\"$\",\"h3\",\"h3-18\",{\"children\":\"In practice\"}],\"\\n\",[\"$\",\"ul\",\"ul-22\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"Decompose the systeme process into his main fucntions (from 3to 7)\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"LEvel 1 processes will become the kernel tasks\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"Place the data flow coming from the higher level diagram on the sub functions\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"if a flow is split at this level, notice it in the dictionary : (a=b+c)\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"If the processes don't execute continuously, place a CSPEC on the diagram\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Put the controls that activate and deactivate the processes of this level\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Define the CSPEC\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"Add internal flow(data or controls) between processes\"}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":\"dd sotre elemetns\"}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":\"define the PSPECS of the terminal processes\"}],\"\\n\",[\"$\",\"li\",\"li-5\",{\"children\":\"Do it again for each decomposed process\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h4\",\"h4-5\",{\"children\":\"Example\"}],\"\\n\",[\"$\",\"ul\",\"ul-23\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"A booking system with :\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"A user interface\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"An information system interface\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"Function\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"The customer choose on e itierary and the date and get a ticket\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"The reservation system holds the reservation\",[\"$\",\"br\",\"br-0\",{}],\"\\n\",[\"$\",\"img\",\"img-0\",{\"src\":\"Example%20Architecture%20of%20processes.png\",\"alt\":\"Example Architecture of processes\"}]]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h4\",\"h4-6\",{\"children\":\"Additional design considerations\"}],\"\\n\",[\"$\",\"ul\",\"ul-24\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"Choose the well suited logic system\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Microprocessor/microcontroller\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"CPLD/FPGA or ASICs\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"Realize the best hardware/software partition\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"Software gives flexibility\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Is cost investment\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"has memory size impact\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"Hardware gives performance and security\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Is cost recurrent\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"Choose the devlopment tools\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h1\",\"h1-0\",{\"children\":\"Hardware Equipment\"}],\"\\n\",[\"$\",\"p\",\"p-8\",{\"children\":[\"-72MHz STM32F107VC ARM Cortex™\",[\"$\",\"br\",\"br-0\",{}],\"\\n-M3 processorbased MCU in 100-pin LQFP\",[\"$\",\"br\",\"br-1\",{}],\"\\n-On-Chip Memory: 256KB Flash \u0026 64KB RAM\",[\"$\",\"br\",\"br-2\",{}],\"\\n-External Memory: 8KB I2C Flash -Color QVGA TFT LCD with touchscreen\",[\"$\",\"br\",\"br-3\",{}],\"\\n-10/100 Ethernet Port -USB 2.0 Full Speed\"]}],\"\\n\",[\"$\",\"ul\",\"ul-25\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"USB, USB-OTG, \u0026 USB Host\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"-2 CAN Interfaces\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"-Serial/UART Port -MicroSD Card Interface\"}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":\"-5-position Joystick and push-button\"}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":\"-3-axis Motion sensor / Accelerometer\"}],\"\\n\",[\"$\",\"li\",\"li-5\",{\"children\":\"-Analog Voltage Control for ADC Input\"}],\"\\n\",[\"$\",\"li\",\"li-6\",{\"children\":\"-Audio CODEC with Line-In/Out and Speaker\"}],\"\\n\",[\"$\",\"li\",\"li-7\",{\"children\":\"-80 GPIO pins\"}],\"\\n\",[\"$\",\"li\",\"li-8\",{\"children\":[\"Debug Interface Connectors\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"20 pin JTAG (0.1 inch connector)\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"10 pin Cortex debug (0.05 inch connector)\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[\"20-pin Cortex debug + ETM Trace (0.05 inch connector)\",[\"$\",\"br\",\"br-0\",{}],\"\\n\",[\"$\",\"img\",\"img-0\",{\"src\":\"STMMicroelectronics%20Processor.png\",\"alt\":\"STMMicroelectronics Processor\"}],[\"$\",\"br\",\"br-1\",{}],\"\\n\",[\"$\",\"img\",\"img-1\",{\"src\":\"MCBSTM32C%20board%20peripherals.png\",\"alt\":\"MCBSTM32C board peripherals\"}],[\"$\",\"br\",\"br-2\",{}],\"\\n\",[\"$\",\"img\",\"img-2\",{\"src\":\"MCBSTM32C%20schematics.png\",\"alt\":\"MCBSTM32C schematics\"}],[\"$\",\"br\",\"br-3\",{}],\"\\n\",[\"$\",\"img\",\"img-3\",{\"src\":\"MCBSTM32C%20schematics%20(GPIO%20and%20serial%20communication).png\",\"alt\":\"MCBSTM32C schematics (GPIO and serial communication)\"}],[\"$\",\"br\",\"br-4\",{}],\"\\n\",[\"$\",\"img\",\"img-4\",{\"src\":\"MCBSTM32C%20Schematic%20(Power%20\u0026%20RS232).png\",\"alt\":\"MCBSTM32C Schematic (Power \u0026 RS232)\"}]]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h1\",\"h1-1\",{\"children\":\"Development tool chain\"}],\"\\n\",[\"$\",\"h2\",\"h2-6\",{\"children\":\"Keil IDE\"}],\"\\n\",[\"$\",\"p\",\"p-9\",{\"children\":\"The Keil IDE is a cross graphical development environment including :\"}],\"\\n\",[\"$\",\"ul\",\"ul-26\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"a source code editor\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"a project manager\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"a cross compiler tool chain\"}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":\"a source level debugger • an ARM simulator\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"p-10\",{\"children\":[[\"$\",\"img\",\"img-0\",{\"src\":\"Keil%20IDE.png\",\"alt\":\"Keil IDE\"}],[\"$\",\"br\",\"br-0\",{}],\"\\n\",[\"$\",\"img\",\"img-1\",{\"src\":\"KEIL%20interface.png\",\"alt\":\"KEIL interface\"}]]}],\"\\n\",[\"$\",\"h3\",\"h3-19\",{\"children\":\"Software development tool\"}],\"\\n\",[\"$\",\"h3\",\"h3-20\",{\"children\":\"Software debug tool (Not used)\"}],\"\\n\",[\"$\",\"h2\",\"h2-7\",{\"children\":\"Segger JTAG debg solution\"}],\"\\n\",[\"$\",\"p\",\"p-11\",{\"children\":\"JtagJet is a JTAG emulator for the ARM Cortex M architectures.\"}],\"\\n\",[\"$\",\"ul\",\"ul-27\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Chameleon : the associated software tool.\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"Allow source level debug in C and assembly (ARM and THUMB2 (16/32 bit instructions))\",[\"$\",\"br\",\"br-0\",{}],\"\\n\",[\"$\",\"img\",\"img-0\",{\"src\":\"JTAGJet.png\",\"alt\":\"JTAGJet\"}],[\"$\",\"br\",\"br-1\",{}],\"\\n\",[\"$\",\"img\",\"img-1\",{\"src\":\"Cortex%20M3%20Characteristics.png\",\"alt\":\"Cortex M3 Characteristics\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",\"h3-21\",{\"children\":\"Hardware debugger (Jlink)\"}],\"\\n\",[\"$\",\"h3\",\"h3-22\",{\"children\":\"Keil software debugger\"}],\"\\n\",[\"$\",\"p\",\"p-12\",{\"children\":\"STM32F10x\"}],\"\\n\",[\"$\",\"ul\",\"ul-28\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"CPU ARM cortex MR\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"ALU works on registres\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"$\",\"img\",\"img-0\",{\"src\":\"Arm%20CORTEX%20M3.png\",\"alt\":\"Arm CORTEX M3\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"CPU registers\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Grey : accesible in privileged mode\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[[\"$\",\"img\",\"img-0\",{\"src\":\"CPU%20registers.png\",\"alt\":\"CPU registers\"}],[\"$\",\"br\",\"br-0\",{}],\"\\n\",[\"$\",\"img\",\"img-1\",{\"src\":\"Register%20use%20in%20C%20language.png\",\"alt\":\"Register use in C language\"}]]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h1\",\"h1-2\",{\"children\":\"Designing a real time embedded system\"}],\"\\n\",[\"$\",\"h2\",\"h2-8\",{\"children\":\"Sever consequences if\"}],\"\\n\",[\"$\",\"ul\",\"ul-29\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"logical correctness is not met\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Timing constraintes are not met\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",\"h2-9\",{\"children\":\"Two types of real-time systems\"}],\"\\n\",[\"$\",\"ul\",\"ul-30\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Soft real time (as fast as possible)\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Hard real-time (must be on time)\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",\"h2-10\",{\"children\":\"Mostly, real-time systems are embeded\"}],\"\\n\",[\"$\",\"ul\",\"ul-31\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Build around one or more microcontrollers\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Not seen by the user as a computer\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",\"h3-23\",{\"children\":\"Real time system example\"}],\"\\n\",[\"$\",\"ul\",\"ul-32\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Process flow control\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Automotive\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"robots\"}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":\"communications\"}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":\"compter peripherals\"}],\"\\n\",[\"$\",\"li\",\"li-5\",{\"children\":\"aerospace\"}],\"\\n\",[\"$\",\"li\",\"li-6\",{\"children\":\"domestic\"}],\"\\n\",[\"$\",\"li\",\"li-7\",{\"children\":\"IoT applications\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",\"h3-24\",{\"children\":\"Complexity\"}],\"\\n\",[\"$\",\"p\",\"p-13\",{\"children\":\"Very small size systems\"}],\"\\n\",[\"$\",\"ul\",\"ul-33\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Mostlu 8bit microcontrollers with little memory (\u003c128 Kb flash \u0026 \u003c1 Kb Ram)\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"Software developed with a background / foreground scheme (BFS)\",[\"$\",\"br\",\"br-0\",{}],\"\\nSmall size systems\"]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"High end 8 bits, 16bits and low end 32bits microC (up to 1Mb flash \u0026 up to 2 Mb oif Ram)\"}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":[\"BFS software or small or propietaryu real-time kernel(no royalties)\",[\"$\",\"br\",\"br-0\",{}],\"\\nMiddle to big size systems\"]}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":\"32bits microC(up to 4Mb flash \u0026 up to 8Mb Ram)\"}],\"\\n\",[\"$\",\"li\",\"li-5\",{\"children\":[\"Commercial real-time kernels with debug tools, file systems, network,...\",[\"$\",\"br\",\"br-0\",{}],\"\\nHigh end size systems\"]}],\"\\n\",[\"$\",\"li\",\"li-6\",{\"children\":\"PC like systems with scalable resources\"}],\"\\n\",[\"$\",\"li\",\"li-7\",{\"children\":[\"Use an operating system like Linux or equivalent\",[\"$\",\"br\",\"br-0\",{}],\"\\n\",[\"$\",\"img\",\"img-0\",{\"src\":\"Product%20without%20kernel.png\",\"alt\":\"Product without kernel\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"pre\",\"pre-1\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-Background\",\"children\":\"/* Background */\\nvoid main(void)\\n{\\n    Initialization;\\n\\n    while (1)  // FOREVER loop\\n    {\\n        Read_Analog_Inputs();\\n        Read_Discrete_Inputs();\\n        Perform_Monitoring_Functions();\\n        Perform_Control_Functions();\\n        Update_Analog_Outputs();\\n        Update_Discrete_Outputs();\\n        Scan_Keyboard();\\n        Handle_User_Interface();\\n        Update_Display();\\n        Handle_Communication_Requests();\\n        // Other...\\n    }\\n}\\n\\n/* Foreground */\\nISR(void)\\n{\\n    Handle_Asynchronous_Event();\\n}\\n\"}]}],\"\\n\",[\"$\",\"ul\",\"ul-34\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"The main problem with this type of architecture is that the response time in the background part is not deterministric\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Tasks have not always the same duration\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[\"In case of a code change in the loop the global loop timing is modified\",[\"$\",\"br\",\"br-0\",{}],\"\\n\",[\"$\",\"img\",\"img-0\",{\"src\":\"Infitinite%20loop.png\",\"alt\":\"Infitinite loop\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"h4\",\"h4-7\",{\"children\":\"Why use a real time kernel ?\"}],\"\\n\",[\"$\",\"ul\",\"ul-35\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"To guarantee a better temporal response on an asynchronous real time event\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"To be able to affect priorities to the different functions executed by the CPU\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"TO ease the adding of functionalities to the system\"}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":\"TO reduce the development time\"}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":\"TO easily ashare the dev of the application between several progeammers\"}],\"\\n\",[\"$\",\"li\",\"li-5\",{\"children\":\"To ease the software documentation\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h4\",\"h4-8\",{\"children\":\"Real time copncepts\"}],\"\\n\",[\"$\",\"ul\",\"ul-36\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"Critical sections of code (criticatl region)\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Code that need to be treated indivisibly (must not be interrupted)\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Specific actions are done before entering in the critical region\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"Resources\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Entity used by a task it may be memory or I/Os\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[\"Shared resources\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Resource that can be used by one or more tasks\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":[\"Tasks\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"A simpel program that thinks it has the CPU for itself\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Each task has a priority, its own registers an its own stack\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"IT can be in any of the following states: dormant, ready, running, waiting (for an event) or ISR (interrupted)\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":[\"Multitasking\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Process of scheduling and switching the CPU between several tasks\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Tasks scheduling\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-5\",{\"children\":[\"Mutual exclusion and semaphores\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"Used to share common resources\",[\"$\",\"br\",\"br-0\",{}],\"\\nMutitasking 1/2 :\",[\"$\",\"br\",\"br-1\",{}],\"\\n\",[\"$\",\"img\",\"img-0\",{\"src\":\"Multiple%20tasks.png\",\"alt\":\"Multiple tasks\"}],[\"$\",\"br\",\"br-2\",{}],\"\\nSwitch tasks operations\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-6\",{\"children\":\"Save the CPU registers in the current Task Control Bloc\"}],\"\\n\",[\"$\",\"li\",\"li-7\",{\"children\":\"Recover the new task data from the TCB\"}],\"\\n\",[\"$\",\"li\",\"li-8\",{\"children\":\"Resume the new task\"}],\"\\n\",[\"$\",\"li\",\"li-9\",{\"children\":\"Tasks switches add overhead to the application (up to 5% of CPU time for well design appliucations)\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h4\",\"h4-9\",{\"children\":\"Multitasking scheduling\"}],\"\\n\",[\"$\",\"ul\",\"ul-37\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"Round-Robin Scheduling\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"No tasks priorites\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Static priorities: do not change during execution of task\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[\"In rate Monotonic Scheduling(RM)\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Tasks with the highest rate of execution are given the highest priority\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":[\"Dynamic priorities\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"to remedy priority inversion\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h4\",\"h4-10\",{\"children\":\"Tasks states\"}],\"\\n\",[\"$\",\"ul\",\"ul-38\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Ready\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Running\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"Suspended\"}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":[\"Blocked\",[\"$\",\"br\",\"br-0\",{}],\"\\n\",[\"$\",\"img\",\"img-0\",{\"src\":\"Tasks%20states.png\",\"alt\":\"Tasks states\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"h4\",\"h4-11\",{\"children\":\"Non preemptive kernel behavior\"}],\"\\n\",[\"$\",\"p\",\"p-14\",{\"children\":[\"$\",\"img\",\"img-0\",{\"src\":\"Non%20preemptive%20kernel%20behavior.png\",\"alt\":\"Non preemptive kernel behavior\"}]}],\"\\n\",[\"$\",\"ul\",\"ul-39\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"Tasks must explicitly do something to give control to the kernel\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"This must be done frequently\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"So called cooperative multitasking\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[\"Each task can run up to completion\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"No need of reetrant fuctnions\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Small interrupt latency\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h4\",\"h4-12\",{\"children\":\"Preemptive Kernel behavior\"}],\"\\n\",[\"$\",\"p\",\"p-15\",{\"children\":[\"$\",\"img\",\"img-0\",{\"src\":\"Preemptive%20Kernel%20behavior.png\",\"alt\":\"Preemptive Kernel behavior\"}]}],\"\\n\",[\"$\",\"ul\",\"ul-40\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"The highest priority task ready to run is always given the CPU\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"When an ISR makes an higher priority task ready, at the end of th3e ISR the interruypted task is suspended and the new higher priority task resumed\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"So called preemptive multitasking\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[\"Each task may be interrupted\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"Need of reetrant functions\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Can use global but protected variable\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Locals variables and parameters are preferred\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Interrupt latency is higher\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h1\",\"h1-3\",{\"children\":\"FreeRTOS\"}],\"\\n\",[\"$\",\"p\",\"p-16\",{\"children\":\"Created in 2003 by Richard Barry and maintained by Real Time Engineers Ltd.\"}],\"\\n\",[\"$\",\"ul\",\"ul-41\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"OpenRTOS : Commercial grade with USB,TCP/IP and FAT\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"SafeRTOS : for Critical systems\",[\"$\",\"br\",\"br-0\",{}],\"\\nSince 2017 maintained by Amazon Web Services\"]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"FreeRTOS for IoT\"}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":[\"Completed with commercial services\",[\"$\",\"br\",\"br-0\",{}],\"\\nFreeRTOS is a portable, modular multitask real time kernel\"]}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":\"More than 20 silicon manufacturers\"}],\"\\n\",[\"$\",\"li\",\"li-5\",{\"children\":[\"many device families for each\",[\"$\",\"br\",\"br-0\",{}],\"\\nFreeRTOS provides services for embedded applications\"]}],\"\\n\",[\"$\",\"li\",\"li-6\",{\"children\":\"Resources sharing\"}],\"\\n\",[\"$\",\"li\",\"li-7\",{\"children\":\"Delays\"}],\"\\n\",[\"$\",\"li\",\"li-8\",{\"children\":[\"Inter-tasks communication and synchronization mechanisms\",[\"$\",\"br\",\"br-0\",{}],\"\\nFreeRtos is ROMMABLE\"]}],\"\\n\",[\"$\",\"li\",\"li-9\",{\"children\":\"4 to 9Kb size\"}],\"\\n\",[\"$\",\"li\",\"li-10\",{\"children\":[\"Used on embedded systems\",[\"$\",\"br\",\"br-0\",{}],\"\\nFreeRtos well suited for IoT applications (Amazon, Nabto, ...)\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"p-17\",{\"children\":\"Main characteristics of the FreeRtos real time kernel\"}],\"\\n\",[\"$\",\"ul\",\"ul-42\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Creatio and mangement of virtually unlimited number of tasks in the hardware limit\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Tasks waiting functions\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"Change of tasks priorities\"}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":\"Deletion of Tasks\"}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":\"Tasks suspension and resume\"}],\"\\n\",[\"$\",\"li\",\"li-5\",{\"children\":\"Creation and management of numerical and binary semaphores\"}],\"\\n\",[\"$\",\"li\",\"li-6\",{\"children\":\"sending of messages queues from interrupt function (ISR) or from task to an other task\"}],\"\\n\",[\"$\",\"li\",\"li-7\",{\"children\":[\"Round-Robin scheduling : if 2 or more tasks have the same priority\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Each tasks takes turns to run\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",\"h3-25\",{\"children\":\"What does it do?\"}],\"\\n\",[\"$\",\"p\",\"p-18\",{\"children\":\"Rate Monotonic Scheduling (RMS)\"}],\"\\n\",[\"$\",\"ul\",\"ul-43\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"tasks with the highest rate of executionn have the highest priority\",[\"$\",\"br\",\"br-0\",{}],\"\\nDEadline-Monotonic Scheduling(DMS)\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"Periodic tasks with shortest deadline have highest priority\",[\"$\",\"br\",\"br-0\",{}],\"\\nEarliest Deadline First (EDF)\"]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[\"The periodic task with earliest deadline will get highest priority (dynamic priority scheduling)\",[\"$\",\"br\",\"br-0\",{}],\"\\nOnly possible with additianl libraries\"]}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":\"ESFree\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",\"h2-11\",{\"children\":\"FreeRTOS port \u0026 components\"}],\"\\n\",[\"$\",\"h3\",\"h3-26\",{\"children\":\"Ports\"}],\"\\n\",[\"$\",\"p\",\"p-19\",{\"children\":\"Rules required to implement an RTOS on a micrcontroller\"}],\"\\n\",[\"$\",\"ol\",\"ol-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Have a C compiler that generates nesting code (preemptive RTOS)\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"THe microcontroller supports interrupts and a peridical interrupt is available(10 to 1KHz)\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"The interrupts mayu be deactivated by software\"}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":\"The processor can manage a hardware stack (some Kb min)\"}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":[\"The processor has instruction to save and restore CPU registers in the stack (SP,PC and general registers)\",[\"$\",\"br\",\"br-0\",{}],\"\\nStructure of a FreeRTOS application :\",[\"$\",\"br\",\"br-1\",{}],\"\\n\",[\"$\",\"img\",\"img-0\",{\"src\":\"Structure%20of%20a%20FreeRTOS%20application.png\",\"alt\":\"Structure of a FreeRTOS application\"}],[\"$\",\"br\",\"br-2\",{}],\"\\nKernel Structure\",[\"$\",\"br\",\"br-3\",{}],\"\\n\",[\"$\",\"img\",\"img-1\",{\"src\":\"Kernel%20Structure.png\",\"alt\":\"Kernel Structure\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"h4\",\"h4-13\",{\"children\":\"PRIMASK Register\"}],\"\\n\",[\"$\",\"p\",\"p-20\",{\"children\":\"THis register allow blocking exceptions\"}],\"\\n\",[\"$\",\"ul\",\"ul-44\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Only exceptions with configurable priority\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"One bit implemented\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"All priority configurable exceptions will be blocked\",[\"$\",\"br\",\"br-0\",{}],\"\\n\",[\"$\",\"img\",\"img-0\",{\"src\":\"PRIMASK.png\",\"alt\":\"PRIMASK\"}]]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h4\",\"h4-14\",{\"children\":\"Stack \u0026 Stack pointer\"}],\"\\n\",[\"$\",\"p\",\"p-21\",{\"children\":\"The Cortex M3 CPU manage a hardware stack\"}],\"\\n\",[\"$\",\"ul\",\"ul-45\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"The stack acts as a LIFO (of words)\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"A specific register SP (Stack POINTER is used to maintain the stack\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"SP countains the memory address of the last words in the stack\",[\"$\",\"br\",\"br-0\",{}],\"\\nThe SP register may be modifed for the programming purposes\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[\"SP(=R13)\",[\"$\",\"br\",\"br-0\",{}],\"\\nExample :\"]}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":[\"putting a word in the stack (PUSH)\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"SP value is decreadsed with the objkect size to be pushed(multiple of 4 bytes)\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Write the data at SP content address\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":[\"To free the stack from the data\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"Increase the SP value with size of the data to be removed (multiples of 4 bytes)\",[\"$\",\"br\",\"br-0\",{}],\"\\n\",[\"$\",\"img\",\"img-0\",{\"src\":\"Stack.png\",\"alt\":\"Stack\"}]]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h4\",\"h4-15\",{\"children\":\"Processors exceptions\"}],\"\\n\",[\"$\",\"p\",\"p-22\",{\"children\":\"Possibility for the CPU to change is execution context on :\"}],\"\\n\",[\"$\",\"ul\",\"ul-46\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Internal errors\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Special Instruction\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[\"External events\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"Communciations, timers\",[\"$\",\"br\",\"br-0\",{}],\"\\nExecution is passed to a dedicated function\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":\"Independant from user code\"}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":[\"Communication thru global variables\",[\"$\",\"br\",\"br-0\",{}],\"\\nSpecial Considerations\"]}],\"\\n\",[\"$\",\"li\",\"li-5\",{\"children\":\"Up to 16 priority levels\"}],\"\\n\",[\"$\",\"li\",\"li-6\",{\"children\":\"Exception can be interrupted by a higher priority exception\"}],\"\\n\",[\"$\",\"li\",\"li-7\",{\"children\":[\"Context switch may be time consuming (regarding memory speed)\",[\"$\",\"br\",\"br-0\",{}],\"\\n\",[\"$\",\"img\",\"img-0\",{\"src\":\"Processor%20exceptions.png\",\"alt\":\"Processor exceptions\"}],[\"$\",\"br\",\"br-1\",{}],\"\\n\",[\"$\",\"img\",\"img-1\",{\"src\":\"Exceptions.png\",\"alt\":\"Exceptions\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",\"h3-27\",{\"children\":\"Material ressources\"}],\"\\n\",[\"$\",\"h4\",\"h4-16\",{\"children\":\"FreeRTOS Cortex port\"}],\"\\n\",[\"$\",\"p\",\"p-23\",{\"children\":\"Use a specifi interrupts\"}],\"\\n\",[\"$\",\"ul\",\"ul-47\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"SysTick (preemptive RTOS mode)\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"time base (timer interrupt) for the RTOS\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"1 kHz or 100 Hz typic.  May be repaced by other timer.\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"PendSV (Pendable SerVice)\",[\"$\",\"br\",\"br-0\",{}],\"\\n- used by the OS to force a context switch.\"]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[\"SVCall (SuperVisor Call)\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"triggered by the SVC instruction\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"used by FreeRTOS to start the scheduler.\",[\"$\",\"br\",\"br-0\",{}],\"\\nRTOS interrupts priorities\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":\"Lowest priority\"}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":[\"Other interrupts may have higher priorities\",[\"$\",\"br\",\"br-0\",{}],\"\\n\",[\"$\",\"img\",\"img-0\",{\"src\":\"FreeRTOS%20interrupts%20ressources.png\",\"alt\":\"FreeRTOS interrupts ressources\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",\"h3-28\",{\"children\":\"vPortPendSVHandler\"}],\"\\n\",[\"$\",\"pre\",\"pre-2\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-c\",\"children\":\"$7\"}]}],\"\\n\",[\"$\",\"h4\",\"h4-17\",{\"children\":\"The Application Code:\"}],\"\\n\",[\"$\",\"p\",\"p-24\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"..\\\\..\\\\...\\\\Application\\\\User\"}]}],\"\\n\",[\"$\",\"ul\",\"ul-48\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"Main.c\"}]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"Gpio.c\"}]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[\"$\",\"em\",\"em-0\",{\"children\":\"All peripherals that are needed…\"}]}],\"\\n\"]}],\"\\n\",[\"$\",\"h4\",\"h4-18\",{\"children\":\"FreeRTOS (Kernel)\"}],\"\\n\",[\"$\",\"p\",\"p-25\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"..\\\\..\\\\..\\\\Middlewares\\\\Third_Party\\\\FreeRTOS\\\\Source\"}]}],\"\\n\",[\"$\",\"ul\",\"ul-49\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"Croutine.c\"}]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"Event_groups.c\"}]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"List.c\"}]}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"Queue.c\"}]}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"Tasks.c\"}]}],\"\\n\",[\"$\",\"li\",\"li-5\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"Timers.c\"}]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"p-26\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"..\\\\..\\\\..\\\\Middlewares\\\\Third_Party\\\\FreeRTOS\\\\Source\\\\Include\"}]}],\"\\n\",[\"$\",\"ul\",\"ul-50\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"croutine.h\"}]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"event_groups.h\"}]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"FreeRTOS.h\"}]}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"FreeRTOSConfig_template.h\"}]}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"list.h\"}]}],\"\\n\",[\"$\",\"li\",\"li-5\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"mpu_wrappers.h\"}]}],\"\\n\",[\"$\",\"li\",\"li-6\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"portable.h\"}]}],\"\\n\",[\"$\",\"li\",\"li-7\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"projdefs.h\"}]}],\"\\n\",[\"$\",\"li\",\"li-8\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"queue.h\"}]}],\"\\n\",[\"$\",\"li\",\"li-9\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"semphr.h\"}]}],\"\\n\",[\"$\",\"li\",\"li-10\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"stack_macros.h\"}]}],\"\\n\",[\"$\",\"li\",\"li-11\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"task.h\"}]}],\"\\n\",[\"$\",\"li\",\"li-12\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"timers.h\"}]}],\"\\n\"]}],\"\\n\",[\"$\",\"h4\",\"h4-19\",{\"children\":\"FreeRTOS Port\"}],\"\\n\",[\"$\",\"p\",\"p-27\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"..\\\\..\\\\..\\\\Middlewares\\\\Third_Party\\\\FreeRTOS\\\\Source\\\\CMSIS_RTOS\"}]}],\"\\n\",[\"$\",\"ul\",\"ul-51\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"cmsis_os.c\"}]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"cmsis_os.h\"}]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"p-28\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"..\\\\..\\\\..\\\\Middlewares\\\\Third_Party\\\\FreeRTOS\\\\Source\\\\portable\\\\MemMang\"}]}],\"\\n\",[\"$\",\"ul\",\"ul-52\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[[\"$\",\"code\",\"code-0\",{\"children\":\"heap_1.c\"}],\" to \",[\"$\",\"code\",\"code-1\",{\"children\":\"heap_5.c\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"p-29\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"..\\\\..\\\\..\\\\Middlewares\\\\Third_Party\\\\FreeRTOS\\\\Source\\\\portable\\\\RVDS\\\\ARM_CM3\"}]}],\"\\n\",[\"$\",\"ul\",\"ul-53\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[[\"$\",\"code\",\"code-0\",{\"children\":\"port.c\"}],\" \",[\"$\",\"em\",\"em-0\",{\"children\":\"(with assembly code)\"}]]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"portmacro.h\"}]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"p-30\",{\"children\":[\"Kernel configuration\",[\"$\",\"br\",\"br-0\",{}],\"\\nInitializing the kernel\",[\"$\",\"br\",\"br-1\",{}],\"\\nApplication considerations\"]}],\"\\n\",[\"$\",\"p\",\"p-31\",{\"children\":\"The FreeRTOSConfig.h file present in the freeRTOS directory allow to configure FreeRTOS\"}],\"\\n\",[\"$\",\"ul\",\"ul-54\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"It selects the needed functionalities\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"It fixes the number of tasks in the application\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[\"It fixes the number of semaphores, queues..., the application will use\",[\"$\",\"br\",\"br-0\",{}],\"\\nThe kernel memory size of FreeRTOS will change regarding those parameters\"]}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":\"The will affect the code size and the data size.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h4\",\"h4-20\",{\"children\":\"Init and Config\"}],\"\\n\",[\"$\",\"h5\",\"h5-0\",{\"children\":\"Main config\"}],\"\\n\",[\"$\",\"p\",\"p-32\",{\"children\":\"configMINIMAL_STACK_SIZE\"}],\"\\n\",[\"$\",\"ul\",\"ul-55\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"Minimal Stack size reserved for each task\",[\"$\",\"br\",\"br-0\",{}],\"\\nconfigLIBRARY_LOWEST_INTERRUPT_PRIORITY\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"The lowerst interrupt priority that can be used in a call to a \\\"set priority\\\"\",[\"$\",\"br\",\"br-0\",{}],\"\\nconfigLIBRARY_MAX_SYSCALL_INTERRUPT_PRIORITY\"]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"The highest interrupt priority that can be used by any interrupt service routnine that makes dcalls to interrupt safe FreeRTOS API functions.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h5\",\"h5-1\",{\"children\":\"Main functions\"}],\"\\n\",[\"$\",\"p\",\"p-33\",{\"children\":\"MX_FREERTOS_Init()\"}],\"\\n\",[\"$\",\"ul\",\"ul-56\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"Parameter freeRTOS\",[\"$\",\"br\",\"br-0\",{}],\"\\nosKernelStart()\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"run the OS\"}],\"\\n\"]}],\"\\n\",[\"$\",\"pre\",\"pre-3\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"void main(void)\\n{\\n    /* User initialization */\\n    MX_FREERTOS_Init();       // Kernel Initialization\\n    \\n    //- Initializes FreeRTOS’s Data Structures \\n    //- Creation of the applications tasks \\n    //- Create the ‘statistics task\\n    \\n    /* Install interrupt vectors */\\n    /* Create at least 1 task (Start Task) */\\n    /* Additional User code */\\n    osKernelStart();          // Start multitasking\\n\\n\\t//- Creates the idle task ( xTaskCreate) \\n\\t//- sets up a tick interrupt and timers for the correct tick frequency. \\n\\t//- Determines the Highest Priority Task Created \\n\\t//- Calls prvStartFirstTask () (asm code)\\n\\n    while (1) // Standard main loop (never accessed)\\n    {\\n    }\\n}\\n\\n\"}]}],\"\\n\",[\"$\",\"h4\",\"h4-21\",{\"children\":\"Build an application with FreeRTOS\"}],\"\\n\",[\"$\",\"p\",\"p-34\",{\"children\":[\"$\",\"img\",\"img-0\",{\"src\":\"Build%20an%20application%20with%20FreeRTOS.png\",\"alt\":\"Build an application with FreeRTOS\"}]}],\"\\n\",[\"$\",\"h3\",\"h3-29\",{\"children\":\"FreeRTOS Overview\"}],\"\\n\",[\"$\",\"ul\",\"ul-57\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Task states \u0026 Resources\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Task management\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"Interrupts management\"}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":\"Communications\"}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":\"Memory management\"}],\"\\n\",[\"$\",\"li\",\"li-5\",{\"children\":\"Time management\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h4\",\"h4-22\",{\"children\":\"Tasks states\"}],\"\\n\",[\"$\",\"p\",\"p-35\",{\"children\":\"Running\"}],\"\\n\",[\"$\",\"ul\",\"ul-58\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"task is actually executing.\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"It is currently utilizing the processor.\",[\"$\",\"br\",\"br-0\",{}],\"\\nReady\"]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"tasks is able to execute (not in the Blocked or Suspended state)\"}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":[\"not currently executing.\",[\"$\",\"br\",\"br-0\",{}],\"\\nBlocked\"]}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":\"Task is waiting for either a temporal or external event.\"}],\"\\n\",[\"$\",\"li\",\"li-5\",{\"children\":[\"Do not use the CPU and cannot enter the in Running state.\",[\"$\",\"br\",\"br-0\",{}],\"\\nSuspended\"]}],\"\\n\",[\"$\",\"li\",\"li-6\",{\"children\":\"cannot be selected to enter the Running state.\"}],\"\\n\",[\"$\",\"li\",\"li-7\",{\"children\":\"do not have a time out.\"}],\"\\n\",[\"$\",\"li\",\"li-8\",{\"children\":\"Go into suspended state\"}],\"\\n\",[\"$\",\"li\",\"li-9\",{\"children\":\"vTaskSuspend() function.\"}],\"\\n\",[\"$\",\"li\",\"li-10\",{\"children\":\"Exit from suspended state\"}],\"\\n\",[\"$\",\"li\",\"li-11\",{\"children\":\"xTaskResume() function.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"p-36\",{\"children\":[\"Blocked examples : Task calls vTaskDelay() it will block until the delay period has expired Tasks is waiting for queue, semaphore, event group, notification or semaphore event. Tasks in the Blocked state may have a 'timeout' period to be automatically unblocked\",[\"$\",\"br\",\"br-0\",{}],\"\\n\",[\"$\",\"img\",\"img-0\",{\"src\":\"Example%20tasks%20management.png\",\"alt\":\"Example tasks management\"}]]}],\"\\n\",[\"$\",\"h4\",\"h4-23\",{\"children\":\"Multiple Tasks\"}],\"\\n\",[\"$\",\"p\",\"p-37\",{\"children\":\"each Task Control Block (TCB) contains\"}],\"\\n\",[\"$\",\"ul\",\"ul-59\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"An identifier\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"character string\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"Memory address\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"first instruction of the task\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"Priority\"}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":[\"Current task state\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"running, ready, block, or suspended.\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":[\"Pointer to the stack\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"where context of the task is stored\",[\"$\",\"br\",\"br-0\",{}],\"\\n\",[\"$\",\"img\",\"img-0\",{\"src\":\"Mutiple%20Tasks.png\",\"alt\":\"Mutiple Tasks\"}]]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h4\",\"h4-24\",{\"children\":\"Stack grows\"}],\"\\n\",[\"$\",\"p\",\"p-38\",{\"children\":\"From top to bottom\"}],\"\\n\",[\"$\",\"ul\",\"ul-60\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"portSTACK_GROWTH = -1 for Cortex M processors\",[\"$\",\"br\",\"br-0\",{}],\"\\nbottom to top\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h4\",\"h4-25\",{\"children\":\"Two stacks\"}],\"\\n\",[\"$\",\"ul\",\"ul-61\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"MSP (Main Stack Pointer)\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"used during statrup, mian() and interrupts\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"PSP (Process Stack Pointer)\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Is used by the process/tasks\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h4\",\"h4-26\",{\"children\":\"Tasks\"}],\"\\n\",[\"$\",\"p\",\"p-39\",{\"children\":\"Creation/deletion of tasks\"}],\"\\n\",[\"$\",\"ul\",\"ul-62\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"xTaskCreate, vTaskDelete\",[\"$\",\"br\",\"br-0\",{}],\"\\nTasks control:\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"vTaskDelay, uxTaskPriorityGet, vTaskPrioritySet\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"vTaskSuspend, vTaskResume\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h4\",\"h4-27\",{\"children\":\"Tasks may not return a value\"}],\"\\n\",[\"$\",\"ul\",\"ul-63\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Type is always void\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h4\",\"h4-28\",{\"children\":\"Tasks must be\"}],\"\\n\",[\"$\",\"ul\",\"ul-64\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"endless loop\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"can be detected\"}],\"\\n\"]}],\"\\n\",[\"$\",\"pre\",\"pre-4\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-example\",\"children\":\"portTASK_FUNCTION( vATaskFunction, pvParameters ) {\\n\\tfor( ;; ) \\n\\t\\t{ -- Task application code here. -- } \\n}\\n\"}]}],\"\\n\",[\"$\",\"ul\",\"ul-65\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Unlimited number of tasks (RAM limitation only)\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Priority is a number between 0 and configMAX_PRIORITIES\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"lowest priority is priority 0\"}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":\"lowest levels the idle task priority !\"}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":\"For configMAX_PRIORITIES see FreeRTOS.H\"}],\"\\n\",[\"$\",\"li\",\"li-5\",{\"children\":[\"There is always one task present: the idle task\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Created when the scheduler is started\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"pre\",\"pre-5\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-c\",\"children\":\"portBASE_TYPE xTaskCreate(\\n    pdTASK_CODE         pvTaskCode,       // Pointer to the task function\\n    const portCHAR * const pcName,        // Name of the task (for debugging)\\n    unsigned portSHORT   usStackDepth,    // Stack size (in words, not bytes)\\n    void *               pvParameters,    // Pointer to parameters passed to the task\\n    unsigned portBASE_TYPE uxPriority,    // Task priority (0 to MAX_PRIORITIES - 1)\\n    xTaskHandle *        pvCreatedTask    // Pointer to return task handle (can be NULL)\\n);\\n\"}]}],\"\\n\",[\"$\",\"h4\",\"h4-29\",{\"children\":\"Function prototype\"}],\"\\n\",[\"$\",\"pre\",\"pre-6\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-example\",\"children\":\"// Prototype for task creation\\nBaseType_t xTaskCreate(\\n    TaskFunction_t pvTaskCode,       // Pointer to the task entry function\\n    const char * const pcName,       // Descriptive name for the task\\n    unsigned short usStackDepth,     // Stack size in words (not bytes)\\n    void *pvParameters,              // Parameter passed into the task\\n    UBaseType_t uxPriority,          // Task priority\\n    TaskHandle_t *pxCreatedTask      // Handle returned to reference the task (optional)\\n);\\n\"}]}],\"\\n\",[\"$\",\"h4\",\"h4-30\",{\"children\":\"Parameters\"}],\"\\n\",[\"$\",\"ul\",\"ul-66\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"pvTaskCode\"}]}],\": Pointer to the task entry function.\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"pcName\"}]}],\": Descriptive name for the task (mainly for debugging).\"]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"usStackDepth\"}]}],\": Stack size in \",[\"$\",\"strong\",\"strong-1\",{\"children\":\"words\"}],\", not bytes.\"]}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":[[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"pvParameters\"}]}],\": Value passed into the task as its parameter.\"]}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":[[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"uxPriority\"}]}],\": Priority of the task (e.g., \",[\"$\",\"code\",\"code-0\",{\"children\":\"tskIDLE_PRIORITY\"}],\").\"]}],\"\\n\",[\"$\",\"li\",\"li-5\",{\"children\":[[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"pxCreatedTask\"}]}],\": (Optional) Pointer to a handle to manage the created task. Can be \",[\"$\",\"code\",\"code-0\",{\"children\":\"NULL\"}],\".\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h4\",\"h4-31\",{\"children\":\"Return Value\"}],\"\\n\",[\"$\",\"ul\",\"ul-67\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[[\"$\",\"code\",\"code-0\",{\"children\":\"pdPASS\"}],\": Task was successfully created.\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[[\"$\",\"code\",\"code-0\",{\"children\":\"errCOULD_NOT_ALLOCATE_REQUIRED_MEMORY\"}],\" (or \",[\"$\",\"code\",\"code-1\",{\"children\":\"pdFAIL\"}],\"): Task creation failed (e.g., insufficient heap memory).\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"pre\",\"pre-7\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"// Example task implementation\\nvoid vTaskCode(void *pvParameters)\\n{\\n    // Assert that the passed parameter is 1\\n    configASSERT(((uint32_t) pvParameters) == 1);\\n\\n    for (;;)\\n    {\\n        // Task code goes here\\n    }\\n}\\n\\n// Function to create and manage the task\\nvoid vOtherFunction(void)\\n{\\n    BaseType_t xReturned;\\n    TaskHandle_t xHandle = NULL;\\n\\n    // Create the task and store its handle\\n    xReturned = xTaskCreate(\\n        vTaskCode,         // Task function\\n        \\\"NAME\\\",            // Task name\\n        STACK_SIZE,        // Stack size in words\\n        (void *)1,         // Parameter passed to task\\n        tskIDLE_PRIORITY,  // Task priority\\n        \u0026xHandle           // Pointer to store task handle\\n    );\\n\\n    if (xReturned == pdPASS)\\n    {\\n        // Task successfully created, now delete it\\n        vTaskDelete(xHandle);\\n    }\\n}\\n\\n\"}]}],\"\\n\",[\"$\",\"h4\",\"h4-32\",{\"children\":\"Tasks deletion\"}],\"\\n\",[\"$\",\"p\",\"p-40\",{\"children\":\"void vTaskDelete(TaskHandle_t xTask);\"}],\"\\n\",[\"$\",\"h5\",\"h5-2\",{\"children\":\"Parameter\"}],\"\\n\",[\"$\",\"ul\",\"ul-68\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"xTask : The handle of the task to be deleted\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"NULL for self delete Task\",[\"$\",\"br\",\"br-0\",{}],\"\\nFreeing resources before deletion\",[\"$\",\"br\",\"br-1\",{}],\"\\nThe task being deleted will be removed from all ready, blocked, suspended and event lists.\",[\"$\",\"br\",\"br-2\",{}],\"\\nThe idle task is freeing the RTOS kernel allocated memory from tasks that have been deleted.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"pre\",\"pre-8\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-c\",\"children\":\"void vOtherFunction( void ) { \\n\\tTaskHandle_t xHandle = NULL; // Create the task, storing the handle. \\n\\txTaskCreate( vTaskCode, \\\"NAME\\\", STACK_SIZE, NULL, tskIDLE_PRIORITY, \u0026xHandle ); \\n\\t// Use the handle to delete the task. \\n\\tif( xHandle != NULL ) { \\n\\tvTaskDelete( xHandle ); \\n\\t} \\n}\\n\"}]}],\"\\n\",[\"$\",\"pre\",\"pre-9\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-c\",\"children\":\"/* Task to be created */\\nvoid vTaskCode(void *pvParameters)\\n{\\n    for (;;)\\n    {\\n        /* Task code goes here */\\n    }\\n}\\n\\n/* Function that creates a task */\\nvoid vOtherFunction(void)\\n{\\n    static unsigned char ucParameterToPass;\\n    xTaskHandle xHandle;\\n\\n    xTaskCreate(\\n        vTaskCode,              // Task function\\n        \\\"NAME\\\",                 // Task name\\n        STACK_SIZE,             // Stack size (in words)\\n        \u0026ucParameterToPass,     // Task parameter\\n        tskIDLE_PRIORITY,       // Task priority\\n        \u0026xHandle                // Handle to created task\\n    );\\n\\n    /* Use the handle to delete the task */\\n    vTaskDelete(xHandle);\\n}\\n\\n\"}]}],\"\\n\",[\"$\",\"h4\",\"h4-33\",{\"children\":\"Scheduling tasks : priorities\"}],\"\\n\",[\"$\",\"p\",\"p-41\",{\"children\":\"The scheduler determine which task to run\"}],\"\\n\",[\"$\",\"ul\",\"ul-69\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"Depending on the priorities\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"In preemptive mode by default\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"May be configured for collaborative operation\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"Number of priorities : tskMAX_PRIORITIES in FreeRTOSConfig.h\",[\"$\",\"br\",\"br-0\",{}],\"\\nStatic priorities: Do not change during execution of task\"]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[\"FreeRTOS implemetation\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"low priority numbers denot low priority taks\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"the idle task has priority zero (tskIDLE_PRIORITY)\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":[\"Code can change the priority:\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"vTaskPrioritySet\",[\"$\",\"br\",\"br-0\",{}],\"\\nDynamic priorities: to remedy priority inversion\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"Not supported by FreeRTOS\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"BUt manage priority inheritance (Mutex)\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"minimize priority inversion effects in some situations\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h5\",\"h5-3\",{\"children\":\"Scheduler\"}],\"\\n\",[\"$\",\"p\",\"p-42\",{\"children\":\"Starvation\"}],\"\\n\",[\"$\",\"ul\",\"ul-70\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"if a maximal priority task is continously running, the other tasks wont execute\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"there is no automatic mechanism to avoid this\",[\"$\",\"br\",\"br-0\",{}],\"\\nSolutions\"]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"Verify that there is no such situation\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h5\",\"h5-4\",{\"children\":\"Idle Task\"}],\"\\n\",[\"$\",\"p\",\"p-43\",{\"children\":\"The microcontroller must always do something\"}],\"\\n\",[\"$\",\"ul\",\"ul-71\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"An idle task is automatically created at the scheduler start\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"The idle task is responsible for:\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Compute statistics\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Recover memory from deleted tasks\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"calculate the processor utilization\"}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":\"put the processor in low power mode\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h5\",\"h5-5\",{\"children\":\"Lists\"}],\"\\n\",[\"$\",\"p\",\"p-44\",{\"children\":[\"Lists = internal system tools\",[\"$\",\"br\",\"br-0\",{}],\"\\nUsed in FreeRTOS\"]}],\"\\n\",[\"$\",\"ul\",\"ul-72\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"For tasks scheduling\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"For files implementation\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[\"Many structures to descibe the lists\",[\"$\",\"br\",\"br-0\",{}],\"\\nxLIST is the header of the scheduler created and used lists :\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"pre\",\"pre-10\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-c\",\"children\":\"typedef struct xLIST\\n{\\n    volatile unsigned portBASE_TYPE uxNumberOfItems;\\n    /* Number of items in the list. */\\n\\n    volatile xListItem *pxIndex;\\n    /* Pointer used to iterate through the list. */\\n\\n    volatile xMiniListItem xListEnd;\\n    /* Sentinel item marking the end of the list. */\\n} xList;\\n\"}]}],\"\\n\",[\"$\",\"p\",\"p-45\",{\"children\":\"xLIST_ITEM: are the double chained lists of elements :\"}],\"\\n\",[\"$\",\"pre\",\"pre-11\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-c\",\"children\":\"typedef struct xLIST_ITEM\\n{\\n    portTickType xItemValue;\\n    /* A value assigned to this list item. */\\n\\n    volatile struct xLIST_ITEM *pxNext;\\n    /* Pointer to the next list item. */\\n\\n    volatile struct xLIST_ITEM *pxPrevious;\\n    /* Pointer to the previous list item. */\\n\\n    void *pvOwner;\\n    /* Pointer to the object that owns this list item. */\\n\\n    void *pvContainer;\\n    /* Pointer to the list this item belongs to. */\\n} xListItem;\\n\\n\"}]}],\"\\n\",[\"$\",\"p\",\"p-46\",{\"children\":\"xMINI_LIST_ITEM: smaller implementation of xLIST_ITEM.\"}],\"\\n\",[\"$\",\"ul\",\"ul-73\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Doesn't have pvOwner and pvContainer members\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"Represents an end of list element.\",[\"$\",\"br\",\"br-0\",{}],\"\\nLists synoptic :\",[\"$\",\"br\",\"br-1\",{}],\"\\n\",[\"$\",\"img\",\"img-0\",{\"src\":\"Lists%20synoptic.png\",\"alt\":\"Lists synoptic\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"h4\",\"h4-34\",{\"children\":\"Tasks communication\"}],\"\\n\",[\"$\",\"p\",\"p-47\",{\"children\":\"Semaphore why to use?\"}],\"\\n\",[\"$\",\"ul\",\"ul-74\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Access to a shared resource\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"signal the occurrence of event\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[\"allow two tasks to synchronize\",[\"$\",\"br\",\"br-0\",{}],\"\\nType\"]}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":\"binary\"}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":[\"counting\",[\"$\",\"br\",\"br-0\",{}],\"\\nMessage mailboxes\",[\"$\",\"br\",\"br-1\",{}],\"\\nmessage queues\",[\"$\",\"br\",\"br-2\",{}],\"\\nevents\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h5\",\"h5-6\",{\"children\":\"Message Queues\"}],\"\\n\",[\"$\",\"p\",\"p-48\",{\"children\":\"xQueueCreate,xQueueCreateStatic\"}],\"\\n\",[\"$\",\"ul\",\"ul-75\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"Creates a message queue\",[\"$\",\"br\",\"br-0\",{}],\"\\nvQueueDelete\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"Deletes the queue(queue memory also)\",[\"$\",\"br\",\"br-0\",{}],\"\\nxQueueReceive, xQueueSend\"]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[\"Queues send and receive functions\",[\"$\",\"br\",\"br-0\",{}],\"\\nAdditional fucntions\"]}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":\"uxQueueMessagesWaiting : returns the number of message in the queue\"}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":\"uxQueueSpacesAvailable : returns the number of free spaces available in the queue.\"}],\"\\n\",[\"$\",\"li\",\"li-5\",{\"children\":\"xQueueReset : resets a queue to its originial empty state\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h5\",\"h5-7\",{\"children\":\"Queues\"}],\"\\n\",[\"$\",\"p\",\"p-49\",{\"children\":\"Create a queue\"}],\"\\n\",[\"$\",\"pre\",\"pre-12\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-c\",\"children\":\"xQueueHandle xQueueCreate( \\nunsigned portBASE_TYPE uxQueueLength, \\n/* Nombre d’éléments. */ \\nunsigned portBASE_TYPE uxItemSize \\n/* Taille d’un élément. */ );\\n\"}]}],\"\\n\",[\"$\",\"h6\",\"h6-0\",{\"children\":\"Reading\"}],\"\\n\",[\"$\",\"p\",\"p-50\",{\"children\":[\"IF several task want read in a queue the one of the highest priority choosen\",[\"$\",\"br\",\"br-0\",{}],\"\\nIn case of same priorityu the firstwhich asked fir the queue will get the info.\",[\"$\",\"br\",\"br-1\",{}],\"\\nA read element will be removed from the queue\"]}],\"\\n\",[\"$\",\"ul\",\"ul-76\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"xQueuePeek\"}],\"\\n\"]}],\"\\n\",[\"$\",\"pre\",\"pre-13\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-c\",\"children\":\"portBASE_TYPE xQueueReceive( \\nxQueueHandle xQueue, \\n/* Identifiant de la file. */ \\nconst void * pvBuffer, /* Pointeur vers un buffer où la donnée sera copiée. */ portTickType xTicksToWait /* Valeur de timeout. */ );\\n\"}]}],\"\\n\",[\"$\",\"p\",\"p-51\",{\"children\":\"Same considerations as for reading\"}],\"\\n\",[\"$\",\"pre\",\"pre-14\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-c\",\"children\":\"/* FIFO Mode */ portBASE_TYPE xQueueSend( \\nxQueueHandle xQueue, /* Identifiant de la file. */ \\nconst void * pvItemToQueue, /* Pointeur vers l‘élément à copier */ \\nportTickType xTicksToWait /* Valeur de timeout. */ ); \\n\\nportBASE_TYPE xQueueSendToBack(xQueueHandle xQueue, const void * pvItemToQueue, portTickType xTicksToWait); \\n/* LIFO Mode */ portBASE_TYPE xQueueSendToFront(xQueueHandle xQueue, const void * pvItemToQueue, portTickType xTicksToWait);\\n\"}]}],\"\\n\",[\"$\",\"p\",\"p-52\",{\"children\":\"Message queue example :\"}],\"\\n\",[\"$\",\"pre\",\"pre-15\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-c\",\"children\":\"struct AMessage\\n{\\n    char ucMessageID;\\n    char ucData[20];\\n};\\nvoid vATask(void *pvParameters)\\n{\\n    QueueHandle_t xQueue1, xQueue2;\\n    /* Create a queue capable of containing 10 unsigned long values. */\\n    xQueue1 = xQueueCreate(10, sizeof(unsigned long));\\n    if (xQueue1 == NULL)\\n    {\\n        /* Queue was not created and must not be used. */\\n    }\\n    /* Create a queue capable of containing 10 pointers to AMessage\\n       structures. These are to be queued by pointers as they are\\n       relatively large structures. */\\n    xQueue2 = xQueueCreate(10, sizeof(struct AMessage *));\\n    if (xQueue2 == NULL)\\n    {\\n        /* Queue was not created and must not be used. */\\n    }\\n    /* ... Rest of task code. */\\n}\\n\"}]}],\"\\n\",[\"$\",\"p\",\"p-53\",{\"children\":\"Message queue 2 :\"}],\"\\n\",[\"$\",\"pre\",\"pre-16\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-c\",\"children\":\"struct AMessage\\n{\\n    char ucMessageID;\\n    char ucData[20];\\n} xMessage;\\nQueueHandle_t xQueue;\\nvoid vATask(void *pvParameters) // Task to create a queue and post a value.\\n{\\n    struct AMessage *pxMessage;\\n    pxMessage = \u0026xMessage;\\n    // Create a queue capable of containing 10 pointers to AMessage structures.\\n    // These should be passed by pointer as they contain a lot of data.\\n    xQueue = xQueueCreate(10, sizeof(struct AMessage *));\\n    if (xQueue == 0)\\n    {\\n        // Failed to create the queue.\\n    }\\n    // Send a pointer to a struct AMessage object. Don't block if the queue is already full.\\n    xQueueSend(xQueue, (void *)\u0026pxMessage, (TickType_t)0);\\n    // ... Rest of task code.\\n}\\n\"}]}],\"\\n\",[\"$\",\"p\",\"p-54\",{\"children\":[\"Illustration queue\",[\"$\",\"br\",\"br-0\",{}],\"\\n\",[\"$\",\"img\",\"img-0\",{\"src\":\"Illustration%20queue.png\",\"alt\":\"Illustration queue\"}]]}],\"\\n\",[\"$\",\"p\",\"p-55\",{\"children\":[\"Queue reading example\",[\"$\",\"br\",\"br-0\",{}],\"\\n\",[\"$\",\"img\",\"img-0\",{\"src\":\"example%20deux%20queue.png\",\"alt\":\"example deux queue\"}]]}],\"\\n\",[\"$\",\"h4\",\"h4-35\",{\"children\":\"Semaphore and mutexes\"}],\"\\n\",[\"$\",\"p\",\"p-56\",{\"children\":[\"Semaphores and mutexes are the main methods for FreeRTOS to synchromise tasks\",[\"$\",\"br\",\"br-0\",{}],\"\\n2 main type of semaphore binary and counters\"]}],\"\\n\",[\"$\",\"h4\",\"h4-36\",{\"children\":\"Binary\"}],\"\\n\",[\"$\",\"p\",\"p-57\",{\"children\":[\"Easiest way to synchroize tasks\",[\"$\",\"br\",\"br-0\",{}],\"\\nsimilar to a one element queue\",[\"$\",\"br\",\"br-1\",{}],\"\\nMust be created before using it\"]}],\"\\n\",[\"$\",\"p\",\"p-58\",{\"children\":\"At creation the binary sempahore is available\"}],\"\\n\",[\"$\",\"pre\",\"pre-17\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-c\",\"children\":\"xSemaphoreHandle xSemaphore; \\nvoid vATask( void * pvParameters ) { \\n// Semaphore cannot be used before a call to vSemaphoreCreateBinary (). \\n// This is a macro so pass the variable in directly. \\n\\tvSemaphoreCreateBinary( xSemaphore ); if( xSemaphore != NULL ) { \\n\\t// The semaphore was created successfully. \\n\\t// The semaphore can now be used. \\n\\t} \\n}\\n\"}]}],\"\\n\",[\"$\",\"h5\",\"h5-8\",{\"children\":\"Semaphore operations\"}],\"\\n\",[\"$\",\"p\",\"p-59\",{\"children\":\"xSempahoreCreateBinary() or xSemaphoreCreateBinaryStatic :\"}],\"\\n\",[\"$\",\"ul\",\"ul-77\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"Create new semaphore\",[\"$\",\"br\",\"br-0\",{}],\"\\nvSemaphoreDelete():use with care !\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Deletes the semaphore\\\\\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[\"Do not delete a semaphore that has tasks blocked on it\",[\"$\",\"br\",\"br-0\",{}],\"\\nxSemaphoreTake(), xSemaphoreGive()\"]}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":[\"Wait on or free a semaphore\",[\"$\",\"br\",\"br-0\",{}],\"\\nFrom ISR\",[\"$\",\"br\",\"br-1\",{}],\"\\nportBASE_TYPE xGiveSemaphoreFromISR(xSemaphoreHandle xSemaphore);\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"p-60\",{\"children\":[\"Taking a semaphore\",[\"$\",\"br\",\"br-0\",{}],\"\\nportBASE_TYPE xSemaphoreTake(xSemaphoreHandle xSemaphore, portTickType xTicksToWait);\",[\"$\",\"br\",\"br-1\",{}],\"\\nFreeing a semaphore\",[\"$\",\"br\",\"br-2\",{}],\"\\nportBASE_TYPE xSemaphoreGive(xSemaphoreHandle xSemaphore);\",[\"$\",\"br\",\"br-3\",{}],\"\\nGiving from ISR\",[\"$\",\"br\",\"br-4\",{}],\"\\nportBASE_TYPE xGiveSemaphoreFromISR(xSemaphoreHandle xSemaphore);\"]}],\"\\n\",[\"$\",\"h5\",\"h5-9\",{\"children\":\"Semaphore take example\"}],\"\\n\",[\"$\",\"pre\",\"pre-18\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-c\",\"children\":\"if( xSemaphore != NULL ) { \\n// See if we can obtain the semaphore. If the semaphore is not available \\n// wait 10 ticks to see if it becomes free. \\n\\tif( xSemaphoreTake( xSemaphore, ( portTickType ) 10 ) == pdTRUE ) {\\n\\t// xSemaphore available} else {\\n\\t// time overflow, xSemaphore is not available\\n\\t}\\n}\\n\"}]}],\"\\n\",[\"$\",\"h5\",\"h5-10\",{\"children\":\"Semaphore give example\"}],\"\\n\",[\"$\",\"pre\",\"pre-19\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-c\",\"children\":\"if( xSemaphoreGive( xSemaphore ) != pdTRUE ) { \\n// error xSemaphore not released …. }\\n\"}]}],\"\\n\",[\"$\",\"h5\",\"h5-11\",{\"children\":\"Waiting binary semaphores from ISR\"}],\"\\n\",[\"$\",\"pre\",\"pre-20\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-c\",\"children\":\"#define LONG_TIME       0xffff\\n#define TICKS_TO_WAIT   10\\n\\nSemaphoreHandle_t xSemaphore = NULL;\\n\\n/* Repetitive task that waits on a semaphore. */\\nvoid vATask(void *pvParameters)\\n{\\n    // Create a binary semaphore before the ISR uses it.\\n    xSemaphore = xSemaphoreCreateBinary();\\n\\n    if (xSemaphore == NULL)\\n    {\\n        // Failed to create semaphore, handle error.\\n        for (;;); // Optional: loop forever.\\n    }\\n\\n    for (;;)\\n    {\\n        // Block waiting for the semaphore to be given (e.g., by an ISR).\\n        if (xSemaphoreTake(xSemaphore, LONG_TIME) == pdTRUE)\\n        {\\n            // Semaphore obtained – perform the task action here.\\n            // For example:\\n            // Toggle an LED, read a sensor, etc.\\n            // ...\\n\\n            // After finishing the task, the loop restarts and waits again.\\n        }\\n    }\\n}\\n\\n\"}]}],\"\\n\",[\"$\",\"h6\",\"h6-1\",{\"children\":\"Giving a semaphore from ISR\"}],\"\\n\",[\"$\",\"pre\",\"pre-21\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-c\",\"children\":\"/* Timer ISR */\\nvoid vTimerISR(void *pvParameters)\\n{\\n    static unsigned char ucLocalTickCount = 0;\\n    BaseType_t xHigherPriorityTaskWoken = pdFALSE;\\n\\n    /* A timer tick has occurred. Do any necessary timer-related operations here. */\\n    // ... Other timer-related code\\n\\n    /* Increment local tick count. */\\n    ucLocalTickCount++;\\n\\n    /* Check if it's time to unblock the task (every TICKS_TO_WAIT ticks). */\\n    if (ucLocalTickCount \u003e= TICKS_TO_WAIT)\\n    {\\n        /* Unblock the task by giving the semaphore. */\\n        xSemaphoreGiveFromISR(xSemaphore, \u0026xHigherPriorityTaskWoken);\\n\\n        /* Reset tick count to start the cycle again. */\\n        ucLocalTickCount = 0;\\n    }\\n\\n    /* Perform a context switch if the unblocked task has a higher priority. */\\n    portYIELD_FROM_ISR(xHigherPriorityTaskWoken);\\n}\\n\"}]}],\"\\n\",[\"$\",\"h5\",\"h5-12\",{\"children\":\"ISR toTask synchronisation using semaphore\"}],\"\\n\",[\"$\",\"p\",\"p-61\",{\"children\":[\"$\",\"img\",\"img-0\",{\"src\":\"ISR%20toTask%20synchronisation%20using%20semaphore.png\",\"alt\":\"ISR toTask synchronisation using semaphore\"}]}],\"\\n\",[\"$\",\"h5\",\"h5-13\",{\"children\":\"COunting semaphores\"}],\"\\n\",[\"$\",\"ul\",\"ul-78\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Can be used several time before becoming unavailable\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Creating a counting semaphore\"}],\"\\n\"]}],\"\\n\",[\"$\",\"pre\",\"pre-22\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-c\",\"children\":\"xSemaphoreHandle xSemaphoreCreateCounting( \\nunsigned portBASE_TYPE uxMaxCount, \\n/* Capacité du sémaphore compteur. */ \\nunsigned portBASE_TYPE uxInitialCount \\n/* Valeur du compteur après création. */ );\\n\"}]}],\"\\n\",[\"$\",\"h6\",\"h6-2\",{\"children\":\"Static allocation\"}],\"\\n\",[\"$\",\"ul\",\"ul-79\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"Dynamic memory allocation\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"SemaphoreHandle_t xSemaphoreCreateBinary( void );\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"Statiuc memory allocation\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"SemaphoreHandle_t xSemaphoreCreateBinaryStatic( StaticSemaphore_t\"}],\"\\n\"]}],\"\\n\",[\"$\",\"ul\",\"ul-1\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"pxSemaphoreBuffer );\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"pre\",\"pre-23\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-c\",\"children\":\"SemaphoreHandle_t xSemaphore = NULL;            // Handle for the semaphore\\nStaticSemaphore_t xSemaphoreBuffer;             // Static memory buffer for the semaphore\\n\\nvoid vATask(void *pvParameters)\\n{\\n    // Create the binary semaphore using static allocation.\\n    // The semaphore's internal structure is stored in xSemaphoreBuffer.\\n    xSemaphore = xSemaphoreCreateBinaryStatic(\u0026xSemaphoreBuffer);\\n\\n    // Ensure the semaphore was created successfully.\\n    configASSERT(xSemaphore != NULL);\\n\\n    // ... Rest of the task code\\n}\\n\"}]}],\"\\n\",[\"$\",\"ul\",\"ul-80\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"Semaphore given by interrupts\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"xSemaphoreTakeFromISR ( SemaphoreHandle_t xSemaphore, signed BaseType_t\"}],\"\\n\"]}],\"\\n\",[\"$\",\"ul\",\"ul-1\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"pxHigherPriorityTaskWoken)\"}],\"\\n\"]}],\"\\n\",[\"$\",\"ul\",\"ul-2\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"xSemaphoreGiveFromISR ( SemaphoreHandle_t xSemaphore, signed BaseType_t\"}],\"\\n\"]}],\"\\n\",[\"$\",\"ul\",\"ul-3\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"pxHigherPriorityTaskWoken)\",[\"$\",\"br\",\"br-0\",{}],\"\\n\",[\"$\",\"img\",\"img-0\",{\"src\":\"Semaphore%20interrupts.png\",\"alt\":\"Semaphore interrupts\"}]]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h4\",\"h4-37\",{\"children\":\"Mutexes\"}],\"\\n\",[\"$\",\"p\",\"p-62\",{\"children\":\"Used to share common ressources\"}],\"\\n\",[\"$\",\"ul\",\"ul-81\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Avoid mutual exclusion\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"the task whioch takes the mutex must release it\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[\"Mutex is a semaphore with priority inheritance\",[\"$\",\"br\",\"br-0\",{}],\"\\nMutex creation\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"pre\",\"pre-24\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-c\",\"children\":\"void vATask( void * pvParameters ) { \\n/* Create a mutex type semaphore. */ \\nxSemaphore = xSemaphoreCreateMutex(); \\n\\tif( xSemaphore != NULL ) { \\n\\t/* The semaphore was created successfully and can be used. */ \\n\\t} \\n}\\n\"}]}],\"\\n\",[\"$\",\"p\",\"p-63\",{\"children\":\"A task needs a ressource and try to take the mutex\"}],\"\\n\",[\"$\",\"ul\",\"ul-82\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"It get it\",[\"$\",\"br\",\"br-0\",{}],\"\\nA second task needs the ressource\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"Try to get it, ut fail\",[\"$\",\"br\",\"br-0\",{}],\"\\nUsed as a semaphore\",[\"$\",\"br\",\"br-1\",{}],\"\\n\",[\"$\",\"img\",\"img-0\",{\"src\":\"Mutexes.png\",\"alt\":\"Mutexes\"}],[\"$\",\"br\",\"br-2\",{}],\"\\nMutex Overview\",[\"$\",\"br\",\"br-3\",{}],\"\\n\",[\"$\",\"img\",\"img-1\",{\"src\":\"Mutex%20Overview.png\",\"alt\":\"Mutex Overview\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"pre\",\"pre-25\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-c\",\"children\":\"SemaphoreHandle_t xSemaphore = NULL;\\n\\n/* A task that creates a mutex semaphore. */\\nvoid vATask(void *pvParameters)\\n{\\n    // Create a mutex to protect access to a shared resource.\\n    xSemaphore = xSemaphoreCreateMutex();\\n}\\n\\n/* A task that uses the mutex semaphore. */\\nvoid vAnotherTask(void *pvParameters)\\n{\\n    // ... Perform other operations first\\n\\n    if (xSemaphore != NULL)\\n    {\\n        // Try to take the mutex. Wait for up to 10 ticks.\\n        if (xSemaphoreTake(xSemaphore, (TickType_t)10) == pdTRUE)\\n        {\\n            // Successfully obtained the mutex.\\n            // Safe access to shared resource begins.\\n            // ...\\n\\n            // Done with the shared resource, release the mutex.\\n            xSemaphoreGive(xSemaphore);\\n        }\\n        else\\n        {\\n            // Failed to obtain the mutex within 10 ticks.\\n            // Cannot safely access the shared resource.\\n        }\\n    }\\n}\\n\\n\"}]}],\"\\n\",[\"$\",\"p\",\"p-64\",{\"children\":[\"Priority inversion\",[\"$\",\"br\",\"br-0\",{}],\"\\n\",[\"$\",\"img\",\"img-0\",{\"src\":\"Priority%20inversion.png\",\"alt\":\"Priority inversion\"}],[\"$\",\"br\",\"br-1\",{}],\"\\nThis dangerous sequence of events is illustrated in before\"]}],\"\\n\",[\"$\",\"ul\",\"ul-83\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Low priority LP task and high priority HP task share a resource\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"After LP task takes the resources, HP Task becomes ready to run\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"HP task must wait for LP aTask to finish with the resource so it pends\"}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":\"Before LP Task finishes with the resource, MP Task becomes ready to run preempting LP Task\"}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":[\"While MP Task( and perhaps additional intermediate priority task) runs, HP task, the highest-priority task in the system, remains in a pending state\",[\"$\",\"br\",\"br-0\",{}],\"\\n\",[\"$\",\"img\",\"img-0\",{\"src\":\"Task%20priority%20inversion.png\",\"alt\":\"Task priority inversion\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"h6\",\"h6-3\",{\"children\":\"If the second task has a higher priority\"}],\"\\n\",[\"$\",\"ul\",\"ul-84\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"It waits\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"The priority of the running task is raised to the second task priority\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h6\",\"h6-4\",{\"children\":\"The waiting task keeps is initial priority\"}],\"\\n\",[\"$\",\"h5\",\"h5-14\",{\"children\":\"Interrupts\"}],\"\\n\",[\"$\",\"p\",\"p-65\",{\"children\":[\"Interrups rely on material\",[\"$\",\"br\",\"br-0\",{}],\"\\nFreeRTOS provides methods to use interrupts\",[\"$\",\"br\",\"br-1\",{}],\"\\nISR functions are directly handled by the processor\"]}],\"\\n\",[\"$\",\"ul\",\"ul-85\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"Specific actions must be taken for FreeRTOS to reconize them\",[\"$\",\"br\",\"br-0\",{}],\"\\nInterrupt processing\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Interrupt Service Routine\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"Interrupt Latency, Response and recovery\"}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":[\"Interrupts to taks dialog\",[\"$\",\"br\",\"br-0\",{}],\"\\n\",[\"$\",\"img\",\"img-0\",{\"src\":\"Interrupt%20latency%20NON%20preemptive.png\",\"alt\":\"Interrupt latency NON preemptive\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"p-66\",{\"children\":[\"$\",\"img\",\"img-0\",{\"src\":\"Interrupt%20latency%20preemptive.png\",\"alt\":\"Interrupt latency preemptive\"}]}],\"\\n\",[\"$\",\"h5\",\"h5-15\",{\"children\":\"FreeRTOS interrupts sharing\"}],\"\\n\",[\"$\",\"p\",\"p-67\",{\"children\":[[\"$\",\"img\",\"img-0\",{\"src\":\"Interrupts%20sharing.png\",\"alt\":\"Interrupts sharing\"}],[\"$\",\"br\",\"br-0\",{}],\"\\nISR Processing must be as short as possible\"]}],\"\\n\",[\"$\",\"ul\",\"ul-86\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"Long interrupts are partly deferred to a task\",[\"$\",\"br\",\"br-0\",{}],\"\\n\",[\"$\",\"img\",\"img-0\",{\"src\":\"ISR%20deferred%20interrupts.png\",\"alt\":\"ISR deferred interrupts\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"h4\",\"h4-38\",{\"children\":\"Task resume\"}],\"\\n\",[\"$\",\"p\",\"p-68\",{\"children\":\"Interrupts may dialog with tasks\"}],\"\\n\",[\"$\",\"ul\",\"ul-87\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"Use of dedicated API functions\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"Ends with \\\"FromISR«\",[\"$\",\"br\",\"br-0\",{}],\"\\nResume task from isr\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"xTaskResumeFromISR\"}],\"\\n\"]}],\"\\n\",[\"$\",\"pre\",\"pre-26\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-c\",\"children\":\"$8\"}]}],\"\\n\",[\"$\",\"h4\",\"h4-39\",{\"children\":\"Critical Sections\"}],\"\\n\",[\"$\",\"p\",\"p-69\",{\"children\":\"Critical section: the task must not be preempted.\"}],\"\\n\",[\"$\",\"ul\",\"ul-88\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"All Interrupts are disabled\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"the tick timer too!\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"p-70\",{\"children\":\"Use a FreeRTOS primitive or a macro like cli()/sti() under Linux!\"}],\"\\n\",[\"$\",\"ul\",\"ul-89\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"void taskENTER_CRITICAL( void );\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"void taskEXIT_CRITICAL( void );\"}],\"\\n\"]}],\"\\n\",[\"$\",\"pre\",\"pre-27\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-c\",\"children\":\"void vDemoFunction(void) {\\n    taskENTER_CRITICAL();\\n    /* Protected action here */\\n    taskEXIT_CRITICAL();\\n}\\n\\nvoid vTask1(void *pvParameters) {\\n    for (;;) {\\n        /* Functionality before critical section */\\n        taskENTER_CRITICAL();\\n        vDemoFunction();\\n        taskEXIT_CRITICAL();\\n    }\\n}\\n\"}]}],\"\\n\",[\"$\",\"h5\",\"h5-16\",{\"children\":\"scheduler suspend\"}],\"\\n\",[\"$\",\"p\",\"p-71\",{\"children\":\"Suspends the scheduler\"}],\"\\n\",[\"$\",\"ul\",\"ul-90\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"without disabling interrupts.\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"void vTaskSuspendAll( void );\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"Disables Context switches\"}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":[\"RTOS ticks will be held pending\",[\"$\",\"br\",\"br-0\",{}],\"\\nRestart with\"]}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":\"xTaskResumeAll().\"}],\"\\n\"]}],\"\\n\",[\"$\",\"pre\",\"pre-28\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-c\",\"children\":\"void vTask1(void *pvParameters) {\\n    for (;;) {\\n        // Task code goes here.\\n        // ...\\n        // At some point the task wants to perform a long operation during which it does not want to get swapped out.\\n        // It cannot use taskENTER_CRITICAL()/taskEXIT_CRITICAL() as the length of the operation may cause interrupts to be missed - including the ticks.\\n        // Prevent the RTOS kernel swapping out the task.\\n        vTaskSuspendAll();\\n        // Perform the operation here. There is no need to use critical sections as we have all the microcontroller processing time.\\n        // During this time interrupts will still operate and the RTOS kernel tick count will be maintained.\\n        // ...\\n        // The operation is complete. Restart the RTOS kernel.\\n        xTaskResumeAll();\\n    }\\n}\\n\\n\"}]}],\"\\n\",[\"$\",\"h4\",\"h4-40\",{\"children\":\"Evetn groups\"}],\"\\n\",[\"$\",\"p\",\"p-72\",{\"children\":\"Event groupsa llow events to be communicated to tasks\"}],\"\\n\",[\"$\",\"ul\",\"ul-91\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Allow a task toi wait in the blocked state for a combination of one of more events to occur\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Unblock all the tasks that were waiting for the same event, or combination eof events, when the event occurs\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"USeful for synchronizing multiple tasks\"}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":[\"24 flag availale per event group\",[\"$\",\"br\",\"br-0\",{}],\"\\n\",[\"$\",\"img\",\"img-0\",{\"src\":\"Event%20group.png\",\"alt\":\"Event group\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"h4\",\"h4-41\",{\"children\":\"event group or flags\"}],\"\\n\",[\"$\",\"p\",\"p-73\",{\"children\":\"xEventGroupCreate():\"}],\"\\n\",[\"$\",\"ul\",\"ul-92\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Creates an Event Group Flag (a bit from a memory location)\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"number of bits (or flags) implemented within an event group\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"8 bits if configUSE_16_BIT_TICKS =1\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"24 bits if configUSE_16_BIT_TICKS =0\",[\"$\",\"br\",\"br-0\",{}],\"\\nvEventGroupDelete()\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[\"Deletes the group flag\",[\"$\",\"br\",\"br-0\",{}],\"\\nxEventGroupSetABits(), xEventGroupWaitBits():\"]}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":[\"a task posts for a Event Flag or waits an Event\",[\"$\",\"br\",\"br-0\",{}],\"\\nxEventGroupClearBits\"]}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":[\"Clears specific bits\",[\"$\",\"br\",\"br-0\",{}],\"\\nAdditional functions:\"]}],\"\\n\",[\"$\",\"li\",\"li-5\",{\"children\":\"xEventGroupGetBits() : get the current flag value\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"p-74\",{\"children\":\"Example 1 :\"}],\"\\n\",[\"$\",\"pre\",\"pre-29\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-c\",\"children\":\"$9\"}]}],\"\\n\",[\"$\",\"pre\",\"pre-30\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-c\",\"children\":\"$a\"}]}],\"\\n\",[\"$\",\"pre\",\"pre-31\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-c\",\"children\":\"static void vEventBitSettingTask(void *pvParameters) {\\n    const TickType_t xDelay200ms = pdMS_TO_TICKS(200UL);\\n    for (;;) {\\n        /* Delay before setting bit 0. */\\n        vTaskDelay(xDelay200ms);\\n        /* Notify and set event bit 0. */\\n        vPrintString(\\\"Bit setting task -\\\\t about to set bit 0.\\\\r\\\\n\\\");\\n        xEventGroupSetBits(xEventGroup, mainFIRST_TASK_BIT);\\n\\n        /* Delay before setting bit 1. */\\n        vTaskDelay(xDelay200ms);\\n        /* Notify and set event bit 1. */\\n        vPrintString(\\\"Bit setting task -\\\\t about to set bit 1.\\\\r\\\\n\\\");\\n        xEventGroupSetBits(xEventGroup, mainSECOND_TASK_BIT);\\n    }\\n}\\n\\n\"}]}],\"\\n\",[\"$\",\"pre\",\"pre-32\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-c\",\"children\":\"$b\"}]}],\"\\n\",[\"$\",\"pre\",\"pre-33\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-c\",\"children\":\"static uint32_t ulEventBitSettingISR(void)\\n{\\n    /* The string is static to ensure it exists when the daemon task prints it, since ISR stack won't exist then. */\\n    static const char *pcString = \\\"Bit setting ISR -\\\\t about to set bit 2.\\\\r\\\\n\\\";\\n    BaseType_t xHigherPriorityTaskWoken = pdFALSE;\\n\\n    /* Defer printing from ISR to RTOS daemon task by pending the function call. */\\n    xTimerPendFunctionCallFromISR(vPrintStringFromDaemonTask, (void *)pcString, 0, \u0026xHigherPriorityTaskWoken);\\n\\n    /* Set bit 2 in the event group from ISR. */\\n    xEventGroupSetBitsFromISR(xEventGroup, mainISR_BIT, \u0026xHigherPriorityTaskWoken);\\n\\n    /* If any operation caused a higher priority task to unblock, request context switch. */\\n    portYIELD_FROM_ISR(xHigherPriorityTaskWoken);\\n}\\n\\n\"}]}],\"\\n\",[\"$\",\"h4\",\"h4-42\",{\"children\":\"Memory Managament\"}],\"\\n\",[\"$\",\"p\",\"p-75\",{\"children\":\"The memory Management includes :\"}],\"\\n\",[\"$\",\"ul\",\"ul-93\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Static allocation\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"Dynamic allocation\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"heap_1 :simplest, does not permit memory to be freed\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"heap_2 : permits memory to be freed, but not does coalescence adjacent free blocks.\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"heap_3 : wraps the standard malloc() and free() for thread safety\"}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":\"heap_4 : coalescences adjacent free blocks to avoid fragmentation. Includes absolute address placement option\"}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":[\"heap_5 : heap_4, with the ability to span the heap across multiple non-adjacent memory areas\",[\"$\",\"br\",\"br-0\",{}],\"\\nProblem with malloc() and free(): it can run out of memory\",[\"$\",\"br\",\"br-1\",{}],\"\\nEven if you calculate the memory, fragmentation can occur.\",[\"$\",\"br\",\"br-2\",{}],\"\\nUse well suited dynamic allocation scheme :\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[\"Heap_1 to heap_5\",[\"$\",\"br\",\"br-0\",{}],\"\\nOr use static memory attribution\"]}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":\"To have more control on allocated\"}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":\"When dynamic memory allocation is forbidden in some applications\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h4\",\"h4-43\",{\"children\":\"Time management\"}],\"\\n\",[\"$\",\"p\",\"p-76\",{\"children\":\"Clock tick: a clcok tick is a peridoci time source to keep track of time delays and time outs.\"}],\"\\n\",[\"$\",\"ul\",\"ul-94\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"Tick intervals: 1~100ms\",[\"$\",\"br\",\"br-0\",{}],\"\\nThe faster the tick rate, the higher the overhead impose on the system\",[\"$\",\"br\",\"br-1\",{}],\"\\nWhen ever a clock tick occurs FreeRTOS increments a 32 bit counter\",[\"$\",\"br\",\"br-2\",{}],\"\\nThe counter starts at zero, and rolls over ot 4,294,967,295 * 2^32-2 ticks\",[\"$\",\"br\",\"br-3\",{}],\"\\nA tasks can be delayed and a delayed task can also be resumed\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"p-77\",{\"children\":\"Five services :\"}],\"\\n\",[\"$\",\"ul\",\"ul-95\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"vTaskDelay(): delaying a task according a number of clock ticks\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"vTaskDelayUntil\",[\"$\",\"br\",\"br-0\",{}],\"\\nMaximum delay 256 hours (11 days)\"]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"xTaskAbortDelay(): resuming a Delayed Task\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h4\",\"h4-44\",{\"children\":\"Software timers\"}],\"\\n\",[\"$\",\"p\",\"p-78\",{\"children\":[\"implemented by and under the control of the kernel.\",[\"$\",\"br\",\"br-0\",{}],\"\\nThey do not require hardware support.\",[\"$\",\"br\",\"br-1\",{}],\"\\nDo not use processing time(except call back function)\"]}],\"\\n\",[\"$\",\"p\",\"p-79\",{\"children\":\"2 mode:\"}],\"\\n\",[\"$\",\"ul\",\"ul-96\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"One shot timer\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"auto reload timers\",[\"$\",\"br\",\"br-0\",{}],\"\\n\",[\"$\",\"img\",\"img-0\",{\"src\":\"Software%20timers.png\",\"alt\":\"Software timers\"}],[\"$\",\"br\",\"br-1\",{}],\"\\nSoftware timers have 2 states :\"]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"Dormant\"}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":\"Running\"}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":[\"They execute in a daemon task context\",[\"$\",\"br\",\"br-0\",{}],\"\\n\",[\"$\",\"img\",\"img-0\",{\"src\":\"State%20software%20timer.png\",\"alt\":\"State software timer\"}],[\"$\",\"br\",\"br-1\",{}],\"\\nSoftware timer creation and deletion\"]}],\"\\n\",[\"$\",\"li\",\"li-5\",{\"children\":\"xTimerCreate, xTimerCreateStatic\"}],\"\\n\",[\"$\",\"li\",\"li-6\",{\"children\":[\"xTimerDelete\",[\"$\",\"br\",\"br-0\",{}],\"\\nTimer informations\"]}],\"\\n\",[\"$\",\"li\",\"li-7\",{\"children\":\"xTimerIsTimerActive, pvTimweGetTimerID\"}],\"\\n\",[\"$\",\"li\",\"li-8\",{\"children\":\"pcTimerGetName, pvTimerGetTimerID\"}],\"\\n\",[\"$\",\"li\",\"li-9\",{\"children\":\"vTimerSetTimerID, pcTimerGetName\"}],\"\\n\",[\"$\",\"li\",\"li-10\",{\"children\":[\"xTimerGetPeriod,xTiomerGetExpiryTime\",[\"$\",\"br\",\"br-0\",{}],\"\\nTimer operation\"]}],\"\\n\",[\"$\",\"li\",\"li-11\",{\"children\":\"xTimerStart, xTimerStop\"}],\"\\n\",[\"$\",\"li\",\"li-12\",{\"children\":[\"xTimerChangePeriod, xTimeReset\",[\"$\",\"br\",\"br-0\",{}],\"\\nFrom ISR\"]}],\"\\n\",[\"$\",\"li\",\"li-13\",{\"children\":\"xTimerStartFromISR, xTimerStopFromISR\"}],\"\\n\",[\"$\",\"li\",\"li-14\",{\"children\":\"xTimerChangePeriodFromeISR,xTimerResetFromISR\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"p-80\",{\"children\":\"Static task creation\"}],\"\\n\",[\"$\",\"pre\",\"pre-34\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-c\",\"children\":\"TaskHandle_t xTaskCreateStatic(\\n    TaskFunction_t pvTaskCode,    // Pointer to the task entry function\\n    const char * const pcName,    // Name of the task (for debugging)\\n    uint32_t ulStackDepth,        // Size of the task stack (number of StackType_t elements)\\n    void *pvParameters,           // Pointer to parameters passed to the task\\n    UBaseType_t uxPriority,       // Priority of the task\\n    StackType_t *pxStackBuffer,   // Pointer to pre-allocated stack array (at least ulStackDepth elements)\\n    StaticTask_t *pxTaskBuffer    // Pointer to pre-allocated task control block (StaticTask_t variable)\\n);\\n\\n\"}]}],\"\\n\",[\"$\",\"p\",\"p-81\",{\"children\":\"Returns\"}],\"\\n\",[\"$\",\"ul\",\"ul-97\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"pdPASS if neither pxStackBuffer or pxTaskBuiffer are NULL\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"errCOULD_NOT_ALLOCATE_REQUIRED_MEMORY:pxStackBuffer or pxTaskBuffer are NULL\",[\"$\",\"br\",\"br-0\",{}],\"\\nExample :\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"pre\",\"pre-35\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"language-c\",\"children\":\"$c\"}]}],\"\\n\",[\"$\",\"h5\",\"h5-17\",{\"children\":\"Function Lists\"}],\"\\n\",[\"$\",\"ul\",\"ul-98\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[[\"$\",\"strong\",\"strong-0\",{\"children\":\"System Functions Lists (primitives)\"}],\"\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[[\"$\",\"code\",\"code-0\",{\"children\":\"MX_FREERTOS_Init();\"}],\" \",[\"$\",\"code\",\"code-1\",{\"children\":\"osKernelStart();\"}]]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"vTaskStartScheduler\"}]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[[\"$\",\"code\",\"code-0\",{\"children\":\"xTaskCreate\"}],\", \",[\"$\",\"code\",\"code-1\",{\"children\":\"vTaskDelete\"}],\", \",[\"$\",\"code\",\"code-2\",{\"children\":\"vTaskPrioritySet\"}]]}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":[[\"$\",\"code\",\"code-0\",{\"children\":\"vTaskDelayUntil\"}],\", \",[\"$\",\"code\",\"code-1\",{\"children\":\"vTaskDelay\"}],\", \",[\"$\",\"code\",\"code-2\",{\"children\":\"uxTaskPriorityGet\"}]]}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":[[\"$\",\"code\",\"code-0\",{\"children\":\"vTaskSuspend\"}],\", \",[\"$\",\"code\",\"code-1\",{\"children\":\"vTaskResume\"}]]}],\"\\n\",[\"$\",\"li\",\"li-5\",{\"children\":[[\"$\",\"code\",\"code-0\",{\"children\":\"xTaskResumeFromISR\"}],\", \",[\"$\",\"code\",\"code-1\",{\"children\":\"xTaskAbortDelay\"}]]}],\"\\n\",[\"$\",\"li\",\"li-6\",{\"children\":[[\"$\",\"code\",\"code-0\",{\"children\":\"taskENTER_CRITICAL\"}],\", \",[\"$\",\"code\",\"code-1\",{\"children\":\"taskEXIT_CRITICAL\"}]]}],\"\\n\",[\"$\",\"li\",\"li-7\",{\"children\":[[\"$\",\"code\",\"code-0\",{\"children\":\"xTaskNotifyGive\"}],\", \",[\"$\",\"code\",\"code-1\",{\"children\":\"ulTaskNotifyTake\"}],\", \",[\"$\",\"code\",\"code-2\",{\"children\":\"xTaskNotify\"}]]}],\"\\n\",[\"$\",\"li\",\"li-8\",{\"children\":[[\"$\",\"code\",\"code-0\",{\"children\":\"xTimerCreate\"}],\", \",[\"$\",\"code\",\"code-1\",{\"children\":\"xTimerStart\"}],\", \",[\"$\",\"code\",\"code-2\",{\"children\":\"xTimerStop\"}]]}],\"\\n\",[\"$\",\"li\",\"li-9\",{\"children\":[[\"$\",\"code\",\"code-0\",{\"children\":\"xTimerChangePeriod\"}],\", \",[\"$\",\"code\",\"code-1\",{\"children\":\"xTimerDelete\"}]]}],\"\\n\",[\"$\",\"li\",\"li-10\",{\"children\":[\"$\",\"code\",\"code-0\",{\"children\":\"xTaskResumeFromISR\"}]}],\"\\n\",[\"$\",\"li\",\"li-11\",{\"children\":[[\"$\",\"code\",\"code-0\",{\"children\":\"xQueueCreate\"}],\", \",[\"$\",\"code\",\"code-1\",{\"children\":\"vQueueAddToRegistry\"}]]}],\"\\n\",[\"$\",\"li\",\"li-12\",{\"children\":[[\"$\",\"code\",\"code-0\",{\"children\":\"xQueueSend\"}],\", \",[\"$\",\"code\",\"code-1\",{\"children\":\"xQueueReceive\"}]]}],\"\\n\",[\"$\",\"li\",\"li-13\",{\"children\":[[\"$\",\"code\",\"code-0\",{\"children\":\"xSemaphoreCreateBinary\"}],\", \",[\"$\",\"code\",\"code-1\",{\"children\":\"xSemaphoreCreateCounting\"}],\", \",[\"$\",\"code\",\"code-2\",{\"children\":\"xSemaphoreCreateMutex\"}],\", \",[\"$\",\"code\",\"code-3\",{\"children\":\"vSemaphoreDelete\"}]]}],\"\\n\",[\"$\",\"li\",\"li-14\",{\"children\":[[\"$\",\"code\",\"code-0\",{\"children\":\"xSemaphoreGive\"}],\", \",[\"$\",\"code\",\"code-1\",{\"children\":\"xSemaphoreTake\"}]]}],\"\\n\",[\"$\",\"li\",\"li-15\",{\"children\":[[\"$\",\"code\",\"code-0\",{\"children\":\"xTimerCreate\"}],\", \",[\"$\",\"code\",\"code-1\",{\"children\":\"xTimerStart\"}]]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h5\",\"h5-18\",{\"children\":\"Split an application in tasks\"}],\"\\n\",[\"$\",\"p\",\"p-82\",{\"children\":[\"Separate all \\\"parallel\\\" activities\",[\"$\",\"br\",\"br-0\",{}],\"\\nA cyclic activity generally needs a dedicated task\",[\"$\",\"br\",\"br-1\",{}],\"\\nSplitt the app by functionalities:\"]}],\"\\n\",[\"$\",\"ul\",\"ul-99\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"USer interface\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Update of a display\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"errors handling\"}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":\"communications\"}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":\"etc...\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"p-83\",{\"children\":[[\"$\",\"img\",\"img-0\",{\"src\":\"App%20split%20in%20tasks.png\",\"alt\":\"App split in tasks\"}],[\"$\",\"br\",\"br-0\",{}],\"\\nA driver may need one or more tasks (EX : Client - Server)\",[\"$\",\"br\",\"br-1\",{}],\"\\n\",[\"$\",\"img\",\"img-1\",{\"src\":\"Driver.png\",\"alt\":\"Driver\"}],[\"$\",\"br\",\"br-2\",{}],\"\\nReduce inter-task coupling\"]}],\"\\n\",[\"$\",\"ul\",\"ul-100\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"In the following example the second solution is often the best one\",[\"$\",\"br\",\"br-0\",{}],\"\\n\",[\"$\",\"img\",\"img-0\",{\"src\":\"Multiple%20vs%20one.png\",\"alt\":\"Multiple vs one\"}],[\"$\",\"br\",\"br-1\",{}],\"\\nHave not too few task\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"Whats the utility of the kernel?\",[\"$\",\"br\",\"br-0\",{}],\"\\nHave not too much tasks\"]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[\"It increase the time spent in the kernel and the necessary RAM space\",[\"$\",\"br\",\"br-0\",{}],\"\\nThe task body\"]}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":[\"must generally consume more than twice the time needed for a context switch\",[\"$\",\"br\",\"br-0\",{}],\"\\nKeep the task body simple\"]}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":[\"A task may call functions\",[\"$\",\"br\",\"br-0\",{}],\"\\nNo definitive rules Keep in mind:\"]}],\"\\n\",[\"$\",\"li\",\"li-5\",{\"children\":\"All tasks are not critical\"}],\"\\n\",[\"$\",\"li\",\"li-6\",{\"children\":[\"Examples of non critical tasks\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"User interface\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Screen refresh\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"Keyboard scanning\"}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":\"Communication (eg:terminal)\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-7\",{\"children\":[\"Example of critical tasks\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Errors handling (system protection)\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"Control loops\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"I/O (analogical, digitals, etc)\"}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":\"Communciations (eg:CanBus)\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}]]}]]}]]}]}],[\"$\",\"footer\",null,{\"className\":\"bg-muted/50 py-12\",\"children\":[\"$\",\"div\",null,{\"className\":\"container mx-auto px-4\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex flex-col md:flex-row justify-between items-center\",\"children\":[[\"$\",\"div\",null,{\"className\":\"mb-6 md:mb-0\",\"children\":[[\"$\",\"$L6\",null,{\"href\":\"/\",\"className\":\"text-xl font-bold tracking-tight\",\"children\":\"Matthieu GUYOT\"}],[\"$\",\"p\",null,{\"className\":\"text-muted-foreground mt-2 max-w-md\",\"children\":\"Building the future with code and security. Passionate about technology, cybersecurity, and knowledge sharing.\"}]]}],[\"$\",\"div\",null,{\"className\":\"flex flex-col items-center md:items-end\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex space-x-4 mb-4\",\"children\":[[\"$\",\"a\",null,{\"href\":\"https://github.com/\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"aria-label\":\"GitHub\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-github h-5 w-5\",\"children\":[[\"$\",\"path\",\"tonef\",{\"d\":\"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4\"}],[\"$\",\"path\",\"9comsn\",{\"d\":\"M9 18c-4.51 2-5-2-7-2\"}],\"$undefined\"]}],\"className\":\"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [\u0026_svg]:pointer-events-none [\u0026_svg]:size-4 [\u0026_svg]:shrink-0 h-10 w-10 rounded-full hover:bg-primary/10 hover:text-primary\"}],[\"$\",\"a\",null,{\"href\":\"https://linkedin.com/\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"aria-label\":\"LinkedIn\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-linkedin h-5 w-5\",\"children\":[[\"$\",\"path\",\"c2jq9f\",{\"d\":\"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z\"}],[\"$\",\"rect\",\"mk3on5\",{\"width\":\"4\",\"height\":\"12\",\"x\":\"2\",\"y\":\"9\"}],[\"$\",\"circle\",\"bt5ra8\",{\"cx\":\"4\",\"cy\":\"4\",\"r\":\"2\"}],\"$undefined\"]}],\"className\":\"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [\u0026_svg]:pointer-events-none [\u0026_svg]:size-4 [\u0026_svg]:shrink-0 h-10 w-10 rounded-full hover:bg-primary/10 hover:text-primary\"}],[\"$\",\"a\",null,{\"href\":\"https://twitter.com/\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"aria-label\":\"Twitter\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-twitter h-5 w-5\",\"children\":[[\"$\",\"path\",\"pff0z6\",{\"d\":\"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z\"}],\"$undefined\"]}],\"className\":\"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [\u0026_svg]:pointer-events-none [\u0026_svg]:size-4 [\u0026_svg]:shrink-0 h-10 w-10 rounded-full hover:bg-primary/10 hover:text-primary\"}]]}],[\"$\",\"p\",null,{\"className\":\"text-sm text-muted-foreground\",\"children\":[\"© \",2025,\" Matthieu GUYOT. All rights reserved.\"]}]]}]]}]}]}]]}],null],null],null]},[null,[\"$\",\"$Ld\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"knowledge-hub\",\"children\",\"$e\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lf\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[null,[\"$\",\"$Ld\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"knowledge-hub\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lf\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/45f8aa93ae81327e.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"suppressHydrationWarning\":true,\"children\":[\"$\",\"body\",null,{\"className\":\"__className_e8ce0c\",\"children\":[\"$\",\"$L10\",null,{\"attribute\":\"class\",\"defaultTheme\":\"system\",\"enableSystem\":true,\"disableTransitionOnChange\":true,\"children\":[\"$\",\"$Ld\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Lf\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[]}]}]}]}]],null],null],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$L11\"],\"globalErrorComponent\":\"$12\",\"missingSlots\":\"$W13\"}]\n"])</script><script>self.__next_f.push([1,"11:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"Introduction to Embedded Systems and FreeRTOS | Matthieu GUYOT\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"Overview of embedded systems, their hardware/software components, and the use of FreeRTOS kernel for real-time task management.\"}],[\"$\",\"meta\",\"4\",{\"name\":\"generator\",\"content\":\"v0.dev\"}],[\"$\",\"meta\",\"5\",{\"name\":\"next-size-adjust\"}]]\n4:null\n"])</script></body></html>